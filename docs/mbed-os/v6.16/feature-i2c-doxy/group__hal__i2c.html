<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/feature-i2c-doxy/group__hal__i2c.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:58:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | I2C hal</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="group__hal__i2c.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/feature-i2c-doxy/group__hal__i2c.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/feature-i2c-doxy/group__hal__i2c.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> |
<a href="#nested-classes">Data Structures</a> |
<a href="#typedef-members">Typedefs</a> |
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">I2C hal<div class="ingroups"><a class="el" href="group__hal.html">Hal</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The I2C hal provides a low level interface to the I2C interface of a target.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__hal__i2c__tests"><td align="right" class="memItemLeft" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__i2c__tests.html">I2C hal tests</a></td></tr>
<tr class="memdesc:group__hal__i2c__tests"><td class="mdescLeft"> </td><td class="mdescRight">The I2C test validate proper implementation of the I2C hal. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:group__hal___i2_c_events"><td align="right" class="memItemLeft" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___i2_c_events.html">I2C Events Macros</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:group__hal___general_i2_c"><td align="right" class="memItemLeft" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html">I2C Configuration Functions</a></td></tr>
<tr class="memdesc:group__hal___general_i2_c"><td class="mdescLeft"> </td><td class="mdescRight"><h1>Defined behavior</h1>
<br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:group___synch_i2_c"><td align="right" class="memItemLeft" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="group___synch_i2_c.html">Synchronous I2C Hardware Abstraction Layer for slave</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:group__hal___asynch_i2_c"><td align="right" class="memItemLeft" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___asynch_i2_c.html">Asynchronous I2C Hardware Abstraction Layer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct  </td><td class="memItemRight" valign="bottom"><a class="el" href="structi2c__async__event.html">i2c_async_event</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft"> </td><td class="mdescRight">Structure describing the status of async transfer.  <a href="structi2c__async__event.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct  </td><td class="memItemRight" valign="bottom"><a class="el" href="structi2c.html">i2c</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft"> </td><td class="mdescRight">I2C HAL structure.  <a href="structi2c.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct  </td><td class="memItemRight" valign="bottom"><a class="el" href="structi2c__capabilities__t.html">i2c_capabilities_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga7377c4625ceab6614f3277ba34e630c6"><td align="right" class="memItemLeft" valign="top">typedef struct <a class="el" href="structi2c__async__event.html">i2c_async_event</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__i2c.html#ga7377c4625ceab6614f3277ba34e630c6">i2c_async_event_t</a></td></tr>
<tr class="memdesc:ga7377c4625ceab6614f3277ba34e630c6"><td class="mdescLeft"> </td><td class="mdescRight">Structure describing the status of async transfer.  <a href="#ga7377c4625ceab6614f3277ba34e630c6">More...</a><br/></td></tr>
<tr class="separator:ga7377c4625ceab6614f3277ba34e630c6"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gaf7509dabc4863aa91678b5d1858b4853"><td align="right" class="memItemLeft" valign="top">typedef void(* </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__i2c.html#gaf7509dabc4863aa91678b5d1858b4853">i2c_async_handler_f</a>) (<a class="el" href="structi2c.html">i2c_t</a> *obj, <a class="el" href="group__hal__i2c.html#ga7377c4625ceab6614f3277ba34e630c6">i2c_async_event_t</a> *event, void *ctx)</td></tr>
<tr class="memdesc:gaf7509dabc4863aa91678b5d1858b4853"><td class="mdescLeft"> </td><td class="mdescRight">Asynchronous transfer callback.  <a href="#gaf7509dabc4863aa91678b5d1858b4853">More...</a><br/></td></tr>
<tr class="separator:gaf7509dabc4863aa91678b5d1858b4853"><td class="memSeparator" colspan="2"> </td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</tbody></table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The I2C hal provides a low level interface to the I2C interface of a target. </p>
<h1>Defined behavior</h1>
<ul>
<li>The function <a class="el" href="group__hal___general_i2_c.html#ga6c338f490a4e0933cb3e6bb88a0a950a" title="Initialize the I2C peripheral. ">i2c_init</a> initializes the peripheral pins specified in the input parameters, initializes the peripheral in master mode if <code>is_slave</code> is false, initializes the peripheral in slave mode if <code>is_slave</code> is true and <code>supports_slave_mode</code> is true - Verified by test <a class="el" href="group__hal__i2c__tests.html#gac608f2ad2ef63aa0517a4b66e4c21f34" title="Test that i2c_init() successfully initializes and i2c_free() successfully frees i2c interface...">fpga_i2c_test_init_free</a>.</li>
<li>The function <a class="el" href="group__hal___general_i2_c.html#gae70b0ff68f4c598cb48cb5c3a50a2cba" title="Release the I2C object. ">i2c_free</a> resets the pins used to initialize the peripheral to their default state and disables the peripheral clock - Verified by test <a class="el" href="group__hal__i2c__tests.html#gac608f2ad2ef63aa0517a4b66e4c21f34" title="Test that i2c_init() successfully initializes and i2c_free() successfully frees i2c interface...">fpga_i2c_test_init_free</a>.</li>
<li>The function <a class="el" href="group__hal___general_i2_c.html#ga3c774d870d5358ed543002bcbb86a584" title="Fills structure indicating supported features and frequencies on the current platform. ">i2c_get_capabilities</a> fills the contents of the <code><a class="el" href="structi2c__capabilities__t.html">i2c_capabilities_t</a></code> parameter - Verified by test <a class="el" href="group__hal__i2c__tests.html#ga6467bbf2c47fd13a65d614ff4b91ff2b" title="Test that i2c_get_capabilities() fills given i2c_capabilities_t instance with capabilities. ">fpga_i2c_test_get_capabilities</a>.</li>
<li>The function <a class="el" href="group__hal___general_i2_c.html#gad19ba573c066dd9560d145399cf46ac8" title="Configure the frequency in Hz at which the I2C peripheral should operate. ">i2c_frequency</a> sets the frequency to use for the transfer, returns the actual frequency used and must leave all other configuration unchanged - Verified by test <a class="el" href="group__hal__i2c__tests.html#gaed9c85b950b9bc3ac75b158743bd3894" title="Test that i2c_frequency() sets the frequency used during the I2C transfer. ">fpga_i2c_test_frequency</a>.</li>
<li>The function <a class="el" href="group__hal___general_i2_c.html#ga970c13b7db4b73b457b12b707a53fa3a" title="Configure the timeout duration in microseconds for blocking transmission. ">i2c_timeout</a> sets the transmision timeout to use for the following blocking transfers. If the timeout is not set, the default timeout is used. The default timeout value is based on I2C frequency. It's computed as triple the amount of time it would take to send data over I2C - Verified by test <a class="el" href="group__hal__i2c__tests.html#ga43a82466030a3600dc0e6c99cc7d8d55" title="Test blocking transmission timeout. ">fpga_i2c_test_blocking_transmission_timeout</a>.</li>
<li>The function <a class="el" href="group__hal___general_i2_c.html#ga4729a42e83ca77662f432466f28c81e0" title="Blocking sending data. ">i2c_write</a> writes <code>length</code> number of symbols to the bus, returns the number of symbols sent to the bus, returns an error code if the transfer fails, generates a stop condition on the bus at the end of the transfer if <code>stop</code> parameter is true, and handles transfer collisions and loss of arbitration if the platform supports multimaster in hardware. The transfer times out and returns <code>I2C_ERROR_TIMEOUT</code> if the transfer takes longer than the configured timeout duration - Verified by test <a class="el" href="group__hal__i2c__tests.html#ga62feb0c0cfd4c2614c81fbb58d7f6ea5" title="Test blocking transmission. ">fpga_i2c_test_blocking_write_read</a>.</li>
<li>The function <a class="el" href="group__hal___general_i2_c.html#gace6a9adfda3af19be188b3988ca414f4" title="Blocking reading data. ">i2c_read</a> reads <code>length</code> symbols from the bus, returns the number of symbols received from the bus, returns an error code if the transfer fails, generates a stop condition on the bus at the end of the transfer if <code>stop</code> parameter is true and handles transfer collisions and loss of arbitration if the platform supports multimaster in hardware. The transfer times out and returns <code>I2C_ERROR_TIMEOUT</code> if the transfer takes longer than the configured timeout duration - Verified by test <a class="el" href="group__hal__i2c__tests.html#ga62feb0c0cfd4c2614c81fbb58d7f6ea5" title="Test blocking transmission. ">fpga_i2c_test_blocking_write_read</a>.</li>
<li>The function <a class="el" href="group__hal___general_i2_c.html#gaef06e7ceb299a5e9a3124f56809d6f4e" title="Send START command. ">i2c_start</a> generates I2C START condition on the bus in master mode and does nothing if called when the peripheral is configured in slave mode.</li>
<li>The function <a class="el" href="group__hal___general_i2_c.html#ga5b9347e49adc776fa5b9edd542155c43" title="Send STOP command. ">i2c_stop</a> generates I2C STOP condition on the bus in master mode and does nothing if called when the peripheral is configured in slave mode</li>
<li>Verified by test <a class="el" href="group__hal__i2c__tests.html#ga62feb0c0cfd4c2614c81fbb58d7f6ea5" title="Test blocking transmission. ">fpga_i2c_test_blocking_write_read</a> <a class="el" href="group__hal__i2c__tests.html#gaebc1ffac34312b667d78aa43a9e6751d" title="Test asynchronous transmission. ">fpga_i2c_test_async_write_read</a>.</li>
<li>The function <a class="el" href="group___synch_i2_c.html#ga4d459bcbf0b1a62e18b97b3019af7009" title="Check to see if the I2C slave has been addressed. ">i2c_slave_status</a> indicates which mode the peripheral has been addressed in and returns not addressed when called in master mode.</li>
<li>The function <a class="el" href="group___synch_i2_c.html#gaf072f739346f895d3f974c3224b58bb2" title="Configure I2C address. ">i2c_slave_address</a> sets the address of the peripheral to the <code>address</code> parameter and does nothing if called in master mode.</li>
<li>The function <a class="el" href="group__hal___asynch_i2_c.html#ga154961837fe4d67304784b87c08f5912" title="Start I2C asynchronous transfer. ">i2c_transfer_async</a> returns immediately with a <code>bool</code> indicating whether the transfer was successfully scheduled. The callback given to <code>i2c_transfer_async</code> is invoked when the transfer finishes or an error occurs and must save the handler and context pointers inside the <code>obj</code> pointer. The context pointer is passed to the callback on transfer completion. The callback must be invoked on completion unless the transfer is aborted and may handle transfer collisions and loss of arbitration if the platform supports multimaster in hardware and enabled in API. <code>i2c_async_event_t</code> must be filled with the number of symbols sent to the bus during transfer - Verified by test <a class="el" href="group__hal__i2c__tests.html#gaebc1ffac34312b667d78aa43a9e6751d" title="Test asynchronous transmission. ">fpga_i2c_test_async_write_read</a>.</li>
<li>The function <a class="el" href="group__hal___asynch_i2_c.html#ga56bd05e76a0a724884c8edac7eaf946a" title="Abort asynchronous transfer. ">i2c_abort_async</a> aborts any ongoing async transfers - Verified by test <a class="el" href="group__hal__i2c__tests.html#ga89fee6f814c84bb0949b09c280bea9c2" title="Test that  call aborts ongoing asynchronous transfer. ">fpga_i2c_test_async_abort</a>.</li>
</ul>
<h1>Undefined behaviors</h1>
<ul>
<li>Use of a <code>null</code> pointer as an argument to any function.</li>
<li>Calling any <code>I2C</code> function before calling <a class="el" href="group__hal___general_i2_c.html#ga6c338f490a4e0933cb3e6bb88a0a950a" title="Initialize the I2C peripheral. ">i2c_init</a> or after calling <a class="el" href="group__hal___general_i2_c.html#gae70b0ff68f4c598cb48cb5c3a50a2cba" title="Release the I2C object. ">i2c_free</a>.</li>
<li>Initializing the <code>I2C</code> peripheral with invalid <code>SDA</code> and <code>SCL</code> pins.</li>
<li>Initializing the peripheral in slave mode if slave mode is not supported, indicated by <a class="el" href="group__hal___general_i2_c.html#ga3c774d870d5358ed543002bcbb86a584" title="Fills structure indicating supported features and frequencies on the current platform. ">i2c_get_capabilities</a>.</li>
<li>Operating the peripheral in slave mode without first specifying an address using <a class="el" href="group___synch_i2_c.html#gaf072f739346f895d3f974c3224b58bb2" title="Configure I2C address. ">i2c_slave_address</a>.</li>
<li>Setting an address using i2c_slave_address after initializing the peripheral in master mode.</li>
<li>Setting an address to an <code>I2C</code> reserved value.</li>
<li>Setting an address larger than the 7-bit supported maximum if 10-bit addressing is not supported.</li>
<li>Setting an address larger than the 10-bit supported maximum.</li>
<li>Setting a frequency outside the supported range given by <a class="el" href="group__hal___general_i2_c.html#ga3c774d870d5358ed543002bcbb86a584" title="Fills structure indicating supported features and frequencies on the current platform. ">i2c_get_capabilities</a>.</li>
<li>Using the device in a multimaster configuration when <code>supports_multimaster_mode</code> is false.</li>
<li>Specifying an invalid address when calling any <code>read</code> or <code>write</code> functions.</li>
<li>Setting the length of the transfer or receive buffers to larger than the buffers are.</li>
<li>Passing an invalid pointer as <code>handler</code> to <a class="el" href="group__hal___asynch_i2_c.html#ga154961837fe4d67304784b87c08f5912" title="Start I2C asynchronous transfer. ">i2c_transfer_async</a>.</li>
<li>Calling <a class="el" href="group__hal___asynch_i2_c.html#ga56bd05e76a0a724884c8edac7eaf946a" title="Abort asynchronous transfer. ">i2c_abort_async</a> when no transfer is in progress. </li>
</ul>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga7377c4625ceab6614f3277ba34e630c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">typedef struct <a class="el" href="structi2c__async__event.html">i2c_async_event</a>  <a class="el" href="group__hal__i2c.html#ga7377c4625ceab6614f3277ba34e630c6">i2c_async_event_t</a></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Structure describing the status of async transfer. </p>

</div>
</div>
<a class="anchor" id="gaf7509dabc4863aa91678b5d1858b4853"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">typedef void(* i2c_async_handler_f) (<a class="el" href="structi2c.html">i2c_t</a> *obj, <a class="el" href="group__hal__i2c.html#ga7377c4625ceab6614f3277ba34e630c6">i2c_async_event_t</a> *event, void *ctx)</td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Asynchronous transfer callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object </td></tr>
    <tr><td class="paramname">event</td><td>Pointer to the event holding async transfer status </td></tr>
    <tr><td class="paramname">ctx</td><td>The context pointer</td></tr>
  </tbody></table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Callback is invoked when async transfer completes or when an error is detected. </dd></dl>

<p>Definition at line <a class="el" href="i2c__api_8h_source.html#l00142">142</a> of file <a class="el" href="i2c__api_8h_source.html">i2c_api.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga394b3903fbf00ba2b6243f60689a5a5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Transmission error codes. </p>

<p>Definition at line <a class="el" href="i2c__api_8h_source.html#l00157">157</a> of file <a class="el" href="i2c__api_8h_source.html">i2c_api.h</a>.</p>

</div>
</div>
</div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/feature-i2c-doxy/group__hal__i2c.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:58:48 GMT -->
</html>
