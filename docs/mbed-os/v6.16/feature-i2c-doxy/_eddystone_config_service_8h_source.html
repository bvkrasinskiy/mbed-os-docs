<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/feature-i2c-doxy/_eddystone_config_service_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 16:06:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | EddystoneConfigService.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="_eddystone_config_service_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/feature-i2c-doxy/_eddystone_config_service_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/feature-i2c-doxy/_eddystone_config_service_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_c6fb7cfc6dd92a7f08bce53368056667.html">features</a></li><li class="navelem"><a class="el" href="dir_1a2cb981a250e98ade62842b93f3d73b.html">FEATURE_BLE</a></li><li class="navelem"><a class="el" href="dir_f2373152d1a0b7cee2b02bcb5bbf4ab6.html">ble</a></li><li class="navelem"><a class="el" href="dir_ef79cc37b5799a2accd9c74168428e00.html">services</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">EddystoneConfigService.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment">/* mbed Microcontroller Library</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment"> * Copyright (c) 2006-2013 ARM Limited</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment"> * Licensed under the Apache License, Version 2.0 (the "License");</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> <span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> <span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment"> * distributed under the License is distributed on an "AS IS" BASIS,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment"> */</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> </div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> <span class="preprocessor">#ifndef SERVICES_EDDYSTONE_BEACON_CONFIG_SERVICE_H_</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> <span class="preprocessor">#define SERVICES_EDDYSTONE_BEACON_CONFIG_SERVICE_H_</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> </div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> <span class="preprocessor">#warning ble/services/EddystoneConfigService.h is deprecated. Please use the example in 'github.com/ARMmbed/ble-examples/tree/master/BLE_EddystoneService'.</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> </div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="preprocessor">#if BLE_FEATURE_GATT_SERVER</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> </div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="preprocessor">#include "ble/BLE.h"</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> <span class="preprocessor">#include "ble/services/EddystoneService.h"</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> <span class="preprocessor">#include "Timer.h"</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> <span class="preprocessor">#include "Ticker.h"</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> </div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> <span class="preprocessor">#define UUID_URI_BEACON(FIRST, SECOND) {                         \</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="preprocessor">        0xee, 0x0c, FIRST, SECOND, 0x87, 0x86, 0x40, 0xba,       \</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> <span class="preprocessor">        0xab, 0x96, 0x99, 0xb9, 0x1a, 0xc9, 0x81, 0xd8,          \</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="preprocessor">}</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> </div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_URI_BEACON_SERVICE[]    = UUID_URI_BEACON(0x20, 0x80);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_LOCK_STATE_CHAR[]       = UUID_URI_BEACON(0x20, 0x81);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_LOCK_CHAR[]             = UUID_URI_BEACON(0x20, 0x82);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_UNLOCK_CHAR[]           = UUID_URI_BEACON(0x20, 0x83);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_URI_DATA_CHAR[]         = UUID_URI_BEACON(0x20, 0x84);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_FLAGS_CHAR[]            = UUID_URI_BEACON(0x20, 0x85);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_ADV_POWER_LEVELS_CHAR[] = UUID_URI_BEACON(0x20, 0x86);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_TX_POWER_MODE_CHAR[]    = UUID_URI_BEACON(0x20, 0x87);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_BEACON_PERIOD_CHAR[]    = UUID_URI_BEACON(0x20, 0x88);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span> <span class="keyword">static</span> <span class="keyword">const</span> uint8_t UUID_RESET_CHAR[]            = UUID_URI_BEACON(0x20, 0x89);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> <span class="keyword">extern</span> <span class="keyword">const</span> uint8_t BEACON_EDDYSTONE[2];</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> <span class="comment"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> <span class="comment">/**</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span> <span class="comment">* @class EddystoneConfigService</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span> <span class="comment">* @brief Eddystone Configuration Service. Used to set URL, adjust power levels, and set flags.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span> <span class="comment">* See https://github.com/google/eddystone</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span> <span class="comment">*</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> <span class="comment">*/</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="class_eddystone_config_service.html">   52</a></span> <span class="keyword">class </span><a class="code" href="class_eddystone_config_service.html">EddystoneConfigService</a></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span> <span class="comment">    /**</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span> <span class="comment">     * @brief Transmission Power Modes for UriBeacon</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span> <span class="comment">     */</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>     <span class="keyword">enum</span> {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>         TX_POWER_MODE_LOWEST,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>         TX_POWER_MODE_LOW,</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>         TX_POWER_MODE_MEDIUM,</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>         TX_POWER_MODE_HIGH,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>         NUM_POWER_MODES</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>     };</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span> </div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> ADVERTISING_INTERVAL_MSEC = 1000; <span class="comment">// Advertising interval for config service.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> SERVICE_DATA_MAX          = 31;   <span class="comment">// Maximum size of service data in ADV packets.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span> </div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>     <span class="keyword">typedef</span> uint8_t Lock_t[16];                             <span class="comment">/* 128 bits. */</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>     <span class="keyword">typedef</span> int8_t PowerLevels_t[NUM_POWER_MODES];</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> </div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>     <span class="comment">// There are currently three subframes defined: URI, UID, and TLM.</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span> <span class="preprocessor">#define EDDYSTONE_MAX_FRAMETYPE 3</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> URI_DATA_MAX = 18;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>     <span class="keyword">typedef</span> uint8_t UriData_t[URI_DATA_MAX];</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span> </div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>     <span class="comment">// UID Frame Type subfields.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> UID_NAMESPACEID_SIZE = 10;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>     <span class="keyword">typedef</span> uint8_t UIDNamespaceID_t[UID_NAMESPACEID_SIZE];</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> UID_INSTANCEID_SIZE = 6;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>     <span class="keyword">typedef</span> uint8_t UIDInstanceID_t[UID_INSTANCEID_SIZE];</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span> </div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>     <span class="comment">// Eddystone Frame Type ID.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t FRAME_TYPE_UID = 0x00;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t FRAME_TYPE_URL = 0x10;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t FRAME_TYPE_TLM = 0x20;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> </div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t FRAME_SIZE_TLM = 14; <span class="comment">// TLM frame is a constant 14B.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t FRAME_SIZE_UID = 20; <span class="comment">// includes RFU bytes.</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span> </div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="struct_eddystone_config_service_1_1_params__t.html">   91</a></span>     <span class="keyword">struct </span><a class="code" href="struct_eddystone_config_service_1_1_params__t.html">Params_t</a> {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>         <span class="comment">// Config Data</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>         <span class="keywordtype">bool</span>             isConfigured; <span class="comment">// Flag for configuration being complete:</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>                                        <span class="comment">//   True = configured, False = not configured. Reset at instantiation, used for external callbacks.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>         uint8_t          lockedState;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>         Lock_t           lock;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>         uint8_t          flags;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>         PowerLevels_t    advPowerLevels;  <span class="comment">// Current value of AdvertisedPowerLevels.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>         uint8_t          txPowerMode;     <span class="comment">// Firmware power levels used with setTxPower().</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>         uint16_t         beaconPeriod;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>         <span class="comment">// TLM Frame Data</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>         uint8_t          tlmVersion;      <span class="comment">// Version of TLM packet.</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>         <span class="keywordtype">bool</span>             tlmEnabled;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>         <span class="keywordtype">float</span>            tlmBeaconPeriod; <span class="comment">// How often to broadcat TLM frame, in seconds.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>         <span class="comment">// URI Frame Data</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>         uint8_t          uriDataLength;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>         UriData_t        uriData;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>         <span class="keywordtype">bool</span>             uriEnabled;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>         <span class="keywordtype">float</span>            uriBeaconPeriod; <span class="comment">// How often to broadcast URIFrame, in seconds.</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>         <span class="comment">// UID Frame Data</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>         UIDNamespaceID_t uidNamespaceID;  <span class="comment">// UUID type, Namespace ID, 10B.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>         UIDInstanceID_t  uidInstanceID;   <span class="comment">// UUID type, Instance ID, 6B.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>         <span class="keywordtype">bool</span>             uidEnabled;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>         <span class="keywordtype">float</span>            uidBeaconPeriod; <span class="comment">// How often to broadcast UID Frame, in seconds.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>     };</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span> <span class="comment"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span> <span class="comment">    /**</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span> <span class="comment">     * @param[in]    bleIn</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span> <span class="comment">     *                    BLEDevice object for the underlying controller.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span> <span class="comment">     * @param[in,out] paramsIn</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span> <span class="comment">     *                    Reference to application-visible beacon state, loaded</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span> <span class="comment">     *                    from persistent storage at startup.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span> <span class="comment">     * @param[in]     defaultAdvPowerLevelsIn</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span> <span class="comment">     *                    Default power-levels array; applies only if resetToDefaultsFlag is true.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span> <span class="comment">     *</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span> <span class="comment">     * @param[in]     radioPowerLevelsIn</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span> <span class="comment">     *                    Transmission power-levels to use in TX.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span> <span class="comment">     */</span></div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="class_eddystone_config_service.html#a60c47319a6b92ec0ad79c9e91d05ac81">  129</a></span>     <a class="code" href="class_eddystone_config_service.html#a60c47319a6b92ec0ad79c9e91d05ac81">EddystoneConfigService</a>(<a class="code" href="class_b_l_e.html">BLEDevice</a>     &amp;bleIn,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>                            <a class="code" href="struct_eddystone_config_service_1_1_params__t.html">Params_t</a>      &amp;paramsIn,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>                            PowerLevels_t &amp;defaultAdvPowerLevelsIn,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>                            PowerLevels_t &amp;radioPowerLevelsIn) :</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>         <a class="code" href="namespaceble.html">ble</a>(bleIn),</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>         params(paramsIn),       <span class="comment">// Initialize URL data.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>         defaultAdvPowerLevels(defaultAdvPowerLevelsIn),</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>         radioPowerLevels(radioPowerLevelsIn),</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>         initSucceeded(false),</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>         resetFlag(),</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>         defaultUidNamespaceID(), <span class="comment">// Initialize UID data.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>         defaultUidInstanceID(),</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>         defaultUidPower(defaultAdvPowerLevelsIn[params.txPowerMode]),</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>         uidIsSet(false),</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>         defaultUriDataLength(),</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>         defaultUriData(),</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>         defaultUrlPower(defaultAdvPowerLevelsIn[params.txPowerMode]),</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>         urlIsSet(false),</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>         tlmIsSet(false),</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>         lockedStateChar(UUID_LOCK_STATE_CHAR, &amp;params.lockedState),</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>         lockChar(UUID_LOCK_CHAR, &amp;params.lock),</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>         uriDataChar(UUID_URI_DATA_CHAR, params.uriData, 0, URI_DATA_MAX,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>                     <a class="code" href="class_gatt_characteristic.html">GattCharacteristic</a>::BLE_GATT_CHAR_PROPERTIES_READ | <a class="code" href="class_gatt_characteristic.html">GattCharacteristic</a>::BLE_GATT_CHAR_PROPERTIES_WRITE),</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>         unlockChar(UUID_UNLOCK_CHAR, &amp;params.lock),</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>         flagsChar(UUID_FLAGS_CHAR, &amp;params.flags),</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>         advPowerLevelsChar(UUID_ADV_POWER_LEVELS_CHAR, &amp;params.advPowerLevels),</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>         txPowerModeChar(UUID_TX_POWER_MODE_CHAR, &amp;params.txPowerMode),</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>         beaconPeriodChar(UUID_BEACON_PERIOD_CHAR, &amp;params.beaconPeriod),</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>         resetChar(UUID_RESET_CHAR, &amp;resetFlag) {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>         <span class="comment">// Set Eddystone as not configured yet. Used to exit config before timeout if GATT services are written to.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>         params.isConfigured = <span class="keyword">false</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span> </div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>         lockChar.setWriteAuthorizationCallback(<span class="keyword">this</span>, &amp;EddystoneConfigService::lockAuthorizationCallback);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>         unlockChar.setWriteAuthorizationCallback(<span class="keyword">this</span>, &amp;EddystoneConfigService::unlockAuthorizationCallback);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>         uriDataChar.setWriteAuthorizationCallback(<span class="keyword">this</span>, &amp;EddystoneConfigService::uriDataWriteAuthorizationCallback);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>         flagsChar.setWriteAuthorizationCallback(<span class="keyword">this</span>, &amp;EddystoneConfigService::basicAuthorizationCallback&lt;uint8_t&gt;);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>         advPowerLevelsChar.setWriteAuthorizationCallback(<span class="keyword">this</span>, &amp;EddystoneConfigService::basicAuthorizationCallback&lt;PowerLevels_t&gt;);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>         txPowerModeChar.setWriteAuthorizationCallback(<span class="keyword">this</span>, &amp;EddystoneConfigService::powerModeAuthorizationCallback);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>         beaconPeriodChar.setWriteAuthorizationCallback(<span class="keyword">this</span>, &amp;EddystoneConfigService::basicAuthorizationCallback&lt;uint16_t&gt;);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>         resetChar.setWriteAuthorizationCallback(<span class="keyword">this</span>, &amp;EddystoneConfigService::basicAuthorizationCallback&lt;uint8_t&gt;);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span> </div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>         <span class="keyword">static</span> <a class="code" href="class_gatt_characteristic.html">GattCharacteristic</a> *charTable[] = {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>             &amp;lockedStateChar, &amp;lockChar, &amp;unlockChar, &amp;uriDataChar,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>             &amp;flagsChar, &amp;advPowerLevelsChar, &amp;txPowerModeChar, &amp;beaconPeriodChar, &amp;resetChar</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>         };</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span> </div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>         <a class="code" href="class_gatt_service.html">GattService</a> configService(UUID_URI_BEACON_SERVICE, charTable, <span class="keyword">sizeof</span>(charTable) / <span class="keyword">sizeof</span>(<a class="code" href="class_gatt_characteristic.html">GattCharacteristic</a> *));</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span> </div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>         <a class="code" href="namespaceble.html">ble</a>.addService(configService);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>         <a class="code" href="namespaceble.html">ble</a>.onDataWritten(<span class="keyword">this</span>, &amp;EddystoneConfigService::onDataWrittenCallback);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>     }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span> <span class="comment"></span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span> <span class="comment">    /**</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span> <span class="comment">     * @brief Start EddystoneConfig advertising. This function should be called</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span> <span class="comment">     * after the EddystoneConfig constructor and after all the frames have been added.</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span> <span class="comment">     *</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span> <span class="comment">     * @param[in]   resetToDefaultsFlag</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span> <span class="comment">     *                    Applies to the state of the 'paramsIn' parameter.</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span> <span class="comment">     *                    If true, it indicates that paramsIn is potentially</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span> <span class="comment">     *                    un-initialized, and default values should be used</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span> <span class="comment">     *                    instead. Otherwise, paramsIn overrides the defaults.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> <span class="comment">     */</span></div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="class_eddystone_config_service.html#a14fde200067f382d71871f6264a23753">  191</a></span>     <span class="keywordtype">void</span> <a class="code" href="class_eddystone_config_service.html#a14fde200067f382d71871f6264a23753">start</a>(<span class="keywordtype">bool</span> resetToDefaultsFlag){</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>         INFO(<span class="stringliteral">"reset to defaults flag = %d"</span>, resetToDefaultsFlag);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>         <span class="keywordflow">if</span> (!resetToDefaultsFlag &amp;&amp; (params.uriDataLength &gt; URI_DATA_MAX)) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>             INFO(<span class="stringliteral">"Reset to Defaults triggered"</span>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>             resetToDefaultsFlag = <span class="keyword">true</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>         }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span> </div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>         <span class="keywordflow">if</span> (resetToDefaultsFlag) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>             resetToDefaults();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>             updateCharacteristicValues();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>         }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span> </div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>         setupEddystoneConfigAdvertisements(); <span class="comment">/* Set up advertising for the config service. */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>         initSucceeded = <span class="keyword">true</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>     }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span> </div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>     <span class="comment">/*</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span> <span class="comment">    * Check if Eddystone initialized successfully.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span> <span class="comment">    */</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>     <span class="keywordtype">bool</span> initSuccessfully(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>         <span class="keywordflow">return</span> initSucceeded;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>     }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span> </div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>     <span class="comment">/*</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span> <span class="comment">    * @brief Function to update the default values for the TLM frame. Only applied if Reset Defaults is applied.</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span> <span class="comment">    *</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span> <span class="comment">    * @param[in] tlmVersionIn     Version of the TLM frame being used.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span> <span class="comment">    * @param[in] advPeriodInMin How long between TLM frames being advertised, measured in minutes.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span> <span class="comment">    *</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span> <span class="comment">    */</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>     <span class="keywordtype">void</span> setDefaultTLMFrameData(uint8_t tlmVersionIn = 0, <span class="keywordtype">float</span> advPeriodInSec = 60){</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>         DBG(<span class="stringliteral">"Setting Default TLM Data, version = %d, advPeriodInMind= %f"</span>, tlmVersionIn, advPeriodInSec);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>         defaultTlmVersion   = tlmVersionIn;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>         TlmBatteryVoltage   = 0;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>         TlmBeaconTemp       = 0x8000;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>         TlmPduCount         = 0;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>         TlmTimeSinceBoot    = 0;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>         defaultTlmAdvPeriod = advPeriodInSec;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>         tlmIsSet            = <span class="keyword">true</span>; <span class="comment">// Flag to add this to Eddystone service when config is done.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>     }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span> </div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>     <span class="comment">/*</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span> <span class="comment">    * @brief Function to update the default values for the URI frame. Only applied if Reset Defaults is applied.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span> <span class="comment">    *</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span> <span class="comment">    * @param[in] uriIn      URL to advertise.</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span> <span class="comment">    * @param[in] advPeriod  How long to advertise the URL, measured in number of ADV frames.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span> <span class="comment">    *</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span> <span class="comment">    */</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>     <span class="keywordtype">void</span> setDefaultURIFrameData(<span class="keyword">const</span> <span class="keywordtype">char</span> *uriIn, <span class="keywordtype">float</span> advPeriod = 1){</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>         DBG(<span class="stringliteral">"Setting Default URI Data"</span>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>         <span class="comment">// Set URL Frame</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>         EddystoneService::encodeURL(uriIn, defaultUriData, defaultUriDataLength);   <span class="comment">// Encode URL to URL Formatting.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>         <span class="keywordflow">if</span> (defaultUriDataLength &gt; URI_DATA_MAX) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>         }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>         INFO(<span class="stringliteral">"\t  URI input = %s : %d"</span>, uriIn, defaultUriDataLength);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>         INFO(<span class="stringliteral">"\t default URI = %s : %d "</span>, defaultUriData, defaultUriDataLength );</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>         defaultUriAdvPeriod = advPeriod;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>         urlIsSet            = <span class="keyword">true</span>; <span class="comment">// Flag to add this to Eddystone service when config is done.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>     }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span> </div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>     <span class="comment">/*</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="comment">    * @brief Function to update the default values for the UID frame. Only applied if Reset Defaults is applied.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span> <span class="comment">    *</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span> <span class="comment">    * @param[in] namespaceID 10Byte Namespace ID.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span> <span class="comment">    * @param[in] instanceID  6Byte Instance ID.</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span> <span class="comment">    * @param[in] advPeriod   How long to advertise the URL, measured in the number of ADV frames.</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span> <span class="comment">    *</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="comment">    */</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>     <span class="keywordtype">void</span> setDefaultUIDFrameData(UIDNamespaceID_t *namespaceID, UIDInstanceID_t *instanceID, <span class="keywordtype">float</span> advPeriod = 10){</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>         <span class="comment">//Set UID frame</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>         DBG(<span class="stringliteral">"Setting default UID Data"</span>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>         memcpy(defaultUidNamespaceID, namespaceID, UID_NAMESPACEID_SIZE);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>         memcpy(defaultUidInstanceID,  instanceID,  UID_INSTANCEID_SIZE);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>         defaultUidAdvPeriod = advPeriod;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>         uidIsSet            = <span class="keyword">true</span>; <span class="comment">// Flag to add this to Eddystone service when config is done.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>     }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span> </div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>     <span class="comment">/* Start out by advertising the config service for a limited time after</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span> <span class="comment">     * startup, then switch to the normal non-connectible beacon functionality.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span> <span class="comment">     */</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>     <span class="keywordtype">void</span> setupEddystoneConfigAdvertisements() {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>         <span class="keyword">const</span> <span class="keywordtype">char</span> DEVICE_NAME[] = <span class="stringliteral">"eddystone Config"</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span> </div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>         <a class="code" href="namespaceble.html">ble</a>.clearAdvertisingPayload();</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span> </div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>         <a class="code" href="namespaceble.html">ble</a>.accumulateAdvertisingPayload(<a class="code" href="class_gap_advertising_data.html#abe0b91dbb659e81f3b449d2998e40348a975a2f52c81fe7cd2fcbca15e61275f9">GapAdvertisingData::BREDR_NOT_SUPPORTED</a> | <a class="code" href="class_gap_advertising_data.html#abe0b91dbb659e81f3b449d2998e40348a4fd0c5b75295064abb7fbfca0a2fb449">GapAdvertisingData::LE_GENERAL_DISCOVERABLE</a>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span> </div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>         <span class="comment">// UUID is in a different order in the ADV frame (!)</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>         uint8_t reversedServiceUUID[<span class="keyword">sizeof</span>(UUID_URI_BEACON_SERVICE)];</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <span class="keyword">sizeof</span>(UUID_URI_BEACON_SERVICE); i++) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>             reversedServiceUUID[i] = UUID_URI_BEACON_SERVICE[<span class="keyword">sizeof</span>(UUID_URI_BEACON_SERVICE) - i - 1];</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>         }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>         <a class="code" href="namespaceble.html">ble</a>.accumulateAdvertisingPayload(<a class="code" href="class_gap_advertising_data.html#a405dc77179a4a9e1c6ad0a6d252bebaea1973630c6d330bf98230184056003e0b">GapAdvertisingData::COMPLETE_LIST_128BIT_SERVICE_IDS</a>, reversedServiceUUID, <span class="keyword">sizeof</span>(reversedServiceUUID));</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>         <a class="code" href="namespaceble.html">ble</a>.accumulateAdvertisingPayload(<a class="code" href="class_gap_advertising_data.html#aed6c798067b66e71349357daf02e5be3a76f9ca89769eb1b9906ee8ac2f291239">GapAdvertisingData::GENERIC_TAG</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>         <a class="code" href="namespaceble.html">ble</a>.accumulateScanResponse(<a class="code" href="class_gap_advertising_data.html#a405dc77179a4a9e1c6ad0a6d252bebaea41ea4cc6b7e734fb39b5c953875150e1">GapAdvertisingData::COMPLETE_LOCAL_NAME</a>, reinterpret_cast&lt;const uint8_t *&gt;(&amp;DEVICE_NAME), <span class="keyword">sizeof</span>(DEVICE_NAME));</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>         <a class="code" href="namespaceble.html">ble</a>.accumulateScanResponse(</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>             <a class="code" href="class_gap_advertising_data.html#a405dc77179a4a9e1c6ad0a6d252bebaea9dba6e221da9e2b7054f5d699cfec459">GapAdvertisingData::TX_POWER_LEVEL</a>,</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>             reinterpret_cast&lt;uint8_t *&gt;(&amp;defaultAdvPowerLevels[EddystoneConfigService::TX_POWER_MODE_LOW]),</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>             <span class="keyword">sizeof</span>(uint8_t));</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span> </div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>         <a class="code" href="namespaceble.html">ble</a>.setTxPower(radioPowerLevels[params.txPowerMode]);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>         <a class="code" href="namespaceble.html">ble</a>.setDeviceName(reinterpret_cast&lt;const uint8_t *&gt;(&amp;DEVICE_NAME));</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>         <a class="code" href="namespaceble.html">ble</a>.setAdvertisingType(<a class="code" href="class_gap_advertising_params.html#acfe66037253250a26c0ca0aef21b9b8ca4d113e0018db2222571ffa0a22ec95b5">GapAdvertisingParams::ADV_CONNECTABLE_UNDIRECTED</a>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>         <a class="code" href="namespaceble.html">ble</a>.setAdvertisingInterval(ADVERTISING_INTERVAL_MSEC);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>     }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span> </div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>     <span class="comment">/*</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span> <span class="comment">    *   This function actually impliments the Eddystone Beacon service. It can be called with the help of the wrapper function</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span> <span class="comment">    *   to load saved config params, or it can be called explicitly to reset the Eddystone beacon to hardcoded values on each reset.</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span> <span class="comment">    *</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> <span class="comment">    */</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>     <span class="keywordtype">void</span> setupEddystoneAdvertisements() {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>         DBG(<span class="stringliteral">"Switching Config -&gt; adv"</span>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>         <span class="comment">// Save params to storage.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>         <span class="keyword">extern</span> <span class="keywordtype">void</span> saveURIBeaconConfigParams(<span class="keyword">const</span> <a class="code" href="struct_eddystone_config_service_1_1_params__t.html">Params_t</a> *paramsP); <span class="comment">/* forward declaration; necessary to avoid a circular dependency. */</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>         saveURIBeaconConfigParams(&amp;params);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>         INFO(<span class="stringliteral">"Saved Params to Memory."</span>)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>         <span class="comment">// Set up Eddystone Service.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>         <span class="keyword">static</span> <a class="code" href="class_eddystone_service.html">EddystoneService</a> eddyServ(<a class="code" href="namespaceble.html">ble</a>, params.beaconPeriod, radioPowerLevels[params.txPowerMode]);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>         <span class="comment">// Set configured frames (TLM, UID, URI and so on).</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>         <span class="keywordflow">if</span> (params.tlmEnabled) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>             eddyServ.setTLMFrameData(params.tlmVersion, params.tlmBeaconPeriod);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>         }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>         <span class="keywordflow">if</span> (params.uriEnabled) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>             eddyServ.<a class="code" href="class_eddystone_service.html#a6dcbfa5b8b660b1c79658322b6cfa5ee">setURLFrameEncodedData</a>(params.advPowerLevels[params.txPowerMode], (<span class="keyword">const</span> <span class="keywordtype">char</span> *) params.uriData, params.uriDataLength, params.uriBeaconPeriod);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>         }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>         <span class="keywordflow">if</span> (params.uidEnabled) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>             eddyServ.<a class="code" href="class_eddystone_service.html#a96965a4b61846ffd9cc9d2fdfe89b3a7">setUIDFrameData</a>(params.advPowerLevels[params.txPowerMode],</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>                                      (uint8_t *)params.uidNamespaceID,</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>                                      (uint8_t *)params.uidInstanceID,</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>                                      params.uidBeaconPeriod);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>         }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>         <span class="comment">// Start advertising the Eddystone service.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>         eddyServ.start();</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>     }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span> </div><div class="line"><a name="l00329"></a><span class="lineno">  329</span> <span class="keyword">private</span>:</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>     <span class="comment">/*</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span> <span class="comment">     * This callback is invoked when a GATT client attempts to modify any of the</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span> <span class="comment">     * characteristics of this service. Attempts to do so are also applied to</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span> <span class="comment">     * the internal state of this service object.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span> <span class="comment">     */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>     <span class="keywordtype">void</span> onDataWrittenCallback(<span class="keyword">const</span> <a class="code" href="struct_gatt_write_callback_params.html">GattWriteCallbackParams</a> *writeParams) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>         uint16_t handle = writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#aa24ff278a9abc1fd3198bbe101bcd525">handle</a>;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span> </div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>         <span class="keywordflow">if</span> (handle == lockChar.getValueHandle()) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>             <span class="comment">// Validated earlier.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>             memcpy(params.lock, writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>, <span class="keyword">sizeof</span>(Lock_t));</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>             <span class="comment">// Set the state to be locked by the lock code (note: zeros are a valid lock).</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>             params.lockedState = <span class="keyword">true</span>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>             INFO(<span class="stringliteral">"Device Locked"</span>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handle == unlockChar.getValueHandle()) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>             <span class="comment">// Validated earlier.</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>             params.lockedState = <span class="keyword">false</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>             INFO(<span class="stringliteral">"Device Unlocked"</span>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handle == uriDataChar.getValueHandle()) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>             params.uriDataLength = writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a8aed22e2c7b283705ec82e0120515618">len</a>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>             memset(params.uriData, 0x00, URI_DATA_MAX);                      <span class="comment">// Clear URI string.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>             memcpy(params.uriData, writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>, writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a8aed22e2c7b283705ec82e0120515618">len</a>); <span class="comment">// Set URI string.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>             params.uriEnabled = <span class="keyword">true</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>             INFO(<span class="stringliteral">"URI = %s, URILen = %d"</span>, writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>, writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a8aed22e2c7b283705ec82e0120515618">len</a>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handle == flagsChar.getValueHandle()) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>             params.flags = *(writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>             INFO(<span class="stringliteral">"flagsChar = 0x%x"</span>, params.flags);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handle == advPowerLevelsChar.getValueHandle()) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>             memcpy(params.advPowerLevels, writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>, <span class="keyword">sizeof</span>(PowerLevels_t));</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>             INFO(<span class="stringliteral">"PowerLevelsChar = %4x"</span>, params.advPowerLevels);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handle == txPowerModeChar.getValueHandle()) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>             params.txPowerMode = *(writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>             INFO(<span class="stringliteral">"TxPowerModeChar = %d"</span>, params.txPowerMode);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handle == beaconPeriodChar.getValueHandle()) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>             params.beaconPeriod = *((uint16_t *)(writeParams-&gt;<a class="code" href="struct_gatt_write_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>));</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>             INFO(<span class="stringliteral">"BeaconPeriod = %d"</span>, params.beaconPeriod);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span> </div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>             <span class="comment">/* Re-map beaconPeriod to within permissible bounds if necessary. */</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>             <span class="keywordflow">if</span> (params.beaconPeriod != 0) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>                 <span class="keywordtype">bool</span> paramsUpdated = <span class="keyword">false</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>                 <span class="keywordflow">if</span> (params.beaconPeriod &lt; <a class="code" href="namespaceble.html">ble</a>.getMinAdvertisingInterval()) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>                     params.beaconPeriod = <a class="code" href="namespaceble.html">ble</a>.getMinAdvertisingInterval();</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>                     paramsUpdated       = <span class="keyword">true</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params.beaconPeriod &gt; <a class="code" href="namespaceble.html">ble</a>.getMaxAdvertisingInterval()) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>                     params.beaconPeriod = <a class="code" href="namespaceble.html">ble</a>.getMaxAdvertisingInterval();</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>                     paramsUpdated       = <span class="keyword">true</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>                 }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>                 <span class="keywordflow">if</span> (paramsUpdated) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>                     <a class="code" href="namespaceble.html">ble</a>.updateCharacteristicValue(beaconPeriodChar.getValueHandle(), <span class="keyword">reinterpret_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(&amp;params.beaconPeriod), <span class="keyword">sizeof</span>(uint16_t));</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>                 }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>             }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handle == resetChar.getValueHandle()) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>             INFO(<span class="stringliteral">"Reset triggered from Config Service, resetting to defaults"</span>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>             resetToDefaults();</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>         }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>         updateCharacteristicValues();</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>         params.isConfigured = <span class="keyword">true</span>; <span class="comment">// Some configuration data has been passed; on disconnect switch to advertising mode.</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>     }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span> </div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>     <span class="comment">/*</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span> <span class="comment">     * Reset the default values.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span> <span class="comment">     */</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>     <span class="keywordtype">void</span> resetToDefaults(<span class="keywordtype">void</span>) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>         INFO(<span class="stringliteral">"Resetting to defaults"</span>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>         <span class="comment">// General.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>         params.lockedState = <span class="keyword">false</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>         memset(params.lock, 0, <span class="keyword">sizeof</span>(Lock_t));</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>         params.flags = 0x10;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>         memcpy(params.advPowerLevels, defaultAdvPowerLevels, <span class="keyword">sizeof</span>(PowerLevels_t));</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>         params.txPowerMode  = TX_POWER_MODE_LOW;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>         params.beaconPeriod = (uint16_t) defaultUriAdvPeriod * 1000;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span> </div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>         <span class="comment">// TLM Frame.</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>         params.tlmVersion      = defaultTlmVersion;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>         params.tlmBeaconPeriod = defaultTlmAdvPeriod;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>         params.tlmEnabled      = tlmIsSet;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span> </div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>         <span class="comment">// URL Frame.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>         memcpy(params.uriData, defaultUriData, URI_DATA_MAX);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>         params.uriDataLength   = defaultUriDataLength;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>         params.uriBeaconPeriod = defaultUriAdvPeriod;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>         params.uriEnabled      = urlIsSet;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span> </div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>         <span class="comment">// UID Frame.</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>         memcpy(params.uidNamespaceID, defaultUidNamespaceID, UID_NAMESPACEID_SIZE);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>         memcpy(params.uidInstanceID,  defaultUidInstanceID,  UID_INSTANCEID_SIZE);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>         params.uidBeaconPeriod = defaultUidAdvPeriod;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>         params.uidEnabled      = uidIsSet;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span> </div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>         updateCharacteristicValues();</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>     }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span> </div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>     <span class="comment">/*</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span> <span class="comment">     * Internal helper function used to update the GATT database following any</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span> <span class="comment">     * change to the internal state of the service object.</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span> <span class="comment">     */</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>     <span class="keywordtype">void</span> updateCharacteristicValues(<span class="keywordtype">void</span>) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>         <a class="code" href="namespaceble.html">ble</a>.updateCharacteristicValue(lockedStateChar.getValueHandle(), &amp;params.lockedState, 1);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>         <a class="code" href="namespaceble.html">ble</a>.updateCharacteristicValue(uriDataChar.getValueHandle(), params.uriData, params.uriDataLength);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>         <a class="code" href="namespaceble.html">ble</a>.updateCharacteristicValue(flagsChar.getValueHandle(), &amp;params.flags, 1);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>         <a class="code" href="namespaceble.html">ble</a>.updateCharacteristicValue(beaconPeriodChar.getValueHandle(),</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>                                       <span class="keyword">reinterpret_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(&amp;params.beaconPeriod), <span class="keyword">sizeof</span>(uint16_t));</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>         <a class="code" href="namespaceble.html">ble</a>.updateCharacteristicValue(txPowerModeChar.getValueHandle(), &amp;params.txPowerMode, 1);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>         <a class="code" href="namespaceble.html">ble</a>.updateCharacteristicValue(advPowerLevelsChar.getValueHandle(),</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>                                       <span class="keyword">reinterpret_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(params.advPowerLevels), <span class="keyword">sizeof</span>(PowerLevels_t));</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>     }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span> </div><div class="line"><a name="l00437"></a><span class="lineno">  437</span> <span class="keyword">private</span>:</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>     <span class="keywordtype">void</span> lockAuthorizationCallback(<a class="code" href="struct_gatt_write_auth_callback_params.html">GattWriteAuthCallbackParams</a> *authParams) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>         <span class="keywordflow">if</span> (params.lockedState) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a58e3f722ffc8edc030ce4fd671af6489">AUTH_CALLBACK_REPLY_ATTERR_INSUF_AUTHORIZATION</a>;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#a8aed22e2c7b283705ec82e0120515618">len</a> != <span class="keyword">sizeof</span>(Lock_t)) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a1143b69b8863bbd8853b2293d4909d48">AUTH_CALLBACK_REPLY_ATTERR_INVALID_ATT_VAL_LENGTH</a>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ac681806181c80437cfab37335f62ff39">offset</a> != 0) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a940cf0dfe22ecf688960264c3603d9f7">AUTH_CALLBACK_REPLY_ATTERR_INVALID_OFFSET</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a01b2f5a01ce00d80597a8a9372ac4a99">AUTH_CALLBACK_REPLY_SUCCESS</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>         }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>     }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span> </div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>     <span class="keywordtype">void</span> unlockAuthorizationCallback(<a class="code" href="struct_gatt_write_auth_callback_params.html">GattWriteAuthCallbackParams</a> *authParams) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>         <span class="keywordflow">if</span> ((!params.lockedState) &amp;&amp; (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#a8aed22e2c7b283705ec82e0120515618">len</a> == <span class="keyword">sizeof</span>(Lock_t))) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a01b2f5a01ce00d80597a8a9372ac4a99">AUTH_CALLBACK_REPLY_SUCCESS</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#a8aed22e2c7b283705ec82e0120515618">len</a> != <span class="keyword">sizeof</span>(Lock_t)) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a1143b69b8863bbd8853b2293d4909d48">AUTH_CALLBACK_REPLY_ATTERR_INVALID_ATT_VAL_LENGTH</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ac681806181c80437cfab37335f62ff39">offset</a> != 0) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a940cf0dfe22ecf688960264c3603d9f7">AUTH_CALLBACK_REPLY_ATTERR_INVALID_OFFSET</a>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (memcmp(authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>, params.lock, <span class="keyword">sizeof</span>(Lock_t)) != 0) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a58e3f722ffc8edc030ce4fd671af6489">AUTH_CALLBACK_REPLY_ATTERR_INSUF_AUTHORIZATION</a>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a01b2f5a01ce00d80597a8a9372ac4a99">AUTH_CALLBACK_REPLY_SUCCESS</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>         }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>     }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span> </div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>     <span class="keywordtype">void</span> uriDataWriteAuthorizationCallback(<a class="code" href="struct_gatt_write_auth_callback_params.html">GattWriteAuthCallbackParams</a> *authParams) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>         <span class="keywordflow">if</span> (params.lockedState) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a58e3f722ffc8edc030ce4fd671af6489">AUTH_CALLBACK_REPLY_ATTERR_INSUF_AUTHORIZATION</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ac681806181c80437cfab37335f62ff39">offset</a> != 0) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a940cf0dfe22ecf688960264c3603d9f7">AUTH_CALLBACK_REPLY_ATTERR_INVALID_OFFSET</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a01b2f5a01ce00d80597a8a9372ac4a99">AUTH_CALLBACK_REPLY_SUCCESS</a>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>         }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>     }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span> </div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>     <span class="keywordtype">void</span> powerModeAuthorizationCallback(<a class="code" href="struct_gatt_write_auth_callback_params.html">GattWriteAuthCallbackParams</a> *authParams) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>         <span class="keywordflow">if</span> (params.lockedState) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a58e3f722ffc8edc030ce4fd671af6489">AUTH_CALLBACK_REPLY_ATTERR_INSUF_AUTHORIZATION</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#a8aed22e2c7b283705ec82e0120515618">len</a> != <span class="keyword">sizeof</span>(uint8_t)) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a1143b69b8863bbd8853b2293d4909d48">AUTH_CALLBACK_REPLY_ATTERR_INVALID_ATT_VAL_LENGTH</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ac681806181c80437cfab37335f62ff39">offset</a> != 0) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a940cf0dfe22ecf688960264c3603d9f7">AUTH_CALLBACK_REPLY_ATTERR_INVALID_OFFSET</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*((uint8_t *)authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>) &gt;= NUM_POWER_MODES) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1adc54409e4e2c829f1fd8890a9c7101e4">AUTH_CALLBACK_REPLY_ATTERR_WRITE_NOT_PERMITTED</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a01b2f5a01ce00d80597a8a9372ac4a99">AUTH_CALLBACK_REPLY_SUCCESS</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>         }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>     }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span> </div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>     <span class="keywordtype">void</span> basicAuthorizationCallback(<a class="code" href="struct_gatt_write_auth_callback_params.html">GattWriteAuthCallbackParams</a> *authParams) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>         <span class="keywordflow">if</span> (params.lockedState) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a58e3f722ffc8edc030ce4fd671af6489">AUTH_CALLBACK_REPLY_ATTERR_INSUF_AUTHORIZATION</a>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#a8aed22e2c7b283705ec82e0120515618">len</a> != <span class="keyword">sizeof</span>(T)) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a1143b69b8863bbd8853b2293d4909d48">AUTH_CALLBACK_REPLY_ATTERR_INVALID_ATT_VAL_LENGTH</a>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ac681806181c80437cfab37335f62ff39">offset</a> != 0) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a940cf0dfe22ecf688960264c3603d9f7">AUTH_CALLBACK_REPLY_ATTERR_INVALID_OFFSET</a>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>             authParams-&gt;<a class="code" href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">authorizationReply</a> = <a class="code" href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a01b2f5a01ce00d80597a8a9372ac4a99">AUTH_CALLBACK_REPLY_SUCCESS</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>         }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>     }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span> </div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>     <a class="code" href="class_b_l_e.html">BLEDevice</a>                                  &amp;<a class="code" href="namespaceble.html">ble</a>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>     <a class="code" href="struct_eddystone_config_service_1_1_params__t.html">Params_t</a>                                   &amp;params;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>     <a class="code" href="classmbed_1_1_ticker.html">mbed::Ticker</a>                               timeSinceBootTick;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>     <a class="code" href="classmbed_1_1_timeout.html">mbed::Timeout</a>                              switchFrame;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>     <span class="comment">// Default value that is restored on reset.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>     PowerLevels_t                              &amp;defaultAdvPowerLevels; <span class="comment">// This goes into the advertising frames (radio power measured at 1m from device).</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>     PowerLevels_t                              &amp;radioPowerLevels;      <span class="comment">// This configures the power levels of the radio.</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>     uint8_t                                    lockedState;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>     <span class="keywordtype">bool</span>                                       initSucceeded;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>     uint8_t                                    resetFlag;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>     <span class="keywordtype">bool</span>                                       switchFlag;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span> </div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>     <span class="comment">//UID default value that is restored on reset.</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>     UIDNamespaceID_t                           defaultUidNamespaceID;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>     UIDInstanceID_t                            defaultUidInstanceID;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>     <span class="keywordtype">float</span>                                      defaultUidAdvPeriod;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>     int8_t                                     defaultUidPower;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>     uint16_t                                   uidRFU;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>     <span class="keywordtype">bool</span>                                       uidIsSet;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span> </div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>     <span class="comment">//URI default value that is restored on reset.</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>     uint8_t                                    defaultUriDataLength;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>     UriData_t                                  defaultUriData;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>     int8_t                                     defaultUrlPower;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>     <span class="keywordtype">float</span>                                      defaultUriAdvPeriod;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>     <span class="keywordtype">bool</span>                                       urlIsSet;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span> </div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>     <span class="comment">//TLM default value that is restored on reset.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>     uint8_t                                    defaultTlmVersion;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>     <span class="keywordtype">float</span>                                      defaultTlmAdvPeriod;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>     <span class="keyword">volatile</span> uint16_t                          TlmBatteryVoltage;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>     <span class="keyword">volatile</span> uint16_t                          TlmBeaconTemp;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>     <span class="keyword">volatile</span> uint32_t                          TlmPduCount;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>     <span class="keyword">volatile</span> uint32_t                          TlmTimeSinceBoot;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>     <span class="keywordtype">bool</span>                                       tlmIsSet;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span> </div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>     <a class="code" href="class_read_only_gatt_characteristic.html">ReadOnlyGattCharacteristic&lt;uint8_t&gt;</a>        lockedStateChar;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>     <a class="code" href="class_write_only_gatt_characteristic.html">WriteOnlyGattCharacteristic&lt;Lock_t&gt;</a>        lockChar;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>     <a class="code" href="class_gatt_characteristic.html">GattCharacteristic</a>                         uriDataChar;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>     <a class="code" href="class_write_only_gatt_characteristic.html">WriteOnlyGattCharacteristic&lt;Lock_t&gt;</a>        unlockChar;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>     <a class="code" href="class_read_write_gatt_characteristic.html">ReadWriteGattCharacteristic&lt;uint8_t&gt;</a>       flagsChar;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>     <a class="code" href="class_read_write_gatt_characteristic.html">ReadWriteGattCharacteristic&lt;PowerLevels_t&gt;</a> advPowerLevelsChar;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>     <a class="code" href="class_read_write_gatt_characteristic.html">ReadWriteGattCharacteristic&lt;uint8_t&gt;</a>       txPowerModeChar;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>     <a class="code" href="class_read_write_gatt_characteristic.html">ReadWriteGattCharacteristic&lt;uint16_t&gt;</a>      beaconPeriodChar;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>     <a class="code" href="class_write_only_gatt_characteristic.html">WriteOnlyGattCharacteristic&lt;uint8_t&gt;</a>       resetChar;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span> };</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span> </div><div class="line"><a name="l00548"></a><span class="lineno">  548</span> <span class="preprocessor">#endif // BLE_FEATURE_GATT_SERVER</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span> </div><div class="line"><a name="l00550"></a><span class="lineno">  550</span> <span class="preprocessor">#endif  // SERVICES_EDDYSTONE_BEACON_CONFIG_SERVICE_H_</span></div><div class="ttc" id="class_read_write_gatt_characteristic_html"><div class="ttname"><a href="class_read_write_gatt_characteristic.html">ReadWriteGattCharacteristic&lt; uint8_t &gt;</a></div></div>
<div class="ttc" id="struct_gatt_write_auth_callback_params_html_ae145d9b8928874b23528a7efe7e16d84"><div class="ttname"><a href="struct_gatt_write_auth_callback_params.html#ae145d9b8928874b23528a7efe7e16d84">GattWriteAuthCallbackParams::authorizationReply</a></div><div class="ttdeci">GattAuthCallbackReply_t authorizationReply</div><div class="ttdoc">Authorization result. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00306">GattCallbackParamTypes.h:306</a></div></div>
<div class="ttc" id="struct_gatt_write_auth_callback_params_html_a579f5164b5b16e18ddcdb0296ef81799"><div class="ttname"><a href="struct_gatt_write_auth_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">GattWriteAuthCallbackParams::data</a></div><div class="ttdeci">const uint8_t * data</div><div class="ttdoc">Incoming data. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00297">GattCallbackParamTypes.h:297</a></div></div>
<div class="ttc" id="struct_gatt_write_callback_params_html_a579f5164b5b16e18ddcdb0296ef81799"><div class="ttname"><a href="struct_gatt_write_callback_params.html#a579f5164b5b16e18ddcdb0296ef81799">GattWriteCallbackParams::data</a></div><div class="ttdeci">const uint8_t * data</div><div class="ttdoc">Pointer to the data to write. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00137">GattCallbackParamTypes.h:137</a></div></div>
<div class="ttc" id="class_gap_advertising_data_html_a405dc77179a4a9e1c6ad0a6d252bebaea9dba6e221da9e2b7054f5d699cfec459"><div class="ttname"><a href="class_gap_advertising_data.html#a405dc77179a4a9e1c6ad0a6d252bebaea9dba6e221da9e2b7054f5d699cfec459">GapAdvertisingData::TX_POWER_LEVEL</a></div><div class="ttdoc">TX Power Level (in dBm). </div><div class="ttdef"><b>Definition:</b> <a href="_gap_advertising_data_8h_source.html#l00180">GapAdvertisingData.h:180</a></div></div>
<div class="ttc" id="class_b_l_e_html"><div class="ttname"><a href="class_b_l_e.html">BLE</a></div><div class="ttdoc">Abstract away BLE-capable radio transceivers or SOCs. </div><div class="ttdef"><b>Definition:</b> <a href="_b_l_e_8h_source.html#l00139">BLE.h:139</a></div></div>
<div class="ttc" id="struct_gatt_write_auth_callback_params_html"><div class="ttname"><a href="struct_gatt_write_auth_callback_params.html">GattWriteAuthCallbackParams</a></div><div class="ttdoc">GATT write authorization request event. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00273">GattCallbackParamTypes.h:273</a></div></div>
<div class="ttc" id="class_gap_advertising_data_html_abe0b91dbb659e81f3b449d2998e40348a4fd0c5b75295064abb7fbfca0a2fb449"><div class="ttname"><a href="class_gap_advertising_data.html#abe0b91dbb659e81f3b449d2998e40348a4fd0c5b75295064abb7fbfca0a2fb449">GapAdvertisingData::LE_GENERAL_DISCOVERABLE</a></div><div class="ttdoc">Peripheral device is discoverable at any moment. </div><div class="ttdef"><b>Definition:</b> <a href="_gap_advertising_data_8h_source.html#l00245">GapAdvertisingData.h:245</a></div></div>
<div class="ttc" id="class_gap_advertising_data_html_a405dc77179a4a9e1c6ad0a6d252bebaea1973630c6d330bf98230184056003e0b"><div class="ttname"><a href="class_gap_advertising_data.html#a405dc77179a4a9e1c6ad0a6d252bebaea1973630c6d330bf98230184056003e0b">GapAdvertisingData::COMPLETE_LIST_128BIT_SERVICE_IDS</a></div><div class="ttdoc">Complete list of 128-bit Service IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_gap_advertising_data_8h_source.html#l00165">GapAdvertisingData.h:165</a></div></div>
<div class="ttc" id="class_gap_advertising_data_html_a405dc77179a4a9e1c6ad0a6d252bebaea41ea4cc6b7e734fb39b5c953875150e1"><div class="ttname"><a href="class_gap_advertising_data.html#a405dc77179a4a9e1c6ad0a6d252bebaea41ea4cc6b7e734fb39b5c953875150e1">GapAdvertisingData::COMPLETE_LOCAL_NAME</a></div><div class="ttdoc">Complete Local Name. </div><div class="ttdef"><b>Definition:</b> <a href="_gap_advertising_data_8h_source.html#l00175">GapAdvertisingData.h:175</a></div></div>
<div class="ttc" id="group__server_html_gga5a9b81b1ca19b93e4d5df3cf98f1f7a1adc54409e4e2c829f1fd8890a9c7101e4"><div class="ttname"><a href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1adc54409e4e2c829f1fd8890a9c7101e4">AUTH_CALLBACK_REPLY_ATTERR_WRITE_NOT_PERMITTED</a></div><div class="ttdoc">ATT Error: Write not permitted. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00226">GattCallbackParamTypes.h:226</a></div></div>
<div class="ttc" id="group__server_html_gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a940cf0dfe22ecf688960264c3603d9f7"><div class="ttname"><a href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a940cf0dfe22ecf688960264c3603d9f7">AUTH_CALLBACK_REPLY_ATTERR_INVALID_OFFSET</a></div><div class="ttdoc">ATT Error: The specified offset was past the end of the attribute. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00236">GattCallbackParamTypes.h:236</a></div></div>
<div class="ttc" id="group__server_html_gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a01b2f5a01ce00d80597a8a9372ac4a99"><div class="ttname"><a href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a01b2f5a01ce00d80597a8a9372ac4a99">AUTH_CALLBACK_REPLY_SUCCESS</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00211">GattCallbackParamTypes.h:211</a></div></div>
<div class="ttc" id="struct_gatt_write_callback_params_html"><div class="ttname"><a href="struct_gatt_write_callback_params.html">GattWriteCallbackParams</a></div><div class="ttdoc">GATT Write event definition. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00042">GattCallbackParamTypes.h:42</a></div></div>
<div class="ttc" id="struct_gatt_write_callback_params_html_a8aed22e2c7b283705ec82e0120515618"><div class="ttname"><a href="struct_gatt_write_callback_params.html#a8aed22e2c7b283705ec82e0120515618">GattWriteCallbackParams::len</a></div><div class="ttdeci">uint16_t len</div><div class="ttdoc">Length (in bytes) of the data to write. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00120">GattCallbackParamTypes.h:120</a></div></div>
<div class="ttc" id="class_gap_advertising_data_html_abe0b91dbb659e81f3b449d2998e40348a975a2f52c81fe7cd2fcbca15e61275f9"><div class="ttname"><a href="class_gap_advertising_data.html#abe0b91dbb659e81f3b449d2998e40348a975a2f52c81fe7cd2fcbca15e61275f9">GapAdvertisingData::BREDR_NOT_SUPPORTED</a></div><div class="ttdoc">Peripheral device is LE only and does not support Bluetooth Enhanced DataRate. </div><div class="ttdef"><b>Definition:</b> <a href="_gap_advertising_data_8h_source.html#l00251">GapAdvertisingData.h:251</a></div></div>
<div class="ttc" id="class_eddystone_config_service_html_a60c47319a6b92ec0ad79c9e91d05ac81"><div class="ttname"><a href="class_eddystone_config_service.html#a60c47319a6b92ec0ad79c9e91d05ac81">EddystoneConfigService::EddystoneConfigService</a></div><div class="ttdeci">EddystoneConfigService(BLEDevice &amp;bleIn, Params_t &amp;paramsIn, PowerLevels_t &amp;defaultAdvPowerLevelsIn, PowerLevels_t &amp;radioPowerLevelsIn)</div><div class="ttdef"><b>Definition:</b> <a href="_eddystone_config_service_8h_source.html#l00129">EddystoneConfigService.h:129</a></div></div>
<div class="ttc" id="class_gatt_characteristic_html"><div class="ttname"><a href="class_gatt_characteristic.html">GattCharacteristic</a></div><div class="ttdoc">Representation of a GattServer characteristic. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_characteristic_8h_source.html#l00094">GattCharacteristic.h:94</a></div></div>
<div class="ttc" id="class_eddystone_config_service_html_a14fde200067f382d71871f6264a23753"><div class="ttname"><a href="class_eddystone_config_service.html#a14fde200067f382d71871f6264a23753">EddystoneConfigService::start</a></div><div class="ttdeci">void start(bool resetToDefaultsFlag)</div><div class="ttdoc">Start EddystoneConfig advertising. </div><div class="ttdef"><b>Definition:</b> <a href="_eddystone_config_service_8h_source.html#l00191">EddystoneConfigService.h:191</a></div></div>
<div class="ttc" id="class_eddystone_service_html"><div class="ttname"><a href="class_eddystone_service.html">EddystoneService</a></div><div class="ttdef"><b>Definition:</b> <a href="_eddystone_service_8h_source.html#l00067">EddystoneService.h:67</a></div></div>
<div class="ttc" id="class_write_only_gatt_characteristic_html"><div class="ttname"><a href="class_write_only_gatt_characteristic.html">WriteOnlyGattCharacteristic&lt; Lock_t &gt;</a></div></div>
<div class="ttc" id="struct_gatt_write_auth_callback_params_html_ac681806181c80437cfab37335f62ff39"><div class="ttname"><a href="struct_gatt_write_auth_callback_params.html#ac681806181c80437cfab37335f62ff39">GattWriteAuthCallbackParams::offset</a></div><div class="ttdeci">uint16_t offset</div><div class="ttdoc">Offset for the write operation. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00287">GattCallbackParamTypes.h:287</a></div></div>
<div class="ttc" id="struct_gatt_write_auth_callback_params_html_a8aed22e2c7b283705ec82e0120515618"><div class="ttname"><a href="struct_gatt_write_auth_callback_params.html#a8aed22e2c7b283705ec82e0120515618">GattWriteAuthCallbackParams::len</a></div><div class="ttdeci">uint16_t len</div><div class="ttdoc">Length of the incoming data. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00292">GattCallbackParamTypes.h:292</a></div></div>
<div class="ttc" id="struct_gatt_write_callback_params_html_aa24ff278a9abc1fd3198bbe101bcd525"><div class="ttname"><a href="struct_gatt_write_callback_params.html#aa24ff278a9abc1fd3198bbe101bcd525">GattWriteCallbackParams::handle</a></div><div class="ttdeci">GattAttribute::Handle_t handle</div><div class="ttdoc">Handle of the attribute to which the write operation applies. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00091">GattCallbackParamTypes.h:91</a></div></div>
<div class="ttc" id="classmbed_1_1_ticker_html"><div class="ttname"><a href="classmbed_1_1_ticker.html">mbed::Ticker</a></div><div class="ttdoc">A Ticker is used to call a function at a recurring interval. </div><div class="ttdef"><b>Definition:</b> <a href="_ticker_8h_source.html#l00069">Ticker.h:69</a></div></div>
<div class="ttc" id="class_eddystone_config_service_html"><div class="ttname"><a href="class_eddystone_config_service.html">EddystoneConfigService</a></div><div class="ttdoc">Eddystone Configuration Service. </div><div class="ttdef"><b>Definition:</b> <a href="_eddystone_config_service_8h_source.html#l00052">EddystoneConfigService.h:52</a></div></div>
<div class="ttc" id="class_gatt_service_html"><div class="ttname"><a href="class_gatt_service.html">GattService</a></div><div class="ttdoc">Representation of a GattServer service. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_service_8h_source.html#l00038">GattService.h:38</a></div></div>
<div class="ttc" id="class_read_only_gatt_characteristic_html"><div class="ttname"><a href="class_read_only_gatt_characteristic.html">ReadOnlyGattCharacteristic&lt; uint8_t &gt;</a></div></div>
<div class="ttc" id="class_gap_advertising_params_html_acfe66037253250a26c0ca0aef21b9b8ca4d113e0018db2222571ffa0a22ec95b5"><div class="ttname"><a href="class_gap_advertising_params.html#acfe66037253250a26c0ca0aef21b9b8ca4d113e0018db2222571ffa0a22ec95b5">GapAdvertisingParams::ADV_CONNECTABLE_UNDIRECTED</a></div><div class="ttdoc">Device is connectable, scannable and doesn&amp;#39;t expect connection from a specific peer. </div><div class="ttdef"><b>Definition:</b> <a href="_gap_advertising_params_8h_source.html#l00084">GapAdvertisingParams.h:84</a></div></div>
<div class="ttc" id="class_eddystone_service_html_a6dcbfa5b8b660b1c79658322b6cfa5ee"><div class="ttname"><a href="class_eddystone_service.html#a6dcbfa5b8b660b1c79658322b6cfa5ee">EddystoneService::setURLFrameEncodedData</a></div><div class="ttdeci">bool setURLFrameEncodedData(int8_t power, const char *encodedUrlIn, uint8_t encodedUrlInLength, float urlAdvPeriodIn)</div><div class="ttdoc">Set Eddystone URL Frame information. </div><div class="ttdef"><b>Definition:</b> <a href="_eddystone_service_8h_source.html#l00204">EddystoneService.h:204</a></div></div>
<div class="ttc" id="namespaceble_html"><div class="ttname"><a href="namespaceble.html">ble</a></div><div class="ttdoc">Entry namespace for all BLE API definitions. </div></div>
<div class="ttc" id="group__server_html_gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a1143b69b8863bbd8853b2293d4909d48"><div class="ttname"><a href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a1143b69b8863bbd8853b2293d4909d48">AUTH_CALLBACK_REPLY_ATTERR_INVALID_ATT_VAL_LENGTH</a></div><div class="ttdoc">ATT Error: Invalid value size. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00262">GattCallbackParamTypes.h:262</a></div></div>
<div class="ttc" id="class_eddystone_service_html_a96965a4b61846ffd9cc9d2fdfe89b3a7"><div class="ttname"><a href="class_eddystone_service.html#a96965a4b61846ffd9cc9d2fdfe89b3a7">EddystoneService::setUIDFrameData</a></div><div class="ttdeci">void setUIDFrameData(int8_t power, UIDNamespaceID_t namespaceID, UIDInstanceID_t instanceID, float uidAdvPeriodIn, uint16_t RFU=0x0000)</div><div class="ttdoc">Set Eddystone UID Frame information. </div><div class="ttdef"><b>Definition:</b> <a href="_eddystone_service_8h_source.html#l00109">EddystoneService.h:109</a></div></div>
<div class="ttc" id="group__server_html_gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a58e3f722ffc8edc030ce4fd671af6489"><div class="ttname"><a href="group__server.html#gga5a9b81b1ca19b93e4d5df3cf98f1f7a1a58e3f722ffc8edc030ce4fd671af6489">AUTH_CALLBACK_REPLY_ATTERR_INSUF_AUTHORIZATION</a></div><div class="ttdoc">ATT Error: Used in ATT as "insufficient authorization". </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_callback_param_types_8h_source.html#l00241">GattCallbackParamTypes.h:241</a></div></div>
<div class="ttc" id="classmbed_1_1_timeout_html"><div class="ttname"><a href="classmbed_1_1_timeout.html">mbed::Timeout</a></div><div class="ttdoc">A Timeout is used to call a function at a point in the future. </div><div class="ttdef"><b>Definition:</b> <a href="_timeout_8h_source.html#l00060">Timeout.h:60</a></div></div>
<div class="ttc" id="struct_eddystone_config_service_1_1_params__t_html"><div class="ttname"><a href="struct_eddystone_config_service_1_1_params__t.html">EddystoneConfigService::Params_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_eddystone_config_service_8h_source.html#l00091">EddystoneConfigService.h:91</a></div></div>
<div class="ttc" id="class_gap_advertising_data_html_aed6c798067b66e71349357daf02e5be3a76f9ca89769eb1b9906ee8ac2f291239"><div class="ttname"><a href="class_gap_advertising_data.html#aed6c798067b66e71349357daf02e5be3a76f9ca89769eb1b9906ee8ac2f291239">GapAdvertisingData::GENERIC_TAG</a></div><div class="ttdoc">Generic Tag. </div><div class="ttdef"><b>Definition:</b> <a href="_gap_advertising_data_8h_source.html#l00332">GapAdvertisingData.h:332</a></div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/feature-i2c-doxy/_eddystone_config_service_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 16:06:57 GMT -->
</html>
