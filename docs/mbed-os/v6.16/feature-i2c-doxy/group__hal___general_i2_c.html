<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/feature-i2c-doxy/group__hal___general_i2_c.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:58:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | I2C Configuration Functions</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="group__hal___general_i2_c.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/feature-i2c-doxy/group__hal___general_i2_c.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/feature-i2c-doxy/group__hal___general_i2_c.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> |
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">I2C Configuration Functions<div class="ingroups"><a class="el" href="group__hal.html">Hal</a> » <a class="el" href="group__hal__i2c.html">I2C hal</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p></p><h1>Defined behavior</h1>
 
<a href="#details">More...</a><p></p>
<table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__hal___general_i2_c__tests"><td align="right" class="memItemLeft" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c__tests.html">I2C hal tests</a></td></tr>
<tr class="memdesc:group__hal___general_i2_c__tests"><td class="mdescLeft"> </td><td class="mdescRight">The I2C HAL tests ensure driver conformance to defined behaviour. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3c774d870d5358ed543002bcbb86a584"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#ga3c774d870d5358ed543002bcbb86a584">i2c_get_capabilities</a> (<a class="el" href="structi2c__capabilities__t.html">i2c_capabilities_t</a> *capabilities)</td></tr>
<tr class="memdesc:ga3c774d870d5358ed543002bcbb86a584"><td class="mdescLeft"> </td><td class="mdescRight">Fills structure indicating supported features and frequencies on the current platform.  <a href="#ga3c774d870d5358ed543002bcbb86a584">More...</a><br/></td></tr>
<tr class="separator:ga3c774d870d5358ed543002bcbb86a584"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga6c338f490a4e0933cb3e6bb88a0a950a"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#ga6c338f490a4e0933cb3e6bb88a0a950a">i2c_init</a> (<a class="el" href="structi2c.html">i2c_t</a> *obj, PinName sda, PinName scl, bool is_slave)</td></tr>
<tr class="memdesc:ga6c338f490a4e0933cb3e6bb88a0a950a"><td class="mdescLeft"> </td><td class="mdescRight">Initialize the I2C peripheral.  <a href="#ga6c338f490a4e0933cb3e6bb88a0a950a">More...</a><br/></td></tr>
<tr class="separator:ga6c338f490a4e0933cb3e6bb88a0a950a"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gae70b0ff68f4c598cb48cb5c3a50a2cba"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#gae70b0ff68f4c598cb48cb5c3a50a2cba">i2c_free</a> (<a class="el" href="structi2c.html">i2c_t</a> *obj)</td></tr>
<tr class="memdesc:gae70b0ff68f4c598cb48cb5c3a50a2cba"><td class="mdescLeft"> </td><td class="mdescRight">Release the I2C object.  <a href="#gae70b0ff68f4c598cb48cb5c3a50a2cba">More...</a><br/></td></tr>
<tr class="separator:gae70b0ff68f4c598cb48cb5c3a50a2cba"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gad19ba573c066dd9560d145399cf46ac8"><td align="right" class="memItemLeft" valign="top">uint32_t </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#gad19ba573c066dd9560d145399cf46ac8">i2c_frequency</a> (<a class="el" href="structi2c.html">i2c_t</a> *obj, uint32_t frequency)</td></tr>
<tr class="memdesc:gad19ba573c066dd9560d145399cf46ac8"><td class="mdescLeft"> </td><td class="mdescRight">Configure the frequency in Hz at which the I2C peripheral should operate.  <a href="#gad19ba573c066dd9560d145399cf46ac8">More...</a><br/></td></tr>
<tr class="separator:gad19ba573c066dd9560d145399cf46ac8"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga7afd9d4800b9a6d2c9a3897bf2e1cc23"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#ga7afd9d4800b9a6d2c9a3897bf2e1cc23">i2c_set_clock_stretching</a> (<a class="el" href="structi2c.html">i2c_t</a> *obj, bool enabled)</td></tr>
<tr class="memdesc:ga7afd9d4800b9a6d2c9a3897bf2e1cc23"><td class="mdescLeft"> </td><td class="mdescRight">Enable or disable clock stretching for the I2C peripheral.  <a href="#ga7afd9d4800b9a6d2c9a3897bf2e1cc23">More...</a><br/></td></tr>
<tr class="separator:ga7afd9d4800b9a6d2c9a3897bf2e1cc23"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga970c13b7db4b73b457b12b707a53fa3a"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#ga970c13b7db4b73b457b12b707a53fa3a">i2c_timeout</a> (<a class="el" href="structi2c.html">i2c_t</a> *obj, uint32_t timeout)</td></tr>
<tr class="memdesc:ga970c13b7db4b73b457b12b707a53fa3a"><td class="mdescLeft"> </td><td class="mdescRight">Configure the timeout duration in microseconds for blocking transmission.  <a href="#ga970c13b7db4b73b457b12b707a53fa3a">More...</a><br/></td></tr>
<tr class="separator:ga970c13b7db4b73b457b12b707a53fa3a"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gaef06e7ceb299a5e9a3124f56809d6f4e"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#gaef06e7ceb299a5e9a3124f56809d6f4e">i2c_start</a> (<a class="el" href="structi2c.html">i2c_t</a> *obj)</td></tr>
<tr class="memdesc:gaef06e7ceb299a5e9a3124f56809d6f4e"><td class="mdescLeft"> </td><td class="mdescRight">Send START command.  <a href="#gaef06e7ceb299a5e9a3124f56809d6f4e">More...</a><br/></td></tr>
<tr class="separator:gaef06e7ceb299a5e9a3124f56809d6f4e"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga5b9347e49adc776fa5b9edd542155c43"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#ga5b9347e49adc776fa5b9edd542155c43">i2c_stop</a> (<a class="el" href="structi2c.html">i2c_t</a> *obj)</td></tr>
<tr class="memdesc:ga5b9347e49adc776fa5b9edd542155c43"><td class="mdescLeft"> </td><td class="mdescRight">Send STOP command.  <a href="#ga5b9347e49adc776fa5b9edd542155c43">More...</a><br/></td></tr>
<tr class="separator:ga5b9347e49adc776fa5b9edd542155c43"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga4729a42e83ca77662f432466f28c81e0"><td align="right" class="memItemLeft" valign="top">int32_t </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#ga4729a42e83ca77662f432466f28c81e0">i2c_write</a> (<a class="el" href="structi2c.html">i2c_t</a> *obj, uint16_t address, const uint8_t *data, uint32_t length, bool stop)</td></tr>
<tr class="memdesc:ga4729a42e83ca77662f432466f28c81e0"><td class="mdescLeft"> </td><td class="mdescRight">Blocking sending data.  <a href="#ga4729a42e83ca77662f432466f28c81e0">More...</a><br/></td></tr>
<tr class="separator:ga4729a42e83ca77662f432466f28c81e0"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gace6a9adfda3af19be188b3988ca414f4"><td align="right" class="memItemLeft" valign="top">int32_t </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#gace6a9adfda3af19be188b3988ca414f4">i2c_read</a> (<a class="el" href="structi2c.html">i2c_t</a> *obj, uint16_t address, uint8_t *data, uint32_t length, bool stop)</td></tr>
<tr class="memdesc:gace6a9adfda3af19be188b3988ca414f4"><td class="mdescLeft"> </td><td class="mdescRight">Blocking reading data.  <a href="#gace6a9adfda3af19be188b3988ca414f4">More...</a><br/></td></tr>
<tr class="separator:gace6a9adfda3af19be188b3988ca414f4"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gace6c8730abc5b59f24c516bea8ea81ec"><td align="right" class="memItemLeft" valign="top">const <a class="el" href="struct_pin_map.html">PinMap</a> * </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#gace6c8730abc5b59f24c516bea8ea81ec">i2c_master_sda_pinmap</a> (void)</td></tr>
<tr class="memdesc:gace6c8730abc5b59f24c516bea8ea81ec"><td class="mdescLeft"> </td><td class="mdescRight">Get the pins that support I2C SDA.  <a href="#gace6c8730abc5b59f24c516bea8ea81ec">More...</a><br/></td></tr>
<tr class="separator:gace6c8730abc5b59f24c516bea8ea81ec"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga6f1b510565f17eb8c15ea0121c7c1367"><td align="right" class="memItemLeft" valign="top">const <a class="el" href="struct_pin_map.html">PinMap</a> * </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#ga6f1b510565f17eb8c15ea0121c7c1367">i2c_master_scl_pinmap</a> (void)</td></tr>
<tr class="memdesc:ga6f1b510565f17eb8c15ea0121c7c1367"><td class="mdescLeft"> </td><td class="mdescRight">Get the pins that support I2C SCL.  <a href="#ga6f1b510565f17eb8c15ea0121c7c1367">More...</a><br/></td></tr>
<tr class="separator:ga6f1b510565f17eb8c15ea0121c7c1367"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga4509b62ed3377fc069386e1ed53b9776"><td align="right" class="memItemLeft" valign="top">const <a class="el" href="struct_pin_map.html">PinMap</a> * </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#ga4509b62ed3377fc069386e1ed53b9776">i2c_slave_sda_pinmap</a> (void)</td></tr>
<tr class="memdesc:ga4509b62ed3377fc069386e1ed53b9776"><td class="mdescLeft"> </td><td class="mdescRight">Get the pins that support I2C SDA.  <a href="#ga4509b62ed3377fc069386e1ed53b9776">More...</a><br/></td></tr>
<tr class="separator:ga4509b62ed3377fc069386e1ed53b9776"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gadb30d55ff606354cbd51674e8aa63f12"><td align="right" class="memItemLeft" valign="top">const <a class="el" href="struct_pin_map.html">PinMap</a> * </td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal___general_i2_c.html#gadb30d55ff606354cbd51674e8aa63f12">i2c_slave_scl_pinmap</a> (void)</td></tr>
<tr class="memdesc:gadb30d55ff606354cbd51674e8aa63f12"><td class="mdescLeft"> </td><td class="mdescRight">Get the pins that support I2C SCL.  <a href="#gadb30d55ff606354cbd51674e8aa63f12">More...</a><br/></td></tr>
<tr class="separator:gadb30d55ff606354cbd51674e8aa63f12"><td class="memSeparator" colspan="2"> </td></tr>
</tbody></table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1>Defined behavior</h1>
<ul>
<li><a class="el" href="group__hal___general_i2_c.html#ga6c338f490a4e0933cb3e6bb88a0a950a" title="Initialize the I2C peripheral. ">i2c_init</a> initializes i2c_t control structure</li>
<li><a class="el" href="group__hal___general_i2_c.html#ga6c338f490a4e0933cb3e6bb88a0a950a" title="Initialize the I2C peripheral. ">i2c_init</a> configures the pins used by I2C</li>
<li><a class="el" href="group__hal___general_i2_c.html#gae70b0ff68f4c598cb48cb5c3a50a2cba" title="Release the I2C object. ">i2c_free</a> returns the pins owned by the I2C object to their reset state</li>
<li><a class="el" href="group__hal___general_i2_c.html#gad19ba573c066dd9560d145399cf46ac8" title="Configure the frequency in Hz at which the I2C peripheral should operate. ">i2c_frequency</a> configure the I2C frequency</li>
<li><a class="el" href="group__hal___general_i2_c.html#gaef06e7ceb299a5e9a3124f56809d6f4e" title="Send START command. ">i2c_start</a> sends START command</li>
<li><a class="el" href="group__hal___general_i2_c.html#gace6a9adfda3af19be188b3988ca414f4" title="Blocking reading data. ">i2c_read</a> reads <code>length</code> bytes from the I2C slave specified by <code>address</code> to the <code>data</code> buffer</li>
<li><a class="el" href="group__hal___general_i2_c.html#gace6a9adfda3af19be188b3988ca414f4" title="Blocking reading data. ">i2c_read</a> reads generates a stop condition on the bus at the end of the transfer if <code>stop</code> parameter is non-zero</li>
<li><a class="el" href="group__hal___general_i2_c.html#gace6a9adfda3af19be188b3988ca414f4" title="Blocking reading data. ">i2c_read</a> reads returns the number of symbols received from the bus</li>
<li><a class="el" href="group__hal___general_i2_c.html#ga4729a42e83ca77662f432466f28c81e0" title="Blocking sending data. ">i2c_write</a> writes <code>length</code> bytes to the I2C slave specified by <code>address</code> from the <code>data</code> buffer</li>
<li><a class="el" href="group__hal___general_i2_c.html#ga4729a42e83ca77662f432466f28c81e0" title="Blocking sending data. ">i2c_write</a> generates a stop condition on the bus at the end of the transfer if <code>stop</code> parameter is non-zero</li>
<li><a class="el" href="group__hal___general_i2_c.html#ga4729a42e83ca77662f432466f28c81e0" title="Blocking sending data. ">i2c_write</a> returns zero on success, error code otherwise</li>
<li>::i2c_reset resets the I2C peripheral</li>
<li>::i2c_byte_read reads and return one byte from the specfied I2C slave</li>
<li>::i2c_byte_read uses <code>last</code> parameter to inform the slave that all bytes have been read</li>
<li>::i2c_byte_write writes one byte to the specified I2C slave</li>
<li>::i2c_byte_write returns 0 if NAK was received, 1 if ACK was received, 2 for timeout</li>
<li>::i2c_slave_mode enables/disables I2S slave mode</li>
<li>::i2c_slave_receive returns: 1 - read addresses, 2 - write to all slaves, 3 write addressed, 0 - the slave has not been addressed</li>
<li>::i2c_slave_read reads <code>length</code> bytes from the I2C master to the <code>data</code> buffer</li>
<li>::i2c_slave_read returns non-zero if a value is available, 0 otherwise</li>
<li>::i2c_slave_write writes <code>length</code> bytes to the I2C master from the <code>data</code> buffer</li>
<li>::i2c_slave_write returns non-zero if a value is available, 0 otherwise</li>
<li><a class="el" href="group___synch_i2_c.html#gaf072f739346f895d3f974c3224b58bb2" title="Configure I2C address. ">i2c_slave_address</a> configures I2C slave address</li>
<li>::i2c_transfer_asynch starts I2C asynchronous transfer</li>
<li>::i2c_transfer_asynch writes <code>tx_length</code> bytes to the I2C slave specified by <code>address</code> from the <code>tx</code> buffer</li>
<li>::i2c_transfer_asynch reads <code>rx_length</code> bytes from the I2C slave specified by <code>address</code> to the <code>rx</code> buffer</li>
<li>::i2c_transfer_asynch generates a stop condition on the bus at the end of the transfer if <code>stop</code> parameter is non-zero</li>
<li>The callback given to ::i2c_transfer_asynch is invoked when the transfer completes</li>
<li>::i2c_transfer_asynch specifies the logical OR of events to be registered</li>
<li>The ::i2c_transfer_asynch function may use the <code>DMAUsage</code> hint to select the appropriate async algorithm</li>
<li>::i2c_irq_handler_asynch returns event flags if a transfer termination condition was met, otherwise returns 0.</li>
<li>::i2c_active returns non-zero if the I2C module is active or 0 if it is not</li>
<li>::i2c_abort_asynch aborts an on-going async transfer</li>
</ul>
<h1>Undefined behavior</h1>
<ul>
<li>Calling <a class="el" href="group__hal___general_i2_c.html#ga6c338f490a4e0933cb3e6bb88a0a950a" title="Initialize the I2C peripheral. ">i2c_init</a> multiple times on the same <code>i2c_t</code></li>
<li>Calling any function other than <a class="el" href="group__hal___general_i2_c.html#ga6c338f490a4e0933cb3e6bb88a0a950a" title="Initialize the I2C peripheral. ">i2c_init</a> on a non-initialized <code>i2c_t</code></li>
<li>Initialising the <code>I2C</code> peripheral with invalid <code>SDA</code> and <code>SCL</code> pins.</li>
<li>Passing pins that cannot be on the same peripheral</li>
<li>Passing an invalid pointer as <code>obj</code> to any function</li>
<li>Use of a <code>null</code> pointer as an argument to any function.</li>
<li>Initialising the peripheral in slave mode if slave mode is not supported</li>
<li>Operating the peripheral in slave mode without first specifying and address using <a class="el" href="group___synch_i2_c.html#gaf072f739346f895d3f974c3224b58bb2" title="Configure I2C address. ">i2c_slave_address</a></li>
<li>Setting an address using i2c_slave_address after initialising the peripheral in master mode</li>
<li>Setting an address to an <code>I2C</code> reserved value</li>
<li>Specifying an invalid address when calling any <code>read</code> or <code>write</code> functions</li>
<li>Setting the length of the transfer or receive buffers to larger than the buffers are</li>
<li>Passing an invalid pointer as <code>handler</code></li>
<li>Calling <a class="el" href="group__hal___asynch_i2_c.html#ga56bd05e76a0a724884c8edac7eaf946a" title="Abort asynchronous transfer. ">i2c_abort_async</a> when no transfer is currently in progress </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gae70b0ff68f4c598cb48cb5c3a50a2cba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">void i2c_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c.html">i2c_t</a> * </td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Release the I2C object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object to deinitialize </td></tr>
  </tbody></table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad19ba573c066dd9560d145399cf46ac8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">uint32_t i2c_frequency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c.html">i2c_t</a> * </td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t </td>
          <td class="paramname"><em>frequency</em> </td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Configure the frequency in Hz at which the I2C peripheral should operate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object </td></tr>
    <tr><td class="paramname">frequency</td><td>Frequency in Hz</td></tr>
  </tbody></table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The actual frequency that the peripheral generates to allow a user to adjust its strategy in case the target cannot be reached. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3c774d870d5358ed543002bcbb86a584"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">void i2c_get_capabilities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c__capabilities__t.html">i2c_capabilities_t</a> * </td>
          <td class="paramname"><em>capabilities</em></td><td>)</td>
          <td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Fills structure indicating supported features and frequencies on the current platform. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramdir">[out]</td><td class="paramname">capabilities</td><td>Capabilities structure filled with supported configurations. </td></tr>
  </tbody></table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6c338f490a4e0933cb3e6bb88a0a950a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">void i2c_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c.html">i2c_t</a> * </td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PinName </td>
          <td class="paramname"><em>sda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PinName </td>
          <td class="paramname"><em>scl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>
          <td class="paramname"><em>is_slave</em> </td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Initialize the I2C peripheral. </p>
<p>It sets the default parameters for the I2C peripheral and configures its pins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object </td></tr>
    <tr><td class="paramname">sda</td><td>The sda pin </td></tr>
    <tr><td class="paramname">scl</td><td>The scl pin </td></tr>
    <tr><td class="paramname">is_slave</td><td>Choose whether the peripheral is initialized as master or slave. </td></tr>
  </tbody></table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6f1b510565f17eb8c15ea0121c7c1367"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">const <a class="el" href="struct_pin_map.html">PinMap</a>* i2c_master_scl_pinmap </td>
          <td>(</td>
          <td class="paramtype">void </td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Get the pins that support I2C SCL. </p>
<p>Return a <a class="el" href="struct_pin_map.html">PinMap</a> array of pins that support I2C SCL in master mode. The array is terminated with {NC, NC, 0}.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_pin_map.html">PinMap</a> array </dd></dl>

</div>
</div>
<a class="anchor" id="gace6c8730abc5b59f24c516bea8ea81ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">const <a class="el" href="struct_pin_map.html">PinMap</a>* i2c_master_sda_pinmap </td>
          <td>(</td>
          <td class="paramtype">void </td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Get the pins that support I2C SDA. </p>
<p>Return a <a class="el" href="struct_pin_map.html">PinMap</a> array of pins that support I2C SDA in master mode. The array is terminated with {NC, NC, 0}.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_pin_map.html">PinMap</a> array </dd></dl>

</div>
</div>
<a class="anchor" id="gace6a9adfda3af19be188b3988ca414f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">int32_t i2c_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c.html">i2c_t</a> * </td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t </td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t * </td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t </td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>
          <td class="paramname"><em>stop</em> </td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Blocking reading data. </p>
<p>This function receives data when the peripheral is configured as Master from the selected slave and when configured as Slave from the Master.</p>
<p>This function is blocking; it returns when the transfer is complete or a timeout event is triggered. The number of bytes received is returned by the function after the operation is completed. Receive operation cannot be canceled or aborted.</p>
<p>When in master mode, the operation consists of:</p><ul>
<li>Addressing the slave as a Master receiver.</li>
<li>Receiving data from the addressed slave.</li>
<li>Generating a STOP condition if the specified <code>stop</code> field is true.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object </td></tr>
    <tr><td class="paramname">address</td><td>7/10-bit address (last bit is 1) </td></tr>
    <tr><td class="paramname">data</td><td>The buffer for receiving </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to read </td></tr>
    <tr><td class="paramname">stop</td><td>If true, stop is generated after the transfer is done</td></tr>
  </tbody></table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If the current platform supports multimaster operation, the peripheral performs arbitration automatically when detecting collisions and completes the transfer or returns I2C_ERROR_ARBITRATION_LOST when it loses arbitration.</dd></dl>
<p>Additional time for arbitration or clock stretching should by count by setting appropriate timeout value.</p>
<p>When no transmision timeout is set by the user, the default timeout value is used. It counts one additional byte for addressing stage: default_timeout = (length + 1) * byte_timeout.</p>
<dl class="section return"><dt>Returns</dt><dd>zero or nonzero - Number of written bytes negative - I2C_ERROR_XXX status </dd></dl>

</div>
</div>
<a class="anchor" id="ga7afd9d4800b9a6d2c9a3897bf2e1cc23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">void i2c_set_clock_stretching </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c.html">i2c_t</a> * </td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>
          <td class="paramname"><em>enabled</em> </td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Enable or disable clock stretching for the I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object </td></tr>
    <tr><td class="paramname">enabled</td><td>If 'true', enable clock stretching on the given I2C peripheral; otherwise, disable it. </td></tr>
  </tbody></table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gadb30d55ff606354cbd51674e8aa63f12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">const <a class="el" href="struct_pin_map.html">PinMap</a>* i2c_slave_scl_pinmap </td>
          <td>(</td>
          <td class="paramtype">void </td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Get the pins that support I2C SCL. </p>
<p>Return a <a class="el" href="struct_pin_map.html">PinMap</a> array of pins that support I2C SCL in slave mode. The array is terminated with {NC, NC, 0}.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_pin_map.html">PinMap</a> array </dd></dl>

</div>
</div>
<a class="anchor" id="ga4509b62ed3377fc069386e1ed53b9776"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">const <a class="el" href="struct_pin_map.html">PinMap</a>* i2c_slave_sda_pinmap </td>
          <td>(</td>
          <td class="paramtype">void </td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Get the pins that support I2C SDA. </p>
<p>Return a <a class="el" href="struct_pin_map.html">PinMap</a> array of pins that support I2C SDA in slave mode. The array is terminated with {NC, NC, 0}.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_pin_map.html">PinMap</a> array </dd></dl>

</div>
</div>
<a class="anchor" id="gaef06e7ceb299a5e9a3124f56809d6f4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">void i2c_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c.html">i2c_t</a> * </td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Send START command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object. </td></tr>
  </tbody></table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5b9347e49adc776fa5b9edd542155c43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">void i2c_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c.html">i2c_t</a> * </td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Send STOP command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object </td></tr>
  </tbody></table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga970c13b7db4b73b457b12b707a53fa3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">void i2c_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c.html">i2c_t</a> * </td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t </td>
          <td class="paramname"><em>timeout</em> </td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Configure the timeout duration in microseconds for blocking transmission. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object </td></tr>
    <tr><td class="paramname">timeout</td><td>Transmission timeout in microseconds.</td></tr>
  </tbody></table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If no timeout is set, the default timeout is used. Default timeout value is based on I2C frequency. Byte timeout is computed as triple amount of time it would take to send 10 bit over I2C and is expressed by the formula: byte_timeout = 3 * (1/frequency * 10 * 1000000) </dd></dl>

</div>
</div>
<a class="anchor" id="ga4729a42e83ca77662f432466f28c81e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tbody><tr>
          <td class="memname">int32_t i2c_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi2c.html">i2c_t</a> * </td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t </td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t * </td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t </td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>
          <td class="paramname"><em>stop</em> </td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </tbody></table>
</div><div class="memdoc">

<p>Blocking sending data. </p>
<p>This function transmits data when the peripheral is configured as Master to the selected slave and when configured as Slave transmits data to the Master.</p>
<p>This function is blocking; it returns when the transfer is complete or a timeout event is triggered. The number of bytes transmitted is returned by the function after the operation is completed. Transmit operation cannot be canceled or aborted.</p>
<p>The data buffer must stay allocated during the duration of the transfer, and the contents must not be modified. The value of the specified <code>address</code> is ignored when configured in slave mode. In master mode, it contains the address of the target peripheral. This is a 7-bit value unless 10-bit addressing is configured, and the target supports it.</p>
<p>When in master mode, the operation consists of:</p><ul>
<li>Addressing the slave as a Master transmitter.</li>
<li>Transmitting data to the addressed slave.</li>
<li>Generating a STOP condition if the specified <code>stop</code> field is true.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tbody><tr><td class="paramname">obj</td><td>The I2C object </td></tr>
    <tr><td class="paramname">address</td><td>7/10-bit address (last bit is 0) </td></tr>
    <tr><td class="paramname">data</td><td>The buffer for sending </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to write </td></tr>
    <tr><td class="paramname">stop</td><td>If true, stop is generated after the transfer is done</td></tr>
  </tbody></table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If the current platform supports multimaster operation, the peripheral performs arbitration automatically when detecting collisions and completes the transfer or returns I2C_ERROR_ARBITRATION_LOST when it loses arbitration.</dd></dl>
<p>Additional time for arbitration or clock stretching should by count by setting appropriate timeout value.</p>
<p>When no transmision timeout is set by the user, the default timeout value is used. It counts one additional byte for addressing stage: default_timeout = (length + 1) * byte_timeout.</p>
<dl class="section return"><dt>Returns</dt><dd>zero or nonzero - Number of written bytes negative - I2C_ERROR_XXX status </dd></dl>

</div>
</div>
</div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/feature-i2c-doxy/group__hal___general_i2_c.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:58:48 GMT -->
</html>
