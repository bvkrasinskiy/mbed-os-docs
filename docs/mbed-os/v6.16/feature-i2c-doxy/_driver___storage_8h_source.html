<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/feature-i2c-doxy/_driver___storage_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 16:06:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | Driver_Storage.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="_driver___storage_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/feature-i2c-doxy/_driver___storage_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/feature-i2c-doxy/_driver___storage_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_0a35604a9686a5c61e943d0c488f7389.html">hal</a></li><li class="navelem"><a class="el" href="dir_18ab911a35cc4371d424c0891603f18f.html">storage_abstraction</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Driver_Storage.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment"></span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment">/** \addtogroup hal */</span><span class="comment"></span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment">/** @{*/</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment">/*</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> <span class="comment"> * Copyright (c) 2006-2016, ARM Limited, All Rights Reserved</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> <span class="comment"> * SPDX-License-Identifier: Apache-2.0</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment"> * Licensed under the Apache License, Version 2.0 (the "License"); you may</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment"> * not use this file except in compliance with the License.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment"> *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment"> * http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment"> * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> <span class="comment"> * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> <span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> <span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> <span class="comment"> */</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> </div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> <span class="preprocessor">#ifndef __DRIVER_STORAGE_H</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="preprocessor">#define __DRIVER_STORAGE_H</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> </div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> </div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> <span class="comment">/****** This file has been deprecated since mbed-os-5.5 *****/</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> </div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="preprocessor">#endif // __cplusplus</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> </div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="preprocessor">#include "Driver_Common.h"</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> </div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="preprocessor">#define ARM_STORAGE_API_VERSION ARM_DRIVER_VERSION_MAJOR_MINOR(1,00)  </span><span class="comment">/* API version */</span><span class="preprocessor"></span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> </div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> </div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> <span class="preprocessor">#define _ARM_Driver_Storage_(n)      Driver_Storage##n</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="preprocessor">#define  ARM_Driver_Storage_(n) _ARM_Driver_Storage_(n)</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> </div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="group__hal.html#gab8112c1c73ba434c93d19fa1a445c6bf">   40</a></span> <span class="preprocessor">#define ARM_STORAGE_INVALID_OFFSET  (0xFFFFFFFFFFFFFFFFULL) </span><span class="comment">///&lt; Invalid address (relative to a storage controller's</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> <span class="comment"></span><span class="comment">                                                            ///&lt; address space). A storage block may never start at this address.</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> <span class="comment"></span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="group__hal.html#ga5499f02c78acaccb22d6ecc6be195058">   43</a></span> <span class="preprocessor">#define ARM_STORAGE_INVALID_ADDRESS (0xFFFFFFFFUL)          </span><span class="comment">///&lt; Invalid address within the processor's memory address space.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> <span class="comment"></span><span class="comment">                                                            ///&lt; Refer to memory-mapped storage, i.e. &lt; \ref ARM_DRIVER_STORAGE::ResolveAddress().</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> <span class="comment"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> <span class="comment">/****** Storage specific error codes *****/</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="group__hal.html#ga7d81999c123625db0e66b8a2c2b0e1b9">   47</a></span> <span class="preprocessor">#define ARM_STORAGE_ERROR_NOT_ERASABLE      (ARM_DRIVER_ERROR_SPECIFIC - 1) </span><span class="comment">///&lt; Part (or all) of the range provided to Erase() isn't erasable.</span></div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="group__hal.html#ga5a97bf8a1813abdf6fef26f0d777a252">   48</a></span> <span class="comment"></span>#define ARM_STORAGE_ERROR_NOT_PROGRAMMABLE  (ARM_DRIVER_ERROR_SPECIFIC - 2) <span class="comment">///&lt; Part (or all) of the range provided to ProgramData() isn't programmable.</span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="group__hal.html#ga71f6e5ed403c06a5c99c4882bacdf76e">   49</a></span> <span class="comment"></span>#define ARM_STORAGE_ERROR_PROTECTED         (ARM_DRIVER_ERROR_SPECIFIC - 3) <span class="comment">///&lt; Part (or all) of the range to Erase() or ProgramData() is protected.</span></div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="group__hal.html#ga530858fa666c8354e967119ca1ca8816">   50</a></span> <span class="comment"></span>#define ARM_STORAGE_ERROR_RUNTIME_OR_INTEGRITY_FAILURE (ARM_DRIVER_ERROR_SPECIFIC - 4) <span class="comment">///&lt; Runtime or sanity-check failure.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> <span class="comment"></span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span> <span class="comment">/**</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> <span class="comment"> * \brief Attributes of the storage range within a storage block.</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> <span class="comment"> */</span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html">   55</a></span> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html">_ARM_STORAGE_BLOCK_ATTRIBUTES</a> {</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#ab350afb2119388ebd3f096bd24f019ef">   56</a></span>   uint32_t <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#ab350afb2119388ebd3f096bd24f019ef">erasable</a>      :  1;   <span class="comment">///&lt; Erasing blocks is permitted with a minimum granularity of 'erase_unit'.</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span> <span class="comment"></span><span class="comment">                                 ///&lt;   @note: if 'erasable' is 0--i.e. the 'erase' operation isn't available--then</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span> <span class="comment"></span><span class="comment">                                 ///&lt;   'erase_unit' (see below) is immaterial and should be 0.</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#a7f4aebaeeb818b0e2a0592f96559fa1b">   59</a></span> <span class="comment"></span>  uint32_t <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#a7f4aebaeeb818b0e2a0592f96559fa1b">programmable</a>  :  1;   <span class="comment">///&lt; Writing to ranges is permitted with a minimum granularity of 'program_unit'.</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span> <span class="comment"></span><span class="comment">                                 ///&lt;   Writes are typically achieved through the ProgramData operation (following an erase);</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span> <span class="comment"></span><span class="comment">                                 ///&lt;   if storage isn't erasable (see 'erasable' above) but is memory-mapped</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span> <span class="comment"></span><span class="comment">                                 ///&lt;   (i.e. 'memory_mapped'), it can be written directly using memory-store operations.</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#a910da8e2e909faab1d32cca7f8b05656">   63</a></span> <span class="comment"></span>  uint32_t <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#a910da8e2e909faab1d32cca7f8b05656">executable</a>    :  1;   <span class="comment">///&lt; This storage block can hold program data; the processor can fetch and execute code</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span> <span class="comment"></span><span class="comment">                                 ///&lt;   sourced from it. Often this is accompanied with the device being 'memory_mapped' (see \ref ARM_STORAGE_INFO).</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#a7c8899f46a471e1b7698a75a759e67c1">   65</a></span> <span class="comment"></span>  uint32_t <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#a7c8899f46a471e1b7698a75a759e67c1">protectable</a>   :  1;   <span class="comment">///&lt; The entire block can be protected from program and erase operations. Once protection</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span> <span class="comment"></span><span class="comment">                                 ///&lt;   is enabled for a block, its 'erasable' and 'programmable' bits are turned off.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span> <span class="comment"></span>  uint32_t reserved      : 28;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#aac21d3f798c9fcad415b99cf4157935a">   68</a></span>   uint32_t <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#aac21d3f798c9fcad415b99cf4157935a">erase_unit</a>;           <span class="comment">///&lt; Minimum erase size in bytes.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span> <span class="comment"></span><span class="comment">                                 ///&lt;   The offset of the start of the erase-range should also be aligned with this value.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span> <span class="comment"></span><span class="comment">                                 ///&lt;   Applicable if the 'erasable' attribute is set for the block.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> <span class="comment"></span><span class="comment">                                 ///&lt;   @note: if 'erasable' (see above) is 0--i.e. the 'erase' operation isn't available--then</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span> <span class="comment"></span><span class="comment">                                 ///&lt;   'erase_unit' is immaterial and should be 0.</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#ae319384dfb356cbb0b08ccbf8c04a590">   73</a></span> <span class="comment"></span>  uint32_t <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#ae319384dfb356cbb0b08ccbf8c04a590">protection_unit</a>;      <span class="comment">///&lt; Minimum protectable size in bytes. Applicable if the 'protectable'</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span> <span class="comment"></span><span class="comment">                                 ///&lt;   attribute is set for the block. This should be a divisor of the block's size. A</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span> <span class="comment"></span><span class="comment">                                 ///&lt;   block can be considered to be made up of consecutive, individually-protectable fragments.</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span> <span class="comment"></span>} <a class="code" href="group__hal.html#ga6d945eafdd6ed900e4dfb0cae9040a81">ARM_STORAGE_BLOCK_ATTRIBUTES</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span> <span class="comment"></span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span> <span class="comment">/**</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span> <span class="comment"> * \brief A storage block is a range of memory with uniform attributes. Storage blocks</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span> <span class="comment"> * combine to make up the address map of a storage controller.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span> <span class="comment"> */</span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html">   82</a></span> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html">_ARM_STORAGE_BLOCK</a> {</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html#a0e89cf6b9f6cd3125470b1bed2b823df">   83</a></span>   uint64_t                     <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html#a0e89cf6b9f6cd3125470b1bed2b823df">addr</a>;       <span class="comment">///&lt; This is the start address of the storage block. It is</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span> <span class="comment"></span><span class="comment">                                           ///&lt;   expressed as an offset from the start of the storage map</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span> <span class="comment"></span><span class="comment">                                           ///&lt;   maintained by the owning storage controller.</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html#af931a8871310b4dad23f0f0b0f623560">   86</a></span> <span class="comment"></span>  uint64_t                     <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html#af931a8871310b4dad23f0f0b0f623560">size</a>;       <span class="comment">///&lt; This is the size of the storage block, in units of bytes.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> <span class="comment"></span><span class="comment">                                           ///&lt;   Together with addr, it describes a range [addr, addr+size).</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html#ade62c905888479b4f6d078d45cec5830">   88</a></span> <span class="comment"></span>  <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html">ARM_STORAGE_BLOCK_ATTRIBUTES</a> <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html#ade62c905888479b4f6d078d45cec5830">attributes</a>; <span class="comment">///&lt; Attributes for this block.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span> <span class="comment"></span>} <a class="code" href="group__hal.html#gadecac359311b6cb2c871bc4a1d5e2baf">ARM_STORAGE_BLOCK</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span> <span class="comment"></span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span> <span class="comment">/**</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span> <span class="comment"> * The check for a valid ARM_STORAGE_BLOCK.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span> <span class="comment"> */</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="group__hal.html#ga955b1ca2ea24cfd3a8923731b581cfd4">   94</a></span> <span class="preprocessor">#define ARM_STORAGE_VALID_BLOCK(BLK) (((BLK)-&gt;addr != ARM_STORAGE_INVALID_OFFSET) &amp;&amp; ((BLK)-&gt;size != 0))</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span> <span class="comment"></span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span> <span class="comment">/**</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span> <span class="comment"> * \brief Values for encoding storage memory-types with respect to programmability.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span> <span class="comment"> *</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span> <span class="comment"> * Please ensure that the maximum of the following memory types doesn't exceed 16; we</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span> <span class="comment"> * encode this in a 4-bit field within ARM_STORAGE_INFO::programmability.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span> <span class="comment"> */</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="group__hal.html#ga66cd2a20f084db2d28f6a98cbc503d8a">  102</a></span> <span class="preprocessor">#define ARM_STORAGE_PROGRAMMABILITY_RAM       (0x0)</span></div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="group__hal.html#gaf232495db19beb7025aebc6e3f9e7553">  103</a></span> <span class="preprocessor">#define ARM_STORAGE_PROGRAMMABILITY_ROM       (0x1) </span><span class="comment">///&lt; Read-only memory.</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="group__hal.html#ga373cda87e59c51b2a04f46f4d31d5dd8">  104</a></span> <span class="comment"></span>#define ARM_STORAGE_PROGRAMMABILITY_WORM      (0x2) <span class="comment">///&lt; write-once-read-only-memory (WORM).</span></div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="group__hal.html#ga08670c9b9270eba2e030d90c4af9317c">  105</a></span> <span class="comment"></span>#define ARM_STORAGE_PROGRAMMABILITY_ERASABLE  (0x3) <span class="comment">///&lt; re-programmable based on erase. Supports multiple writes.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span> <span class="comment"></span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span> <span class="comment">/**</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span> <span class="comment"> * Values for encoding data-retention levels for storage blocks.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span> <span class="comment"> *</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span> <span class="comment"> * Please ensure that the maximum of the following retention types doesn't exceed 16; we</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span> <span class="comment"> * encode this in a 4-bit field within ARM_STORAGE_INFO::retention_level.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span> <span class="comment"> */</span></div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="group__hal.html#gafb918a33a4b8655321c45dfb99b86339">  113</a></span> <span class="preprocessor">#define ARM_RETENTION_WHILE_DEVICE_ACTIVE     (0x0) </span><span class="comment">///&lt; Data is retained only during device activity.</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="group__hal.html#ga42cdcdcda35d29552ed4558542770dbe">  114</a></span> <span class="comment"></span>#define ARM_RETENTION_ACROSS_SLEEP            (0x1) <span class="comment">///&lt; Data is retained across processor sleep.</span></div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="group__hal.html#gacd3c172f37d0c13ac5d5c1477837c638">  115</a></span> <span class="comment"></span>#define ARM_RETENTION_ACROSS_DEEP_SLEEP       (0x2) <span class="comment">///&lt; Data is retained across processor deep-sleep.</span></div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="group__hal.html#ga1b8e7fc9ce024ef2e7d2efb24793c101">  116</a></span> <span class="comment"></span>#define ARM_RETENTION_BATTERY_BACKED          (0x3) <span class="comment">///&lt; Data is battery-backed. Device can be powered off.</span></div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="group__hal.html#gaec136119f63303cf9309e1d787e02ca3">  117</a></span> <span class="comment"></span>#define ARM_RETENTION_NVM                     (0x4) <span class="comment">///&lt; Data is retained in non-volatile memory.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span> <span class="comment"></span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span> <span class="comment">/**</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span> <span class="comment"> * Device Data Security Protection Features. Applicable mostly to EXTERNAL_NVM.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span> <span class="comment"> */</span></div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html">  122</a></span> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html">_ARM_STORAGE_SECURITY_FEATURES</a> {</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html#abbd64eb8edcf2263db5c8ac140dc0448">  123</a></span>   uint32_t acls                :  1; <span class="comment">///&lt; Protection against internal software attacks using ACLs.</span></div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html#affe0253b35f41c44ea06ae1e87d91012">  124</a></span> <span class="comment"></span>  uint32_t rollback_protection :  1; <span class="comment">///&lt; Roll-back protection. Set to true if the creator of the storage</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span> <span class="comment"></span><span class="comment">                                     ///&lt;   can ensure that an external attacker can't force an</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span> <span class="comment"></span><span class="comment">                                     ///&lt;   older firmware to run or to revert back to a previous state.</span></div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html#ac6f64a064cb84e29a631706586d6000c">  127</a></span> <span class="comment"></span>  uint32_t tamper_proof        :  1; <span class="comment">///&lt; Tamper-proof memory (will be deleted on tamper-attempts using board level or chip level sensors).</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html#a47dd9737459c9c5ce48f3e8a04995b9a">  128</a></span> <span class="comment"></span>  uint32_t internal_flash      :  1; <span class="comment">///&lt; Internal flash.</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span> <span class="comment"></span>  uint32_t reserved1           : 12;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span> <span class="comment"></span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span> <span class="comment">  /**</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span> <span class="comment">   * Encode support for hardening against various classes of attacks.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span> <span class="comment">   */</span></div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html#a1b6a0329dd65f25a0ab22496ab708306">  134</a></span>   uint32_t software_attacks     :  1; <span class="comment">///&lt; device software (malware running on the device).</span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html#a3981b8fafe1520f11518f2b6e12ef644">  135</a></span> <span class="comment"></span>  uint32_t board_level_attacks  :  1; <span class="comment">///&lt; board level attacks (debug probes, copy protection fuses.)</span></div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html#a19a70a7636956745f75a1f1bbb9cc478">  136</a></span> <span class="comment"></span>  uint32_t chip_level_attacks   :  1; <span class="comment">///&lt; chip level attacks (tamper-protection).</span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html#acd90f369373d7551174a981c4083fef1">  137</a></span> <span class="comment"></span>  uint32_t side_channel_attacks :  1; <span class="comment">///&lt; side channel attacks.</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span> <span class="comment"></span>  uint32_t reserved2            : 12;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span> } <a class="code" href="group__hal.html#ga9f8f96fab046c8bf9f3cd22950b7634d">ARM_STORAGE_SECURITY_FEATURES</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span> </div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="group__hal.html#gab6f380932e1a8e7802be024a224faf93">  141</a></span> <span class="preprocessor">#define ARM_STORAGE_PROGRAM_CYCLES_INFINITE (0UL) </span><span class="comment">/**&lt; Infinite or unknown endurance for reprogramming. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span> <span class="comment"></span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span> <span class="comment">/**</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span> <span class="comment"> * \brief Storage information. This contains device-metadata. It is the return</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span> <span class="comment"> *     value from calling GetInfo() on the storage driver.</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span> <span class="comment"> *</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span> <span class="comment"> * \details These fields serve a different purpose than the ones contained in</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span> <span class="comment"> *     \ref ARM_STORAGE_CAPABILITIES, which is another structure containing</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span> <span class="comment"> *     device-level metadata. ARM_STORAGE_CAPABILITIES describes the API</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span> <span class="comment"> *     capabilities, whereas ARM_STORAGE_INFO describes the device. Furthermore</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span> <span class="comment"> *     ARM_STORAGE_CAPABILITIES fits within a single word, and is designed to be</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span> <span class="comment"> *     passed around by value; ARM_STORAGE_INFO, on the other hand, contains</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span> <span class="comment"> *     metadata which doesn't fit into a single word and requires the use of</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span> <span class="comment"> *     pointers to be moved around.</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span> <span class="comment"> */</span></div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html">  156</a></span> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html">_ARM_STORAGE_INFO</a> {</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a4b14ce1ca2ceea5ce49e81348c5b38f6">  157</a></span>   uint64_t                      <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a4b14ce1ca2ceea5ce49e81348c5b38f6">total_storage</a>;        <span class="comment">///&lt; Total available storage, in bytes.</span></div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a483c41066757e2865bf3a27a2a627a54">  158</a></span> <span class="comment"></span>  uint32_t                      <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a483c41066757e2865bf3a27a2a627a54">program_unit</a>;         <span class="comment">///&lt; Minimum programming size in bytes.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   The offset of the start of the program-range should also be aligned with this value.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   Applicable only if the 'programmable' attribute is set for a block.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   @note: setting program_unit to 0 has the effect of disabling the size and alignment</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   restrictions (setting it to 1 also has the same effect).</span></div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a407e16dc7e4da08cea7785efeebd9b6d">  163</a></span> <span class="comment"></span>  uint32_t                      <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a407e16dc7e4da08cea7785efeebd9b6d">optimal_program_unit</a>; <span class="comment">///&lt; Optimal programming page-size in bytes. Some storage controllers</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   have internal buffers into which to receive data. Writing in chunks of</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   'optimal_program_unit' would achieve maximum programming speed.</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   Applicable only if the 'programmable' attribute is set for the underlying block(s).</span></div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#ac501623ba5adb4904cdd6c286e7388eb">  167</a></span> <span class="comment"></span>  uint32_t                      <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#ac501623ba5adb4904cdd6c286e7388eb">program_cycles</a>;       <span class="comment">///&lt; A measure of endurance for reprogramming.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   Use ARM_STORAGE_PROGRAM_CYCLES_INFINITE for infinite or unknown endurance.</span></div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a902510dbedab116ab6a260a83fbd0f27">  169</a></span> <span class="comment"></span>  uint32_t                      erased_value    :  1; <span class="comment">///&lt; Contents of erased memory (usually 1 to indicate erased bytes with state 0xFF).</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a616b41da466430ed481d791e63784f0c">  170</a></span> <span class="comment"></span>  uint32_t                      memory_mapped   :  1; <span class="comment">///&lt; This storage device has a mapping onto the processor's memory address space.</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   @note: For a memory-mapped block which isn't erasable but is programmable (i.e. if</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   'erasable' is set to 0, but 'programmable' is 1), writes should be possible directly to</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span> <span class="comment"></span><span class="comment">                                                      ///&lt;   the memory-mapped storage without going through the ProgramData operation.</span></div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#aac0da06bf0775bd9b877aafbc4bcad77">  174</a></span> <span class="comment"></span>  uint32_t                      programmability :  4; <span class="comment">///&lt; A value to indicate storage programmability.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span> <span class="comment"></span>  uint32_t                      retention_level :  4;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>   uint32_t                      reserved        : 22;</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#aee43dd20848f45fe05efc10a8198817a">  177</a></span>   <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html">ARM_STORAGE_SECURITY_FEATURES</a> <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#aee43dd20848f45fe05efc10a8198817a">security</a>;             <span class="comment">///&lt; \ref ARM_STORAGE_SECURITY_FEATURES</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span> <span class="comment"></span>} <a class="code" href="group__hal.html#gac76684bbb5b3d44d75d428664190a178">ARM_STORAGE_INFO</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span> <span class="comment"></span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span> <span class="comment">/**</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span> <span class="comment">\brief Operating status of the storage controller.</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span> <span class="comment">*/</span></div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_t_a_t_u_s.html">  183</a></span> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___s_t_a_t_u_s.html">_ARM_STORAGE_STATUS</a> {</div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_t_a_t_u_s.html#a50c88f3c1d787773e2ac1b59533f034a">  184</a></span>   uint32_t busy  : 1;                   <span class="comment">///&lt; Controller busy flag</span></div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___s_t_a_t_u_s.html#aa8d183302fdfa4a6892f1d80300cdb32">  185</a></span> <span class="comment"></span>  uint32_t <a class="code" href="group__platform__error.html#gabc561ef2adcee0d1aef1917f40828a42">error</a> : 1;                   <span class="comment">///&lt; Read/Program/Erase error flag (cleared on start of next operation)</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span> <span class="comment"></span>} <a class="code" href="group__hal.html#ga1caa1448e7ceb7e3a654110b6d6a9fc9">ARM_STORAGE_STATUS</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span> <span class="comment"></span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span> <span class="comment">/**</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span> <span class="comment"> * \brief Storage Driver API Capabilities.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> <span class="comment"> *</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span> <span class="comment"> * This data structure is designed to fit within a single word so that it can be</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span> <span class="comment"> * fetched cheaply using a call to driver-&gt;GetCapabilities().</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span> <span class="comment"> */</span></div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___c_a_p_a_b_i_l_i_t_i_e_s.html">  194</a></span> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___c_a_p_a_b_i_l_i_t_i_e_s.html">_ARM_STORAGE_CAPABILITIES</a> {</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___c_a_p_a_b_i_l_i_t_i_e_s.html#a15ade4ca762bc6ce72d435a16febb4cc">  195</a></span>   uint32_t asynchronous_ops :  1; <span class="comment">///&lt; Used to indicate if APIs like initialize,</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span> <span class="comment"></span><span class="comment">                                  ///&lt;   read, erase, program, etc. can operate in asynchronous mode.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span> <span class="comment"></span><span class="comment">                                  ///&lt;   Setting this bit to 1 means that the driver is capable</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span> <span class="comment"></span><span class="comment">                                  ///&lt;   of launching asynchronous operations; command completion is</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span> <span class="comment"></span><span class="comment">                                  ///&lt;   signaled by the invocation of a completion callback. If</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span> <span class="comment"></span><span class="comment">                                  ///&lt;   set to 1, drivers may still complete asynchronous</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span> <span class="comment"></span><span class="comment">                                  ///&lt;   operations synchronously as necessary--in which case they</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span> <span class="comment"></span><span class="comment">                                  ///&lt;   return a positive error code to indicate synchronous completion.</span></div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="struct___a_r_m___s_t_o_r_a_g_e___c_a_p_a_b_i_l_i_t_i_e_s.html#a63882f6a571f20aad1b5b3542cdaafa1">  203</a></span> <span class="comment"></span>  uint32_t erase_all        :  1; <span class="comment">///&lt; Supports EraseAll operation.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span> <span class="comment"></span>  uint32_t reserved         : 30;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span> } <a class="code" href="group__hal.html#gad267eca01f5440f755deea9a18720c77">ARM_STORAGE_CAPABILITIES</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span> <span class="comment"></span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span> <span class="comment">/**</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span> <span class="comment"> * Command opcodes for Storage. Completion callbacks use these codes to refer to</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span> <span class="comment"> * completing commands. Refer to \ref ARM_Storage_Callback_t.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span> <span class="comment"> */</span></div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="group__hal.html#ga5b385dae79b89fb809943db262c420a8">  211</a></span> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__hal.html#ga5b385dae79b89fb809943db262c420a8">_ARM_STORAGE_OPERATION</a> {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>   ARM_STORAGE_OPERATION_GET_VERSION,</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>   ARM_STORAGE_OPERATION_GET_CAPABILITIES,</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>   ARM_STORAGE_OPERATION_INITIALIZE,</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>   ARM_STORAGE_OPERATION_UNINITIALIZE,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>   ARM_STORAGE_OPERATION_POWER_CONTROL,</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>   ARM_STORAGE_OPERATION_READ_DATA,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>   ARM_STORAGE_OPERATION_PROGRAM_DATA,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>   ARM_STORAGE_OPERATION_ERASE,</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>   ARM_STORAGE_OPERATION_ERASE_ALL,</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>   ARM_STORAGE_OPERATION_GET_STATUS,</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>   ARM_STORAGE_OPERATION_GET_INFO,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>   ARM_STORAGE_OPERATION_RESOLVE_ADDRESS,</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>   ARM_STORAGE_OPERATION_GET_NEXT_BLOCK,</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>   ARM_STORAGE_OPERATION_GET_BLOCK</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span> } <a class="code" href="group__hal.html#gafff173b1168a0417e6d2711fd83cddc3">ARM_STORAGE_OPERATION</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span> <span class="comment"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span> <span class="comment">/**</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span> <span class="comment"> * Declaration of the callback-type for command completion.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span> <span class="comment"> *</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span> <span class="comment"> * @param [in] status</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span> <span class="comment"> *               A code to indicate the status of the completed operation. For data</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span> <span class="comment"> *               transfer operations, the status field is overloaded in case of</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span> <span class="comment"> *               success to return the count of items successfully transferred; this</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span> <span class="comment"> *               can be done safely because error codes are negative values.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span> <span class="comment"> *</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span> <span class="comment"> * @param [in] operation</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span> <span class="comment"> *               The command op-code. This value isn't essential for the callback in</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span> <span class="comment"> *               the presence of the command instance-id, but it is expected that</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span> <span class="comment"> *               this information could be a quick and useful filter.</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span> <span class="comment"> */</span></div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="group__hal.html#ga55adf95bab3afcb7da777ca0e8cc12ae">  242</a></span> <span class="keyword">typedef</span> void (*<a class="code" href="group__hal.html#ga55adf95bab3afcb7da777ca0e8cc12ae">ARM_Storage_Callback_t</a>)(int32_t status, ARM_STORAGE_OPERATION operation);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span> <span class="comment"></span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span> <span class="comment">/**</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span> <span class="comment"> * This is the set of operations constituting the Storage driver. Their</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span> <span class="comment"> * implementation is platform-specific, and needs to be supplied by the</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span> <span class="comment"> * porting effort.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span> <span class="comment"> *</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span> <span class="comment"> * Some APIs within `ARM_DRIVER_STORAGE` will always operate synchronously:</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span> <span class="comment"> * GetVersion, GetCapabilities, GetStatus, GetInfo, ResolveAddress,</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span> <span class="comment"> * GetNextBlock, and GetBlock. This means that control returns to the caller</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span> <span class="comment"> * with a relevant status code only after the completion of the operation (or</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span> <span class="comment"> * the discovery of a failure condition).</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="comment"> *</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span> <span class="comment"> * The remainder of the APIs: Initialize, Uninitialize, PowerControl, ReadData,</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span> <span class="comment"> * ProgramData, Erase, EraseAll, can function asynchronously if the underlying</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span> <span class="comment"> * controller supports it--i.e. if ARM_STORAGE_CAPABILITIES::asynchronous_ops is</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span> <span class="comment"> * set. In the case of asynchronous operation, the invocation returns early</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span> <span class="comment"> * (with ARM_DRIVER_OK) and results in a completion callback later. If</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="comment"> * ARM_STORAGE_CAPABILITIES::asynchronous_ops is not set, then all such APIs</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span> <span class="comment"> * execute synchronously, and control returns to the caller with a status code</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span> <span class="comment"> * only after the completion of the operation (or the discovery of a failure</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span> <span class="comment"> * condition).</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span> <span class="comment"> *</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span> <span class="comment"> * If ARM_STORAGE_CAPABILITIES::asynchronous_ops is set, a storage driver may</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span> <span class="comment"> * still choose to execute asynchronous operations in a synchronous manner. If</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span> <span class="comment"> * so, the driver returns a positive value to indicate successful synchronous</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span> <span class="comment"> * completion (or an error code in case of failure) and no further invocation of</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span> <span class="comment"> * completion callback should be expected. The expected return value for</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span> <span class="comment"> * synchronous completion of such asynchronous operations varies depending on</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span> <span class="comment"> * the operation. For operations involving data access, it often equals the</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span> <span class="comment"> * amount of data transferred or affected. For non data-transfer operations,</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span> <span class="comment"> * such as EraseAll or Initialize, it is usually 1.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span> <span class="comment"> *</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span> <span class="comment"> * Here's a code snippet to suggest how asynchronous APIs might be used by</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span> <span class="comment"> * callers to handle both synchronous and asynchronous execution by the</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span> <span class="comment"> * underlying storage driver:</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span> <span class="comment"> * \code</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span> <span class="comment"> *     ASSERT(ARM_DRIVER_OK == 0); // this is a precondition; it doesn't need to be put in code</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span> <span class="comment"> *     int32_t returnValue = drv-&gt;asynchronousAPI(...);</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span> <span class="comment"> *     if (returnValue &lt; ARM_DRIVER_OK) {</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span> <span class="comment"> *         // handle error.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span> <span class="comment"> *     } else if (returnValue == ARM_DRIVER_OK) {</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span> <span class="comment"> *         ASSERT(drv-&gt;GetCapabilities().asynchronous_ops == 1);</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span> <span class="comment"> *         // handle early return from asynchronous execution; remainder of the work is done in the callback handler.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span> <span class="comment"> *     } else {</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span> <span class="comment"> *         ASSERT(returnValue == EXPECTED_RETURN_VALUE_FOR_SYNCHRONOUS_COMPLETION);</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span> <span class="comment"> *         // handle synchronous completion.</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span> <span class="comment"> *     }</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span> <span class="comment"> * \endcode</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span> <span class="comment"> */</span></div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html">  292</a></span> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html">_ARM_DRIVER_STORAGE</a> {<span class="comment"></span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span> <span class="comment">  /**</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span> <span class="comment">   * \brief Get driver version.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span> <span class="comment">   *</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span> <span class="comment">   * The function GetVersion() returns version information of the driver implementation in ARM_DRIVER_VERSION.</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span> <span class="comment">   *</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span> <span class="comment">   *    - API version is the version of the CMSIS-Driver specification used to implement this driver.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span> <span class="comment">   *    - Driver version is source code version of the actual driver implementation.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span> <span class="comment">   *</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span> <span class="comment">   * Example:</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span> <span class="comment">   * \code</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> <span class="comment">   *     extern ARM_DRIVER_STORAGE *drv_info;</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span> <span class="comment">   *</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span> <span class="comment">   *     void read_version (void)  {</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span> <span class="comment">   *       ARM_DRIVER_VERSION  version;</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span> <span class="comment">   *</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span> <span class="comment">   *       version = drv_info-&gt;GetVersion ();</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span> <span class="comment">   *       if (version.api &lt; 0x10A)   {      // requires at minimum API version 1.10 or higher</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span> <span class="comment">   *         // error handling</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span> <span class="comment">   *         return;</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span> <span class="comment">   *       }</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span> <span class="comment">   *     }</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span> <span class="comment">   * \endcode</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span> <span class="comment">   *</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span> <span class="comment">   * @return \ref ARM_DRIVER_VERSION.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span> <span class="comment">   *</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span> <span class="comment">   * @note This API returns synchronously--it does not result in an invocation</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span> <span class="comment">   *     of a completion callback.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span> <span class="comment">   *</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span> <span class="comment">   * @note The function GetVersion() can be called any time to obtain the</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span> <span class="comment">   *     required information from the driver (even before initialization). It</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span> <span class="comment">   *     always returns the same information.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span> <span class="comment">   */</span></div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#a30afd9cb3113c037b5f1926f5ef93b59">  325</a></span>   <a class="code" href="group__hal.html#gaaa625356a8459f776b4f54a1b9eff098">ARM_DRIVER_VERSION</a> (*GetVersion)(void);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span> <span class="comment"></span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span> <span class="comment">  /**</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span> <span class="comment">   * \brief Get driver capabilities.</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span> <span class="comment">   *</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span> <span class="comment">   * \details The function GetCapabilities() returns information about</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span> <span class="comment">   * capabilities in this driver implementation. The data fields of the struct</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span> <span class="comment">   * ARM_STORAGE_CAPABILITIES encode various capabilities, for example if the device</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span> <span class="comment">   * is able to execute operations asynchronously.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span> <span class="comment">   *</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span> <span class="comment">   * Example:</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span> <span class="comment">   * \code</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span> <span class="comment">   *     extern ARM_DRIVER_STORAGE *drv_info;</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span> <span class="comment">   *</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span> <span class="comment">   *     void read_capabilities (void)  {</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span> <span class="comment">   *       ARM_STORAGE_CAPABILITIES drv_capabilities;</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span> <span class="comment">   *</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span> <span class="comment">   *       drv_capabilities = drv_info-&gt;GetCapabilities ();</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span> <span class="comment">   *       // interrogate capabilities</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span> <span class="comment">   *</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span> <span class="comment">   *     }</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span> <span class="comment">   * \endcode</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span> <span class="comment">   *</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span> <span class="comment">   * @return \ref ARM_STORAGE_CAPABILITIES.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span> <span class="comment">   *</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span> <span class="comment">   * @note This API returns synchronously--it does not result in an invocation</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span> <span class="comment">   *     of a completion callback.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span> <span class="comment">   *</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span> <span class="comment">   * @note The function GetCapabilities() can be called any time to obtain the</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span> <span class="comment">   *     required information from the driver (even before initialization). It</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span> <span class="comment">   *     always returns the same information.</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span> <span class="comment">   */</span></div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#ab3064f39b3c42cd63367312505328f29">  357</a></span>   <a class="code" href="group__hal.html#gad267eca01f5440f755deea9a18720c77">ARM_STORAGE_CAPABILITIES</a> (*GetCapabilities)(void);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span> <span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span> <span class="comment">  /**</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span> <span class="comment">   * \brief Initialize the Storage Interface.</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span> <span class="comment">   *</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span> <span class="comment">   * The function Initialize is called when the middleware component starts</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span> <span class="comment">   * operation. In addition to bringing the controller to a ready state,</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span> <span class="comment">   * Initialize() receives a callback handler to be invoked upon completion of</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span> <span class="comment">   * asynchronous operations.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span> <span class="comment">   *</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span> <span class="comment">   * Initialize() needs to be called explicitly before</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span> <span class="comment">   * powering the peripheral using PowerControl(), and before initiating other</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span> <span class="comment">   * accesses to the storage controller.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span> <span class="comment">   *</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span> <span class="comment">   * The function performs the following operations:</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span> <span class="comment">   *   - Initializes the resources needed for the Storage interface.</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span> <span class="comment">   *   - Registers the \ref ARM_Storage_Callback_t callback function.</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span> <span class="comment">   *</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span> <span class="comment">   * To start working with a peripheral the functions Initialize and PowerControl need to be called in this order:</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span> <span class="comment">   *     drv-&gt;Initialize (...); // Allocate I/O pins</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span> <span class="comment">   *     drv-&gt;PowerControl (ARM_POWER_FULL);        // Power up peripheral, setup IRQ/DMA</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span> <span class="comment">   *</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span> <span class="comment">   * - Initialize() typically allocates the I/O resources (pins) for the</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span> <span class="comment">   *   peripheral. The function can be called multiple times; if the I/O resources</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span> <span class="comment">   *   are already initialized it performs no operation and just returns with</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span> <span class="comment">   *   ARM_DRIVER_OK.</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span> <span class="comment">   *</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span> <span class="comment">   * - PowerControl (ARM_POWER_FULL) sets the peripheral registers including</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span> <span class="comment">   *   interrupt (NVIC) and optionally DMA. The function can be called multiple</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span> <span class="comment">   *   times; if the registers are already set it performs no operation and just</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span> <span class="comment">   *   returns with ARM_DRIVER_OK.</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span> <span class="comment">   *</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span> <span class="comment">   * To stop working with a peripheral the functions PowerControl and Uninitialize need to be called in this order:</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span> <span class="comment">   *     drv-&gt;PowerControl (ARM_POWER_OFF);     // Terminate any pending transfers, reset IRQ/DMA, power off peripheral</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span> <span class="comment">   *     drv-&gt;Uninitialize (...);               // Release I/O pins</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span> <span class="comment">   *</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span> <span class="comment">   * The functions PowerControl and Uninitialize always execute and can be used</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span> <span class="comment">   * to put the peripheral into a Safe State, for example after any data</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span> <span class="comment">   * transmission errors. To restart the peripheral in an error condition,</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span> <span class="comment">   * you should first execute the Stop Sequence and then the Start Sequence.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span> <span class="comment">   *</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span> <span class="comment">   * @param [in] callback</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span> <span class="comment">   *               Caller-defined callback to be invoked upon command completion</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span> <span class="comment">   *               for asynchronous APIs (including the completion of</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span> <span class="comment">   *               initialization). Use a NULL pointer when no callback</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span> <span class="comment">   *               signals are required.</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span> <span class="comment">   *</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span> <span class="comment">   * @note This API may execute asynchronously if</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span> <span class="comment">   *     ARM_STORAGE_CAPABILITIES::asynchronous_ops is set. Asynchronous</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span> <span class="comment">   *     execution is optional even if 'asynchronous_ops' is set.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span> <span class="comment">   *</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span> <span class="comment">   * @return If asynchronous activity is launched, an invocation returns</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span> <span class="comment">   *     ARM_DRIVER_OK, and the caller can expect to receive a callback in the</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span> <span class="comment">   *     future with a status value of ARM_DRIVER_OK or an error-code. In the</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span> <span class="comment">   *     case of synchronous execution, control returns after completion with a</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span> <span class="comment">   *     value of 1. Return values less than ARM_DRIVER_OK (0) signify errors.</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span> <span class="comment">   */</span></div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#a5b5455a05b9291a17e9f2c0b3d2736ef">  414</a></span>   int32_t (*Initialize)(<a class="code" href="group__hal.html#ga55adf95bab3afcb7da777ca0e8cc12ae">ARM_Storage_Callback_t</a> <a class="code" href="group__platform___callback.html#ga347072f32156175ca67fce6a7c6ee3fc">callback</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span> <span class="comment"></span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span> <span class="comment">  /**</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span> <span class="comment">   * \brief De-initialize the Storage Interface.</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span> <span class="comment">   *</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span> <span class="comment">   * The function Uninitialize() de-initializes the resources of Storage interface.</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span> <span class="comment">   *</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span> <span class="comment">   * It is called when the middleware component stops operation, and wishes to</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span> <span class="comment">   * release the software resources used by the interface.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span> <span class="comment">   *</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span> <span class="comment">   * @note This API may execute asynchronously if</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span> <span class="comment">   *     ARM_STORAGE_CAPABILITIES::asynchronous_ops is set. Asynchronous</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span> <span class="comment">   *     execution is optional even if 'asynchronous_ops' is set.</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span> <span class="comment">   *</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span> <span class="comment">   * @return If asynchronous activity is launched, an invocation returns</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span> <span class="comment">   *     ARM_DRIVER_OK, and the caller can expect to receive a callback in the</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span> <span class="comment">   *     future with a status value of ARM_DRIVER_OK or an error-code. In the</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span> <span class="comment">   *     case of synchronous execution, control returns after completion with a</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span> <span class="comment">   *     value of 1. Return values less than ARM_DRIVER_OK (0) signify errors.</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span> <span class="comment">   */</span></div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#a5ce2b3d7a3a07099bf07d1eb253e92e3">  434</a></span>   int32_t (*Uninitialize)(void);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span> <span class="comment"></span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span> <span class="comment">  /**</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span> <span class="comment">   * \brief Control the Storage interface power.</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span> <span class="comment">   *</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span> <span class="comment">   * The function \b ARM_Storage_PowerControl operates the power modes of the Storage interface.</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span> <span class="comment">   *</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span> <span class="comment">   * To start working with a peripheral the functions Initialize and PowerControl need to be called in this order:</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span> <span class="comment">   *     drv-&gt;Initialize (...);                 // Allocate I/O pins</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span> <span class="comment">   *     drv-&gt;PowerControl (ARM_POWER_FULL);    // Power up peripheral, setup IRQ/DMA</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span> <span class="comment">   *</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span> <span class="comment">   * - Initialize() typically allocates the I/O resources (pins) for the</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span> <span class="comment">   *   peripheral. The function can be called multiple times; if the I/O resources</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span> <span class="comment">   *   are already initialized it performs no operation and just returns with</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span> <span class="comment">   *   ARM_DRIVER_OK.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span> <span class="comment">   *</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span> <span class="comment">   * - PowerControl (ARM_POWER_FULL) sets the peripheral registers including</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span> <span class="comment">   *   interrupt (NVIC) and optionally DMA. The function can be called multiple</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span> <span class="comment">   *   times; if the registers are already set it performs no operation and just</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span> <span class="comment">   *   returns with ARM_DRIVER_OK.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span> <span class="comment">   *</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span> <span class="comment">   * To stop working with a peripheral the functions PowerControl and Uninitialize need to be called in this order:</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span> <span class="comment">   *</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span> <span class="comment">   *     drv-&gt;PowerControl (ARM_POWER_OFF);     // Terminate any pending transfers, reset IRQ/DMA, power off peripheral</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span> <span class="comment">   *     drv-&gt;Uninitialize (...);               // Release I/O pins</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span> <span class="comment">   *</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span> <span class="comment">   * The functions PowerControl and Uninitialize always execute and can be used</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span> <span class="comment">   * to put the peripheral into a Safe State, for example after any data</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span> <span class="comment">   * transmission errors. To restart the peripheral in an error condition,</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span> <span class="comment">   * you should first execute the Stop Sequence and then the Start Sequence.</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span> <span class="comment">   *</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span> <span class="comment">   * @param state</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span> <span class="comment">   *          \ref ARM_POWER_STATE. The target power-state for the storage controller.</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span> <span class="comment">   *          The parameter state can have the following values:</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span> <span class="comment">   *              - ARM_POWER_FULL : set-up peripheral for data transfers, enable interrupts</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span> <span class="comment">   *                                 (NVIC) and optionally DMA. Can be called multiple times. If the peripheral</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span> <span class="comment">   *                                 is already in this mode, then the function performs no operation and returns</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span> <span class="comment">   *                                 with ARM_DRIVER_OK.</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span> <span class="comment">   *              - ARM_POWER_LOW : may use power saving. Returns ARM_DRIVER_ERROR_UNSUPPORTED when not implemented.</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span> <span class="comment">   *              - ARM_POWER_OFF : terminates any pending data transfers, disables peripheral, disables related interrupts and DMA.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span> <span class="comment">   *</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span> <span class="comment">   * @note This API may execute asynchronously if</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span> <span class="comment">   *     ARM_STORAGE_CAPABILITIES::asynchronous_ops is set. Asynchronous</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span> <span class="comment">   *     execution is optional even if 'asynchronous_ops' is set.</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span> <span class="comment">   *</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span> <span class="comment">   * @return If asynchronous activity is launched, an invocation returns</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span> <span class="comment">   *     ARM_DRIVER_OK, and the caller can expect to receive a callback in the</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span> <span class="comment">   *     future with a status value of ARM_DRIVER_OK or an error-code. In the</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span> <span class="comment">   *     case of synchronous execution, control returns after completion with a</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span> <span class="comment">   *     value of 1. Return values less than ARM_DRIVER_OK (0) signify errors.</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span> <span class="comment">   */</span></div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#a24ebae5c6011631f76027f9a16eaf5ce">  485</a></span>   int32_t (*PowerControl)(<a class="code" href="group__hal.html#ga8940fd6a442e4549e09c74e48b2042ba">ARM_POWER_STATE</a> state);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span> <span class="comment"></span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span> <span class="comment">  /**</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span> <span class="comment">   * \brief read the contents of a given address range from the storage device.</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span> <span class="comment">   *</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span> <span class="comment">   * \details Read the contents of a range of storage memory into a buffer</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span> <span class="comment">   *   supplied by the caller. The buffer is owned by the caller and should</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span> <span class="comment">   *   remain accessible for the lifetime of this command.</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span> <span class="comment">   *</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span> <span class="comment">   * @param  [in] addr</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span> <span class="comment">   *                This specifies the address from where to read data.</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span> <span class="comment">   *</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span> <span class="comment">   * @param [out] data</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span> <span class="comment">   *                The destination of the read operation. The buffer</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span> <span class="comment">   *                is owned by the caller and should remain accessible for the</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span> <span class="comment">   *                lifetime of this command.</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span> <span class="comment">   *</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span> <span class="comment">   * @param  [in] size</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span> <span class="comment">   *                The number of bytes requested to read. The data buffer</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span> <span class="comment">   *                should be at least as large as this size.</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span> <span class="comment">   *</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span> <span class="comment">   * @note This API may execute asynchronously if</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span> <span class="comment">   *     ARM_STORAGE_CAPABILITIES::asynchronous_ops is set. Asynchronous</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span> <span class="comment">   *     execution is optional even if 'asynchronous_ops' is set.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span> <span class="comment">   *</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span> <span class="comment">   * @return If asynchronous activity is launched, an invocation returns</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span> <span class="comment">   *     ARM_DRIVER_OK, and the caller can expect to receive a callback in the</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span> <span class="comment">   *     future with the number of successfully transferred bytes passed in as</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span> <span class="comment">   *     the 'status' parameter. In the case of synchronous execution, control</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span> <span class="comment">   *     returns after completion with a positive transfer-count. Return values</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span> <span class="comment">   *     less than ARM_DRIVER_OK (0) signify errors.</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span> <span class="comment">   */</span></div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#aac7475b53f1356448c7312c39aa61026">  517</a></span>   int32_t (*ReadData)(uint64_t addr, <span class="keywordtype">void</span> *data, uint32_t size);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span> <span class="comment"></span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span> <span class="comment">  /**</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span> <span class="comment">   * \brief program (write into) the contents of a given address range of the storage device.</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span> <span class="comment">   *</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span> <span class="comment">   * \details Write the contents of a given memory buffer into a range of</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span> <span class="comment">   *   storage memory. In the case of flash memory, the destination range in</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span> <span class="comment">   *   storage memory typically has its contents in an erased state from a</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span> <span class="comment">   *   preceding erase operation. The source memory buffer is owned by the</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span> <span class="comment">   *   caller and should remain accessible for the lifetime of this command.</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span> <span class="comment">   *</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span> <span class="comment">   * @param [in] addr</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span> <span class="comment">   *               This is the start address of the range to be written into. It</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span> <span class="comment">   *               needs to be aligned to the device's \em program_unit</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span> <span class="comment">   *               specified in \ref ARM_STORAGE_INFO.</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span> <span class="comment">   *</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span> <span class="comment">   * @param [in] data</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span> <span class="comment">   *               The source of the write operation. The buffer is owned by the</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span> <span class="comment">   *               caller and should remain accessible for the lifetime of this</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span> <span class="comment">   *               command.</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span> <span class="comment">   *</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span> <span class="comment">   * @param [in] size</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span> <span class="comment">   *               The number of bytes requested to be written. The buffer</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span> <span class="comment">   *               should be at least as large as this size. \note 'size' should</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span> <span class="comment">   *               be a multiple of the device's 'program_unit' (see \ref</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span> <span class="comment">   *               ARM_STORAGE_INFO).</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span> <span class="comment">   *</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span> <span class="comment">   * @note It is best for the middleware to write in units of</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span> <span class="comment">   *     'optimal_program_unit' (\ref ARM_STORAGE_INFO) of the device.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span> <span class="comment">   *</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span> <span class="comment">   * @note This API may execute asynchronously if</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span> <span class="comment">   *     ARM_STORAGE_CAPABILITIES::asynchronous_ops is set. Asynchronous</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span> <span class="comment">   *     execution is optional even if 'asynchronous_ops' is set.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span> <span class="comment">   *</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span> <span class="comment">   * @return If asynchronous activity is launched, an invocation returns</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span> <span class="comment">   *     ARM_DRIVER_OK, and the caller can expect to receive a callback in the</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span> <span class="comment">   *     future with the number of successfully transferred bytes passed in as</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span> <span class="comment">   *     the 'status' parameter. In the case of synchronous execution, control</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span> <span class="comment">   *     returns after completion with a positive transfer-count. Return values</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span> <span class="comment">   *     less than ARM_DRIVER_OK (0) signify errors.</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span> <span class="comment">   */</span></div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#a2055be24b59b4a6158761eff33a561c1">  558</a></span>   int32_t (*ProgramData)(uint64_t addr, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, uint32_t size);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span> <span class="comment"></span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span> <span class="comment">  /**</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span> <span class="comment">   * @brief Erase Storage range.</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span> <span class="comment">   *</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span> <span class="comment">   * @details This function erases a range of storage specified by [addr, addr +</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span> <span class="comment">   *     size). Both 'addr' and 'addr + size' should align with the</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span> <span class="comment">   *     'erase_unit'(s) of the respective owning storage block(s) (see \ref</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span> <span class="comment">   *     ARM_STORAGE_BLOCK and \ref ARM_STORAGE_BLOCK_ATTRIBUTES). The range to</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span> <span class="comment">   *     be erased will have its contents returned to the un-programmed state--</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span> <span class="comment">   *     i.e. to 'erased_value' (see \ref ARM_STORAGE_BLOCK_ATTRIBUTES), which</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span> <span class="comment">   *     is usually 1 to indicate the pattern of all ones: 0xFF.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span> <span class="comment">   *</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span> <span class="comment">   * @param [in] addr</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span> <span class="comment">   *               This is the start-address of the range to be erased. It must</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span> <span class="comment">   *               start at an 'erase_unit' boundary of the underlying block.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span> <span class="comment">   *</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span> <span class="comment">   * @param [in] size</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span> <span class="comment">   *               Size (in bytes) of the range to be erased. 'addr + size'</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span> <span class="comment">   *               must be aligned with the 'erase_unit' of the underlying</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span> <span class="comment">   *               block.</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span> <span class="comment">   *</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span> <span class="comment">   * @note This API may execute asynchronously if</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span> <span class="comment">   *     ARM_STORAGE_CAPABILITIES::asynchronous_ops is set. Asynchronous</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span> <span class="comment">   *     execution is optional even if 'asynchronous_ops' is set.</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span> <span class="comment">   *</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span> <span class="comment">   * @return</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span> <span class="comment">   *   If the range to be erased doesn't align with the erase_units of the</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span> <span class="comment">   *   respective start and end blocks, ARM_DRIVER_ERROR_PARAMETER is returned.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span> <span class="comment">   *   If any part of the range is protected, ARM_STORAGE_ERROR_PROTECTED is</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span> <span class="comment">   *   returned. If any part of the range is not erasable,</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span> <span class="comment">   *   ARM_STORAGE_ERROR_NOT_ERASABLE is returned. All such sanity-check</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span> <span class="comment">   *   failures result in the error code being returned synchronously and the</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span> <span class="comment">   *   storage bytes within the range remain unaffected.</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span> <span class="comment">   *   Otherwise the function executes in the following ways:</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span> <span class="comment">   *     If asynchronous activity is launched, an invocation returns</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span> <span class="comment">   *     ARM_DRIVER_OK, and the caller can expect to receive a callback in the</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span> <span class="comment">   *     future with the number of successfully erased bytes passed in as</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span> <span class="comment">   *     the 'status' parameter. In the case of synchronous execution, control</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span> <span class="comment">   *     returns after completion with a positive erase-count. Return values</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span> <span class="comment">   *     less than ARM_DRIVER_OK (0) signify errors.</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span> <span class="comment">   *</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span> <span class="comment">   * @note Erase() may return a smaller (positive) value than the size of the</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span> <span class="comment">   *     requested range. The returned value indicates the actual number of bytes</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span> <span class="comment">   *     erased. It is the caller's responsibility to follow up with an appropriate</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span> <span class="comment">   *     request to complete the operation.</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span> <span class="comment">   *</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span> <span class="comment">   * @note in the case of a failed erase (except when</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span> <span class="comment">   *     ARM_DRIVER_ERROR_PARAMETER, ARM_STORAGE_ERROR_PROTECTED, or</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span> <span class="comment">   *     ARM_STORAGE_ERROR_NOT_ERASABLE is returned synchronously), the</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span> <span class="comment">   *     requested range should be assumed to be in an unknown state. The</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span> <span class="comment">   *     previous contents may not be retained.</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span> <span class="comment">   */</span></div><div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#a009c6f0bb746592a53ddcfd562a559b0">  611</a></span>   int32_t (*Erase)(uint64_t addr, uint32_t size);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span> <span class="comment"></span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span> <span class="comment">  /**</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span> <span class="comment">   * @brief Erase complete storage. Optional function for faster erase of the complete device.</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span> <span class="comment">   *</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span> <span class="comment">   * This optional function erases the complete device. If the device does not</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span> <span class="comment">   *    support global erase then the function returns the error value \ref</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span> <span class="comment">   *    ARM_DRIVER_ERROR_UNSUPPORTED. The data field \em 'erase_all' = 1</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span> <span class="comment">   *    of the structure \ref ARM_STORAGE_CAPABILITIES encodes that</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span> <span class="comment">   *    ARM_STORAGE_EraseAll is supported.</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span> <span class="comment">   *</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span> <span class="comment">   * @note This API may execute asynchronously if</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span> <span class="comment">   *     ARM_STORAGE_CAPABILITIES::asynchronous_ops is set. Asynchronous</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span> <span class="comment">   *     execution is optional even if 'asynchronous_ops' is set.</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span> <span class="comment">   *</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span> <span class="comment">   * @return</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span> <span class="comment">   *   If any part of the storage range is protected,</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span> <span class="comment">   *   ARM_STORAGE_ERROR_PROTECTED is returned. If any part of the storage</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span> <span class="comment">   *   range is not erasable, ARM_STORAGE_ERROR_NOT_ERASABLE is returned. All</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span> <span class="comment">   *   such sanity-check failures result in the error code being returned</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span> <span class="comment">   *   synchronously and the storage bytes within the range remain unaffected.</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span> <span class="comment">   *   Otherwise the function executes in the following ways:</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span> <span class="comment">   *     If asynchronous activity is launched, an invocation returns</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span> <span class="comment">   *     ARM_DRIVER_OK, and the caller can expect to receive a callback in the</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span> <span class="comment">   *     future with ARM_DRIVER_OK passed in as the 'status' parameter. In the</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span> <span class="comment">   *     case of synchronous execution, control returns after completion with a</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span> <span class="comment">   *     value of 1. Return values less than ARM_DRIVER_OK (0) signify errors.</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span> <span class="comment">   */</span></div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#ae1c3482cb5e2e25acfdd267115952dff">  639</a></span>   int32_t (*EraseAll)(void);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span> <span class="comment"></span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span> <span class="comment">  /**</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span> <span class="comment">   * @brief Get the status of the current (or previous) command executed by the</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span> <span class="comment">   *     storage controller; stored in the structure \ref ARM_STORAGE_STATUS.</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span> <span class="comment">   *</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span> <span class="comment">   * @return</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span> <span class="comment">   *          The status of the underlying controller.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span> <span class="comment">   *</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span> <span class="comment">   * @note This API returns synchronously--it does not result in an invocation</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span> <span class="comment">   *     of a completion callback.</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span> <span class="comment">   */</span></div><div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#adc7b76311326ab2ac4c01a0177435652">  651</a></span>   <a class="code" href="group__hal.html#ga1caa1448e7ceb7e3a654110b6d6a9fc9">ARM_STORAGE_STATUS</a> (*GetStatus)(void);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span> <span class="comment"></span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span> <span class="comment">  /**</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span> <span class="comment">   * @brief Get information about the Storage device; stored in the structure \ref ARM_STORAGE_INFO.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span> <span class="comment">   *</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span> <span class="comment">   * @param [out] info</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span> <span class="comment">   *                A caller-supplied buffer capable of being filled in with an</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span> <span class="comment">   *                \ref ARM_STORAGE_INFO.</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span> <span class="comment">   *</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span> <span class="comment">   * @return ARM_DRIVER_OK if a ARM_STORAGE_INFO structure containing top level</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span> <span class="comment">   *         metadata about the storage controller is filled into the supplied</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span> <span class="comment">   *         buffer, else an appropriate error value.</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span> <span class="comment">   *</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span> <span class="comment">   * @note It is the caller's responsibility to ensure that the buffer passed in</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span> <span class="comment">   *         is able to be initialized with a \ref ARM_STORAGE_INFO.</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span> <span class="comment">   *</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span> <span class="comment">   * @note This API returns synchronously--it does not result in an invocation</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span> <span class="comment">   *     of a completion callback.</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span> <span class="comment">   */</span></div><div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#a7d5f56f1d7ca98ecc812a32d0a610b77">  670</a></span>   int32_t (*GetInfo)(<a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html">ARM_STORAGE_INFO</a> *<a class="code" href="structinfo.html">info</a>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span> <span class="comment"></span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span> <span class="comment">  /**</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span> <span class="comment">   * \brief For memory-mapped storage, resolve an address relative to</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span> <span class="comment">   *     the storage controller into a memory address.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span> <span class="comment">   *</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span> <span class="comment">   * @param addr</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span> <span class="comment">   *          This is the address for which we want a resolution to the</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span> <span class="comment">   *          processor's physical address space. It is an offset from the</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span> <span class="comment">   *          start of the storage map maintained by the owning storage</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span> <span class="comment">   *          controller.</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span> <span class="comment">   *</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span> <span class="comment">   * @return</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span> <span class="comment">   *          The resolved address in the processor's address space; else</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span> <span class="comment">   *          ARM_STORAGE_INVALID_ADDRESS, if no resolution is possible.</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span> <span class="comment">   *</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span> <span class="comment">   * @note This API returns synchronously. The invocation should return quickly,</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span> <span class="comment">   *     and result in a resolved address.</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span> <span class="comment">   */</span></div><div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#a974a1edf42132d42beccc9819417307b">  689</a></span>   uint32_t (*ResolveAddress)(uint64_t addr);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span> <span class="comment"></span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span> <span class="comment">  /**</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span> <span class="comment">   * @brief Advance to the successor of the current block (iterator), or fetch</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span> <span class="comment">   *     the first block (if 'prev_block' is passed in as NULL).</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span> <span class="comment">   *</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span> <span class="comment">   * @details This helper function fetches (an iterator to) the next block (or</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span> <span class="comment">   *     the first block if 'prev_block' is passed in as NULL). In the failure</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span> <span class="comment">   *     case, a terminating, invalid block iterator is filled into the out</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span> <span class="comment">   *     parameter: 'next_block'. In combination with \ref</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span> <span class="comment">   *     ARM_STORAGE_VALID_BLOCK(), it can be used to iterate over the sequence</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span> <span class="comment">   *     of blocks within the storage map:</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span> <span class="comment">   *</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span> <span class="comment">   * \code</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span> <span class="comment">   *   ARM_STORAGE_BLOCK block;</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span> <span class="comment">   *   for (drv-&gt;GetNextBlock(NULL, &amp;block); ARM_STORAGE_VALID_BLOCK(&amp;block); drv-&gt;GetNextBlock(&amp;block, &amp;block)) {</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span> <span class="comment">   *       // make use of block</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span> <span class="comment">   *   }</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span> <span class="comment">   * \endcode</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span> <span class="comment">   *</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span> <span class="comment">   * @param[in]  prev_block</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span> <span class="comment">   *               An existing block (iterator) within the same storage</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span> <span class="comment">   *               controller. The memory buffer holding this block is owned</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span> <span class="comment">   *               by the caller. This pointer may be NULL; if so, the</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span> <span class="comment">   *               invocation fills in the first block into the out parameter:</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span> <span class="comment">   *               'next_block'.</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span> <span class="comment">   *</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span> <span class="comment">   * @param[out] next_block</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span> <span class="comment">   *               A caller-owned buffer large enough to be filled in with</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span> <span class="comment">   *               the following ARM_STORAGE_BLOCK. It is legal to provide the</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span> <span class="comment">   *               same buffer using 'next_block' as was passed in with 'prev_block'. It</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span> <span class="comment">   *               is also legal to pass a NULL into this parameter if the</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span> <span class="comment">   *               caller isn't interested in populating a buffer with the next</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span> <span class="comment">   *               block--i.e. if the caller only wishes to establish the</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span> <span class="comment">   *               presence of a next block.</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span> <span class="comment">   *</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span> <span class="comment">   * @return ARM_DRIVER_OK if a valid next block is found (or first block, if</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span> <span class="comment">   *     prev_block is passed as NULL); upon successful operation, the contents</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span> <span class="comment">   *     of the next (or first) block are filled into the buffer pointed to by</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span> <span class="comment">   *     the parameter 'next_block' and ARM_STORAGE_VALID_BLOCK(next_block) is</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span> <span class="comment">   *     guaranteed to be true. Upon reaching the end of the sequence of blocks</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span> <span class="comment">   *     (iterators), or in case the driver is unable to fetch information about</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span> <span class="comment">   *     the next (or first) block, an error (negative) value is returned and an</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span> <span class="comment">   *     invalid StorageBlock is populated into the supplied buffer. If</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span> <span class="comment">   *     prev_block is NULL, the first block is returned.</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span> <span class="comment">   *</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span> <span class="comment">   * @note This API returns synchronously--it does not result in an invocation</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span> <span class="comment">   *     of a completion callback.</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span> <span class="comment">   */</span></div><div class="line"><a name="l00738"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#aeae51e2d8eca6561e2f46d781e51af93">  738</a></span>    int32_t (*GetNextBlock)(<span class="keyword">const</span> <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html">ARM_STORAGE_BLOCK</a>* prev_block, <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html">ARM_STORAGE_BLOCK</a> *next_block);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span> <span class="comment"></span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span> <span class="comment">  /**</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span> <span class="comment">   * @brief Find the storage block (iterator) encompassing a given storage address.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span> <span class="comment">   *</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span> <span class="comment">   * @param[in]  addr</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span> <span class="comment">   *               Storage address in bytes.</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span> <span class="comment">   *</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span> <span class="comment">   * @param[out] block</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span> <span class="comment">   *               A caller-owned buffer large enough to be filled in with the</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span> <span class="comment">   *               ARM_STORAGE_BLOCK encapsulating the given address. This value</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span> <span class="comment">   *               can also be passed in as NULL if the caller isn't interested</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span> <span class="comment">   *               in populating a buffer with the block--if the caller only</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span> <span class="comment">   *               wishes to establish the presence of a containing storage</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span> <span class="comment">   *               block.</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span> <span class="comment">   *</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span> <span class="comment">   * @return ARM_DRIVER_OK if a containing storage-block is found. In this case,</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span> <span class="comment">   *     if block is non-NULL, the buffer pointed to by it is populated with</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span> <span class="comment">   *     the contents of the storage block--i.e. if block is valid and a block is</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span> <span class="comment">   *     found, ARM_STORAGE_VALID_BLOCK(block) would return true following this</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span> <span class="comment">   *     call. If there is no storage block containing the given offset, or in</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span> <span class="comment">   *     case the driver is unable to resolve an address to a storage-block, an</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span> <span class="comment">   *     error (negative) value is returned and an invalid StorageBlock is</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span> <span class="comment">   *     populated into the supplied buffer.</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span> <span class="comment">   *</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span> <span class="comment">   * @note This API returns synchronously--it does not result in an invocation</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span> <span class="comment">   *     of a completion callback.</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span> <span class="comment">   */</span></div><div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html#a9c4453c1475a2be86b445d4e65513a55">  766</a></span>   int32_t (*GetBlock)(uint64_t addr, <a class="code" href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html">ARM_STORAGE_BLOCK</a> *block);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span> } <span class="keyword">const</span> <a class="code" href="group__hal.html#gaa8b2985d22bbb59381c7d4aebd169110">ARM_DRIVER_STORAGE</a>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span> </div><div class="line"><a name="l00769"></a><span class="lineno">  769</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span> }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span> <span class="preprocessor">#endif // __cplusplus</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span> </div><div class="line"><a name="l00773"></a><span class="lineno">  773</span> <span class="preprocessor">#endif </span><span class="comment">/* __DRIVER_STORAGE_H */</span><span class="preprocessor"></span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span> <span class="comment"></span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span> <span class="comment">/** @}*/</span></div><div class="ttc" id="group__hal_html_ga9f8f96fab046c8bf9f3cd22950b7634d"><div class="ttname"><a href="group__hal.html#ga9f8f96fab046c8bf9f3cd22950b7634d">ARM_STORAGE_SECURITY_FEATURES</a></div><div class="ttdeci">struct _ARM_STORAGE_SECURITY_FEATURES ARM_STORAGE_SECURITY_FEATURES</div><div class="ttdoc">Device Data Security Protection Features. </div></div>
<div class="ttc" id="group__hal_html_gaa8b2985d22bbb59381c7d4aebd169110"><div class="ttname"><a href="group__hal.html#gaa8b2985d22bbb59381c7d4aebd169110">ARM_DRIVER_STORAGE</a></div><div class="ttdeci">struct _ARM_DRIVER_STORAGE ARM_DRIVER_STORAGE</div><div class="ttdoc">This is the set of operations constituting the Storage driver. </div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o_html_a407e16dc7e4da08cea7785efeebd9b6d"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a407e16dc7e4da08cea7785efeebd9b6d">_ARM_STORAGE_INFO::optimal_program_unit</a></div><div class="ttdeci">uint32_t optimal_program_unit</div><div class="ttdoc">Optimal programming page-size in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00163">Driver_Storage.h:163</a></div></div>
<div class="ttc" id="group__platform__error_html_gabc561ef2adcee0d1aef1917f40828a42"><div class="ttname"><a href="group__platform__error.html#gabc561ef2adcee0d1aef1917f40828a42">error</a></div><div class="ttdeci">MBED_NORETURN void error(const char *format,...) MBED_PRINTF(1</div><div class="ttdoc">To generate a fatal compile-time error, you can use the pre-processor error directive. </div></div>
<div class="ttc" id="group__hal_html_ga55adf95bab3afcb7da777ca0e8cc12ae"><div class="ttname"><a href="group__hal.html#ga55adf95bab3afcb7da777ca0e8cc12ae">ARM_Storage_Callback_t</a></div><div class="ttdeci">void(* ARM_Storage_Callback_t)(int32_t status, ARM_STORAGE_OPERATION operation)</div><div class="ttdoc">Declaration of the callback-type for command completion. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00242">Driver_Storage.h:242</a></div></div>
<div class="ttc" id="group__hal_html_gaaa625356a8459f776b4f54a1b9eff098"><div class="ttname"><a href="group__hal.html#gaaa625356a8459f776b4f54a1b9eff098">ARM_DRIVER_VERSION</a></div><div class="ttdeci">struct _ARM_DRIVER_VERSION ARM_DRIVER_VERSION</div><div class="ttdoc">Driver Version. </div></div>
<div class="ttc" id="group__hal_html_gac76684bbb5b3d44d75d428664190a178"><div class="ttname"><a href="group__hal.html#gac76684bbb5b3d44d75d428664190a178">ARM_STORAGE_INFO</a></div><div class="ttdeci">struct _ARM_STORAGE_INFO ARM_STORAGE_INFO</div><div class="ttdoc">Storage information. </div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o_html_aee43dd20848f45fe05efc10a8198817a"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#aee43dd20848f45fe05efc10a8198817a">_ARM_STORAGE_INFO::security</a></div><div class="ttdeci">ARM_STORAGE_SECURITY_FEATURES security</div><div class="ttdoc">ARM_STORAGE_SECURITY_FEATURES </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00177">Driver_Storage.h:177</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o_html"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html">_ARM_STORAGE_INFO</a></div><div class="ttdoc">Storage information. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00156">Driver_Storage.h:156</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___s_t_a_t_u_s_html"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___s_t_a_t_u_s.html">_ARM_STORAGE_STATUS</a></div><div class="ttdoc">Operating status of the storage controller. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00183">Driver_Storage.h:183</a></div></div>
<div class="ttc" id="structinfo_html"><div class="ttname"><a href="structinfo.html">info</a></div><div class="ttdoc">The key size. </div><div class="ttdef"><b>Definition:</b> <a href="kvstore__global__api_8h_source.html#l00038">kvstore_global_api.h:38</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k_html_a0e89cf6b9f6cd3125470b1bed2b823df"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html#a0e89cf6b9f6cd3125470b1bed2b823df">_ARM_STORAGE_BLOCK::addr</a></div><div class="ttdeci">uint64_t addr</div><div class="ttdoc">This is the start address of the storage block. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00083">Driver_Storage.h:83</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s_html_aac21d3f798c9fcad415b99cf4157935a"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#aac21d3f798c9fcad415b99cf4157935a">_ARM_STORAGE_BLOCK_ATTRIBUTES::erase_unit</a></div><div class="ttdeci">uint32_t erase_unit</div><div class="ttdoc">Minimum erase size in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00068">Driver_Storage.h:68</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___c_a_p_a_b_i_l_i_t_i_e_s_html"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___c_a_p_a_b_i_l_i_t_i_e_s.html">_ARM_STORAGE_CAPABILITIES</a></div><div class="ttdoc">Storage Driver API Capabilities. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00194">Driver_Storage.h:194</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s_html"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html">_ARM_STORAGE_BLOCK_ATTRIBUTES</a></div><div class="ttdoc">Attributes of the storage range within a storage block. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00055">Driver_Storage.h:55</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k_html_ade62c905888479b4f6d078d45cec5830"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html#ade62c905888479b4f6d078d45cec5830">_ARM_STORAGE_BLOCK::attributes</a></div><div class="ttdeci">ARM_STORAGE_BLOCK_ATTRIBUTES attributes</div><div class="ttdoc">Attributes for this block. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00088">Driver_Storage.h:88</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s_html"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___s_e_c_u_r_i_t_y___f_e_a_t_u_r_e_s.html">_ARM_STORAGE_SECURITY_FEATURES</a></div><div class="ttdoc">Device Data Security Protection Features. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00122">Driver_Storage.h:122</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o_html_ac501623ba5adb4904cdd6c286e7388eb"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#ac501623ba5adb4904cdd6c286e7388eb">_ARM_STORAGE_INFO::program_cycles</a></div><div class="ttdeci">uint32_t program_cycles</div><div class="ttdoc">A measure of endurance for reprogramming. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00167">Driver_Storage.h:167</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s_html_a910da8e2e909faab1d32cca7f8b05656"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#a910da8e2e909faab1d32cca7f8b05656">_ARM_STORAGE_BLOCK_ATTRIBUTES::executable</a></div><div class="ttdeci">uint32_t executable</div><div class="ttdoc">This storage block can hold program data; the processor can fetch and execute code sourced from it...</div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00063">Driver_Storage.h:63</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s_html_ab350afb2119388ebd3f096bd24f019ef"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#ab350afb2119388ebd3f096bd24f019ef">_ARM_STORAGE_BLOCK_ATTRIBUTES::erasable</a></div><div class="ttdeci">uint32_t erasable</div><div class="ttdoc">Erasing blocks is permitted with a minimum granularity of &amp;#39;erase_unit&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00056">Driver_Storage.h:56</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o_html_a483c41066757e2865bf3a27a2a627a54"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a483c41066757e2865bf3a27a2a627a54">_ARM_STORAGE_INFO::program_unit</a></div><div class="ttdeci">uint32_t program_unit</div><div class="ttdoc">Minimum programming size in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00158">Driver_Storage.h:158</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k_html_af931a8871310b4dad23f0f0b0f623560"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html#af931a8871310b4dad23f0f0b0f623560">_ARM_STORAGE_BLOCK::size</a></div><div class="ttdeci">uint64_t size</div><div class="ttdoc">This is the size of the storage block, in units of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00086">Driver_Storage.h:86</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s_html_a7c8899f46a471e1b7698a75a759e67c1"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#a7c8899f46a471e1b7698a75a759e67c1">_ARM_STORAGE_BLOCK_ATTRIBUTES::protectable</a></div><div class="ttdeci">uint32_t protectable</div><div class="ttdoc">The entire block can be protected from program and erase operations. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00065">Driver_Storage.h:65</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k_html"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k.html">_ARM_STORAGE_BLOCK</a></div><div class="ttdoc">A storage block is a range of memory with uniform attributes. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00082">Driver_Storage.h:82</a></div></div>
<div class="ttc" id="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e_html"><div class="ttname"><a href="struct___a_r_m___d_r_i_v_e_r___s_t_o_r_a_g_e.html">_ARM_DRIVER_STORAGE</a></div><div class="ttdoc">This is the set of operations constituting the Storage driver. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00292">Driver_Storage.h:292</a></div></div>
<div class="ttc" id="group__platform___callback_html_ga347072f32156175ca67fce6a7c6ee3fc"><div class="ttname"><a href="group__platform___callback.html#ga347072f32156175ca67fce6a7c6ee3fc">mbed::callback</a></div><div class="ttdeci">Callback&lt; R(ArgTs...)&gt; callback(R(*func)(ArgTs...)=0)</div><div class="ttdoc">Create a callback class with type inferred from the arguments. </div><div class="ttdef"><b>Definition:</b> <a href="_callback_8h_source.html#l00709">Callback.h:709</a></div></div>
<div class="ttc" id="group__hal_html_gad267eca01f5440f755deea9a18720c77"><div class="ttname"><a href="group__hal.html#gad267eca01f5440f755deea9a18720c77">ARM_STORAGE_CAPABILITIES</a></div><div class="ttdeci">struct _ARM_STORAGE_CAPABILITIES ARM_STORAGE_CAPABILITIES</div><div class="ttdoc">Storage Driver API Capabilities. </div></div>
<div class="ttc" id="group__hal_html_ga1caa1448e7ceb7e3a654110b6d6a9fc9"><div class="ttname"><a href="group__hal.html#ga1caa1448e7ceb7e3a654110b6d6a9fc9">ARM_STORAGE_STATUS</a></div><div class="ttdeci">struct _ARM_STORAGE_STATUS ARM_STORAGE_STATUS</div><div class="ttdoc">Operating status of the storage controller. </div></div>
<div class="ttc" id="group__hal_html_gadecac359311b6cb2c871bc4a1d5e2baf"><div class="ttname"><a href="group__hal.html#gadecac359311b6cb2c871bc4a1d5e2baf">ARM_STORAGE_BLOCK</a></div><div class="ttdeci">struct _ARM_STORAGE_BLOCK ARM_STORAGE_BLOCK</div><div class="ttdoc">A storage block is a range of memory with uniform attributes. </div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o_html_a4b14ce1ca2ceea5ce49e81348c5b38f6"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___i_n_f_o.html#a4b14ce1ca2ceea5ce49e81348c5b38f6">_ARM_STORAGE_INFO::total_storage</a></div><div class="ttdeci">uint64_t total_storage</div><div class="ttdoc">Total available storage, in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00157">Driver_Storage.h:157</a></div></div>
<div class="ttc" id="group__hal_html_ga8940fd6a442e4549e09c74e48b2042ba"><div class="ttname"><a href="group__hal.html#ga8940fd6a442e4549e09c74e48b2042ba">ARM_POWER_STATE</a></div><div class="ttdeci">enum _ARM_POWER_STATE ARM_POWER_STATE</div><div class="ttdoc">General power states. </div></div>
<div class="ttc" id="group__hal_html_ga5b385dae79b89fb809943db262c420a8"><div class="ttname"><a href="group__hal.html#ga5b385dae79b89fb809943db262c420a8">_ARM_STORAGE_OPERATION</a></div><div class="ttdeci">_ARM_STORAGE_OPERATION</div><div class="ttdoc">Command opcodes for Storage. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00211">Driver_Storage.h:211</a></div></div>
<div class="ttc" id="group__hal_html_gafff173b1168a0417e6d2711fd83cddc3"><div class="ttname"><a href="group__hal.html#gafff173b1168a0417e6d2711fd83cddc3">ARM_STORAGE_OPERATION</a></div><div class="ttdeci">enum _ARM_STORAGE_OPERATION ARM_STORAGE_OPERATION</div><div class="ttdoc">Command opcodes for Storage. </div></div>
<div class="ttc" id="group__hal_html_ga6d945eafdd6ed900e4dfb0cae9040a81"><div class="ttname"><a href="group__hal.html#ga6d945eafdd6ed900e4dfb0cae9040a81">ARM_STORAGE_BLOCK_ATTRIBUTES</a></div><div class="ttdeci">struct _ARM_STORAGE_BLOCK_ATTRIBUTES ARM_STORAGE_BLOCK_ATTRIBUTES</div><div class="ttdoc">Attributes of the storage range within a storage block. </div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s_html_a7f4aebaeeb818b0e2a0592f96559fa1b"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#a7f4aebaeeb818b0e2a0592f96559fa1b">_ARM_STORAGE_BLOCK_ATTRIBUTES::programmable</a></div><div class="ttdeci">uint32_t programmable</div><div class="ttdoc">Writing to ranges is permitted with a minimum granularity of &amp;#39;program_unit&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00059">Driver_Storage.h:59</a></div></div>
<div class="ttc" id="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s_html_ae319384dfb356cbb0b08ccbf8c04a590"><div class="ttname"><a href="struct___a_r_m___s_t_o_r_a_g_e___b_l_o_c_k___a_t_t_r_i_b_u_t_e_s.html#ae319384dfb356cbb0b08ccbf8c04a590">_ARM_STORAGE_BLOCK_ATTRIBUTES::protection_unit</a></div><div class="ttdeci">uint32_t protection_unit</div><div class="ttdoc">Minimum protectable size in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="_driver___storage_8h_source.html#l00073">Driver_Storage.h:73</a></div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/feature-i2c-doxy/_driver___storage_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 16:06:55 GMT -->
</html>
