<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/apis/gattclient.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:14:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        
        
        <title>GattClient - API references and tutorials | Mbed OS 6 Documentation</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="../static/css/vendor/font-awesome-4.7.0/css/font-awesome.min.mbed-cache-269550530cc127b6aa5a35925a7de6ce.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-23ac288f803d41065f3596e4c6b08e94.css" rel="stylesheet"/>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="gattclient.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/apis/gattclient.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/apis/gattclient.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="off-canvas-wrapper" id="docs-content">
            <div class="off-canvas-wrapper-inner full-height" data-off-canvas-wrapper="">
                <div class="off-canvas-content" data-off-canvas-content="">
                    <a href="#" id="nav-button">
                        <span>
                            <i class="fa fa-bars"></i>
                        </span>
                    </a>

                    <div class="toc-wrapper" id="navbar">
                        <div id="toc">
    
        
        <div class="toc-level top">
            <a class="toc-item introduction" href="../introduction/index.html">Introduction to Mbed OS 6</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item bare-metal" href="../bare-metal/index.html">Mbed OS bare metal profile</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item quick-start" href="../quick-start/index.html">Quick start</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item apis active-doc" href="index.html">API references and tutorials</a>
        </div>
        

        
            <div class="toc-level one">
                <a class="toc-item" href="index.html">Full API list</a>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="scheduling-rtos-and-event-handling.html">Scheduling: RTOS and event handling</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="scheduling-concepts.html">Scheduling concepts</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="scheduling-concepts.html">RTOS overview</a>
                        
                        <a class="toc-item" href="thread-safety.html">Thread safety</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="scheduling-options-and-config.html">Scheduling options and config</a>
                    
                    
                    <a class="toc-item" href="scheduling-tutorials.html">Scheduling tutorials</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="scheduling-tutorials.html">The EventQueue API</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="rtos-apis.html">RTOS APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="rtos-apis.html">ConditionVariable</a>
                        
                        <a class="toc-item" href="eventflags.html">EventFlags</a>
                        
                        <a class="toc-item" href="idle-loop.html">Idle loop</a>
                        
                        <a class="toc-item" href="kernel-interface-functions.html">Kernel interface functions</a>
                        
                        <a class="toc-item" href="mail.html">Mail</a>
                        
                        <a class="toc-item" href="mutex.html">Mutex</a>
                        
                        <a class="toc-item" href="queue.html">Queue</a>
                        
                        <a class="toc-item" href="semaphore.html">Semaphore</a>
                        
                        <a class="toc-item" href="thisthread.html">ThisThread</a>
                        
                        <a class="toc-item" href="thread.html">Thread</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="event-handling-apis.html">Event handling APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="event-handling-apis.html">Event</a>
                        
                        <a class="toc-item" href="eventqueue.html">EventQueue</a>
                        
                        <a class="toc-item" href="userallocatedevent.html">UserAllocatedEvent</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="drivers.html">Drivers</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="drivers-concepts.html">Drivers concepts</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="driver-interfaces-experimental.html">Driver Interfaces (Experimental)</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="drivers-architecture.html">Drivers architecture</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="drivers-architecture.html">USB device stack</a>
                        
                        <a class="toc-item" href="usb-overview.html">USB components overview</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="drivers-options-and-config.html">Drivers options and config</a>
                    
                    
                    <a class="toc-item" href="drivers-tutorials.html">Drivers tutorials</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="drivers-tutorials.html">Alarm tutorial</a>
                        
                        <a class="toc-item" href="usb-wav-audio-player.html">USB WAV audio player</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="standard-pin-names.html">Standard Pin Names</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="standard-pin-names.html">Standard Pin Names</a>
                        
                        <a class="toc-item" href="arduino-uno-pin-names.html">Arduino Uno Pin Names</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="serial-uart-apis.html">Serial (UART) APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="serial-uart-apis.html">BufferedSerial</a>
                        
                        <a class="toc-item" href="unbufferedserial.html">UnbufferedSerial</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="spi-apis.html">SPI APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="spi-apis.html">QuadSPI (QSPI)</a>
                        
                        <a class="toc-item" href="spi.html">SPI</a>
                        
                        <a class="toc-item" href="spislave.html">SPISlave</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="i-o-apis.html">I/O APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="i-o-apis.html">AnalogIn</a>
                        
                        <a class="toc-item" href="analogout.html">AnalogOut</a>
                        
                        <a class="toc-item" href="busin.html">BusIn</a>
                        
                        <a class="toc-item" href="busout.html">BusOut</a>
                        
                        <a class="toc-item" href="businout.html">BusInOut</a>
                        
                        <a class="toc-item" href="digitalin.html">DigitalIn</a>
                        
                        <a class="toc-item" href="digitalout.html">DigitalOut</a>
                        
                        <a class="toc-item" href="digitalinout.html">DigitalInOut</a>
                        
                        <a class="toc-item" href="interruptin.html">InterruptIn</a>
                        
                        <a class="toc-item" href="portin.html">PortIn</a>
                        
                        <a class="toc-item" href="portout.html">PortOut</a>
                        
                        <a class="toc-item" href="portinout.html">PortInOut</a>
                        
                        <a class="toc-item" href="pwmout.html">PwmOut</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="usb-apis.html">USB APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="usb-apis.html">USBAudio</a>
                        
                        <a class="toc-item" href="usbcdc.html">USBCDC</a>
                        
                        <a class="toc-item" href="usbcdc-ecm.html">USBCDC_ECM</a>
                        
                        <a class="toc-item" href="usbhid.html">USBHID</a>
                        
                        <a class="toc-item" href="usbkeyboard.html">USBKeyboard</a>
                        
                        <a class="toc-item" href="usbmidi.html">USBMIDI</a>
                        
                        <a class="toc-item" href="usbmouse.html">USBMouse</a>
                        
                        <a class="toc-item" href="usbmousekeyboard.html">USBMouseKeyboard</a>
                        
                        <a class="toc-item" href="usbmsd.html">USBMSD</a>
                        
                        <a class="toc-item" href="usbserial.html">USBSerial</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="other-driver-apis.html">Other driver APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="other-driver-apis.html">CAN</a>
                        
                        <a class="toc-item" href="flash-iap.html">Flash IAP</a>
                        
                        <a class="toc-item" href="i2c.html">I2C</a>
                        
                        <a class="toc-item" href="i2cslave.html">I2CSlave</a>
                        
                        <a class="toc-item" href="mbedcrc.html">MbedCRC</a>
                        
                        <a class="toc-item" href="resetreason.html">ResetReason</a>
                        
                        <a class="toc-item" href="watchdog.html">Watchdog</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="platform.html">Platform</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="platform-concepts.html">Platform concepts</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="platform-concepts.html">Platform overview</a>
                        
                        <a class="toc-item" href="printf-and-reducing-memory.html">printf and reducing memory</a>
                        
                        <a class="toc-item" href="memory-model.html">Memory</a>
                        
                        <a class="toc-item" href="static-memory-optimization.html">Static memory optimization</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="platform-options-and-config.html">Platform options and config</a>
                    
                    
                    <a class="toc-item" href="platform-tutorials.html">Platform tutorials</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="platform-tutorials.html">Application flow control</a>
                        
                        <a class="toc-item" href="power-optimization.html">Power optimization</a>
                        
                        <a class="toc-item" href="runtime-memory-tracing.html">Runtime memory tracing</a>
                        
                        <a class="toc-item" href="runtime-memory-statistics.html">Runtime memory statistics</a>
                        
                        <a class="toc-item" href="link-time-optimization.html">Link Time Optimization</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="time-apis.html">Time APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="time-apis.html">RTC</a>
                        
                        <a class="toc-item" href="ticker.html">Ticker</a>
                        
                        <a class="toc-item" href="time.html">Time</a>
                        
                        <a class="toc-item" href="timeout.html">Timeout</a>
                        
                        <a class="toc-item" href="timer.html">Timer</a>
                        
                        <a class="toc-item" href="wait.html">Wait</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="power-apis.html">Power APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="power-apis.html">DeepSleepLock</a>
                        
                        <a class="toc-item" href="lowpowerticker.html">LowPowerTicker</a>
                        
                        <a class="toc-item" href="lowpowertimeout.html">LowPowerTimeout</a>
                        
                        <a class="toc-item" href="lowpowertimer.html">LowPowerTimer</a>
                        
                        <a class="toc-item" href="power-management-sleep.html">Power management (sleep)</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="memory-apis.html">Memory APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="memory-apis.html">Memory tracing</a>
                        
                        <a class="toc-item" href="mpu-management.html">MPU management</a>
                        
                        <a class="toc-item" href="memorypool.html">MemoryPool</a>
                        
                        <a class="toc-item" href="mbed-statistics.html">Mbed statistics</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="other-platform-apis.html">Other platform APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="other-platform-apis.html">Assert</a>
                        
                        <a class="toc-item" href="atcmdparser.html">ATCmdParser</a>
                        
                        <a class="toc-item" href="callback.html">Callback</a>
                        
                        <a class="toc-item" href="circularbuffer.html">CircularBuffer</a>
                        
                        <a class="toc-item" href="criticalsectionlock.html">CriticalSectionLock</a>
                        
                        <a class="toc-item" href="debug.html">Debug</a>
                        
                        <a class="toc-item" href="error-handling.html">Error handling</a>
                        
                        <a class="toc-item" href="filehandle.html">FileHandle</a>
                        
                        <a class="toc-item" href="noncopyable.html">NonCopyable</a>
                        
                        <a class="toc-item" href="platformmutex.html">PlatformMutex</a>
                        
                        <a class="toc-item" href="poll.html">Poll</a>
                        
                        <a class="toc-item" href="scopedramexecutionlock.html">ScopedRamExecutionLock</a>
                        
                        <a class="toc-item" href="scopedromwritelock.html">ScopedRomWriteLock</a>
                        
                        <a class="toc-item" href="shared-pointer.html">Shared Pointer</a>
                        
                        <a class="toc-item" href="span.html">Span</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="data-storage.html">Data storage</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="data-storage-concepts.html">Data storage concepts</a>
                    
                    
                    <a class="toc-item" href="data-architecture.html">Data architecture</a>
                    
                    
                    <a class="toc-item" href="data-options-and-config.html">Data options and config</a>
                    
                    
                    <a class="toc-item" href="file-system-apis.html">File system APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="file-system-apis.html">Dir</a>
                        
                        <a class="toc-item" href="fatfilesystem.html">FATFileSystem</a>
                        
                        <a class="toc-item" href="file.html">File</a>
                        
                        <a class="toc-item" href="filesystem.html">FileSystem</a>
                        
                        <a class="toc-item" href="kvstore.html">KVStore</a>
                        
                        <a class="toc-item" href="littlefilesystem.html">LittleFileSystem</a>
                        
                        <a class="toc-item" href="static-global-api.html">kvstore_global_api (Static Global API)</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="blockdevice-apis.html">BlockDevice APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="blockdevice-apis.html">BlockDevice</a>
                        
                        <a class="toc-item" href="bufferedblockdevice.html">BufferedBlockDevice</a>
                        
                        <a class="toc-item" href="chainingblockdevice.html">ChainingBlockDevice</a>
                        
                        <a class="toc-item" href="dataflashblockdevice.html">DataFlashBlockDevice</a>
                        
                        <a class="toc-item" href="flashiapblockdevice.html">FlashIAPBlockDevice</a>
                        
                        <a class="toc-item" href="flashsimblockdevice.html">FlashSimBlockDevice</a>
                        
                        <a class="toc-item" href="heapblockdevice.html">HeapBlockDevice</a>
                        
                        <a class="toc-item" href="mbrblockdevice.html">MBRBlockDevice</a>
                        
                        <a class="toc-item" href="profilingblockdevice.html">ProfilingBlockDevice</a>
                        
                        <a class="toc-item" href="qspifblockdevice.html">QSPIFBlockDevice</a>
                        
                        <a class="toc-item" href="sdblockdevice.html">SDBlockDevice</a>
                        
                        <a class="toc-item" href="slicingblockdevice.html">SlicingBlockDevice</a>
                        
                        <a class="toc-item" href="spi-flash-block-device.html">SPI Flash block device</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="psa-compliant-apis.html">PSA compliant APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="psa-compliant-apis.html">PSA internal storage</a>
                        
                        <a class="toc-item" href="psa-protected-storage.html">PSA protected storage</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="connectivity.html">Connectivity</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="choosing-a-connectivity-type.html">Choosing a connectivity type</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="bluetooth.html">Bluetooth</a>
                        
                        <a class="toc-item" href="cellular-networking.html">Cellular networking</a>
                        
                        <a class="toc-item" href="ethernet-technology.html">Ethernet</a>
                        
                        <a class="toc-item" href="wlan-technology.html">Wireless LAN</a>
                        
                        <a class="toc-item" href="lora-tech.html">LoRaWAN</a>
                        
                        <a class="toc-item" href="nfc-technology.html">NFC</a>
                        
                        <a class="toc-item" href="wisun-tech.html">Wi-SUN</a>
                        
                        <a class="toc-item" href="6LoWPAN-ND-tech.html">6LoWPAN-ND</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="connectivity-architecture.html">Connectivity architecture</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="connectivity-architecture.html">IP networking</a>
                        
                        <a class="toc-item" href="network-socket.html">Network socket</a>
                        
                        <a class="toc-item" href="network-socket-interfaces-and-classes.html">Network socket interfaces and classes</a>
                        
                        <a class="toc-item" href="network-interface.html">Network interface</a>
                        
                        <a class="toc-item" href="secure-socket.html">Secure Socket</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="connectivity-options-and-config.html">Connectivity options and config</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="connectivity-options-and-config.html">Connectivity configurations</a>
                        
                        <a class="toc-item" href="configuration-mesh.html">6LoWPAN Mesh</a>
                        
                        <a class="toc-item" href="configuration-ble.html">BLE configuration</a>
                        
                        <a class="toc-item" href="lorawan-configuration.html">LoRaWAN configuration</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="connectivity-tutorials.html">Connectivity tutorials</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="connectivity-tutorials.html">Mesh tutorial</a>
                        
                        <a class="toc-item" href="light-control.html">Light control tutorial</a>
                        
                        <a class="toc-item" href="lorawan-usage.html">LoRaWAN usage</a>
                        
                        <a class="toc-item" href="LoRa-tutorial.html">Building a private LoRa network</a>
                        
                        <a class="toc-item" href="tls-tutorial.html">Using Mbed TLS to communicate securely</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="network-socket-apis.html">Network socket APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="network-socket-apis.html">Non-IP cellular socket</a>
                        
                        <a class="toc-item" href="socket.html">Socket</a>
                        
                        <a class="toc-item" href="socketaddress.html">SocketAddress</a>
                        
                        <a class="toc-item" href="socketstats.html">SocketStats</a>
                        
                        <a class="toc-item" href="tcpsocket.html">TCPSocket</a>
                        
                        <a class="toc-item" href="udpsocket.html">UDPSocket</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="network-interface-apis.html">Network interface APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="network-interface-apis.html">Cellular</a>
                        
                        <a class="toc-item" href="ethernet.html">Ethernet</a>
                        
                        <a class="toc-item" href="mesh-api.html">Mesh</a>
                        
                        <a class="toc-item" href="network-status.html">Network status</a>
                        
                        <a class="toc-item" href="wi-fi.html">Wi-Fi</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="secure-socket-apis.html">Secure socket APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="secure-socket-apis.html">DTLSSocket</a>
                        
                        <a class="toc-item" href="tlssocket.html">TLSSocket</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="dns-apis.html">DNS APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="dns-apis.html">DNS Resolver</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="bluetooth-apis.html">Bluetooth APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="bluetooth-apis.html">BLE</a>
                        
                        <a class="toc-item" href="gap.html">GAP</a>
                        
                        <a class="toc-item" href="gattserver.html">GattServer</a>
                        
                        <a class="toc-item" href="securitymanager.html">SecurityManager</a>
                        
                        <a class="toc-item" href="ble-services.html">BLE Services</a>
                        
                        <a class="toc-item" href="gattclient.html">GattClient</a>
                        
                        <a class="toc-item" href="optimizing-applications-for-throughput-and-power-consumption.html">Optimizing applications for throughput and power consumption</a>
                        
                        <a class="toc-item" href="test-and-measure.html">Test and measure</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="nfc-apis.html">NFC APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="nfc-apis.html">MessageBuilder</a>
                        
                        <a class="toc-item" href="messageparser.html">MessageParser</a>
                        
                        <a class="toc-item" href="nfccontroller.html">NFCController</a>
                        
                        <a class="toc-item" href="nfc-eeprom.html">NFC EEPROM</a>
                        
                        <a class="toc-item" href="simplemessageparser.html">SimpleMessageParser</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="lorawan-apis.html">LoRAWAN APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="lorawan-apis.html">LoRaWANInterface</a>
                        
                        <a class="toc-item" href="loraradio.html">LoRa radio driver</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="security.html">Security</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="security-concepts.html">Security concepts</a>
                    
                    
                    <a class="toc-item" href="security-apis.html">Security APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="security-apis.html">DeviceKey</a>
                        
                        <a class="toc-item" href="mbed-crypto.html">Mbed Crypto</a>
                        
                        <a class="toc-item" href="psa-initial-attestation.html">PSA initial attestation</a>
                        
                        <a class="toc-item" href="psa-lifecycle.html">PSA lifecycle</a>
                        
                        <a class="toc-item" href="tls.html">TLS</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        

    
        
        <div class="toc-level top">
            <a class="toc-item program-setup" href="../program-setup/index.html">Program setup</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item build-tools" href="../build-tools/index.html">Build tools</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item debug-test" href="../debug-test/index.html">Debugging and testing</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item tutorials" href="../tutorials/index.html">Tutorials and examples</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item contributing" href="../contributing/index.html">Contributing</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item porting" href="../porting/index.html">Porting</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item mbed-os-pelion" href="../mbed-os-pelion/index.html">Reference designs and end-to-end information</a>
        </div>
        

        

    
</div>
                    </div>

                    <div class="page-wrapper" id="page">
                        <div class="row">
                            <div class="content large-12 medium-12 columns" id="content">
                                <div class="breadcrumbs">
                                    
                                    <a href="../index.html">Docs</a>
                                      
                                    
                                    <a href="index.html">API references and tutorials</a>
                                      
                                    
                                    <a href="connectivity.html">Connectivity</a>
                                      
                                    
                                    <a href="bluetooth-apis.html">Bluetooth APIs</a>
                                      
                                    
                                    <a href="gattclient.html">GattClient</a>
                                    
                                    
                                </div>
                                <h1>GattClient</h1><p>You can use Generic Attribute Profile (GATT) to discover services, characteristics and descriptors and to perform operations on them. The interaction happens between two peers, one of which is the client (which initiates interactions) and the other is the server (which responds). You can use Attribute Protocol (ATT) to implement this interaction. <code>GattClient</code> defines procedures required for interacting with a remote <code>GattServer</code>.</p><h2 id="discovery-procedures">Discovery procedures</h2><p>A GattServer hosts a fixed set of services. These services are a logical composition of characteristics that may be discovered, read or written and can broadcast their state to a connected client. These characteristics may also contain metainformation and named characteristic descriptors. A characteristic descriptor may indicate the unit used for a characteristic value, describe the characteristic purpose in a textual form or allow a client to register for update notifications for the characteristic value.</p><p>Prior to any interaction with a server characteristic, a GattClient discovers the layout of the services and characteristics present on the server.</p><p>The layout of the descriptors of a characteristic may also be issued as an extra discovery step.</p><h2 id="attribute-manipulation">Attribute manipulation</h2><p>As a result of the discovery process, the client can start interacting with the characteristic discovered. Depending on the characteristic properties (acquired during discovery), a client can read or write the value of a given characteristic.</p><p>Mbed BLE abstracts read and write operations to offer a single API that can be used to read or write characteristic values. The application code does not have to handle the necessary fragmentation or reassembly process if the attribute value to be transported can't fit in a single data packet.</p><h2 id="attribute-protocol-maximum-transmission-unit-att-mtu">Attribute Protocol Maximum Transmission Unit (ATT_MTU)</h2><p><code>ATT_MTU</code> is the maximum size of the attribute protocol packet. Operation on attributes too large to fit into a single packet are split across multiple operations.</p><p>This is independent of the data length, which controls the over-the-air packet payload size (which the GAP handles). An L2CAP packet containing the attribute protocol packet is fragmented over many packets if required.</p><p>Only <code>GattClient</code> can trigger the exchange of <code>ATT_MTU</code> between client and server. Depending on the implementation of the bluetooth stack, the client may trigger the exchange upon connection. You may also manually request the exchange using <code>negotiateAttMtu</code>. If an exchange happens, the biggest value possible across both devices will be used. Negotiation is only a best-effort process and does not guarantee a higher value being set.</p><p><code>ATT_MTU</code> is at least 23 octets by default. If a larger size is negotiated, the user application will be informed through the <code>onAttMtuChange</code> function called in the <code>GattClient::EventHandler</code>. (<code>GattServer::EventHandler</code> is also informed.)</p><h2 id="server-initiated-events">Server initiated events</h2><p>When a server updates a characteristic value, it can forward the new value to any registered clients. Clients may register for these updates on a per-characteristic basis. The server sends the updates by using notifications (no confirmation from client) or indications (client confirms receipt). This mechanism minimizes the number of transactions between a client and a server by avoiding polling.</p><p>Clients register for these updates by setting the Client Characteristic Configuration Descriptor (CCCD) value. This is an attribute, and the client needs to discover its descriptor. It is present in the characteristic if its notify or indicate properties are set.</p><h2 id="gattclient-class-reference">GattClient class reference</h2><div class="api-include-block">
<div class="api-header">
<a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html" target="_blank">
<i class="fa fa-folder-o"></i>
<b class="filename">GattClient Class Reference</b>
</a>
</div>
<table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><span class="groupheader"><a name="nested-classes"></a>
Data Structures</span></td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct </td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/structble_1_1_gatt_client_1_1_event_handler.html" target="_blank">EventHandler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft"></td><td class="mdescRight">Definition of the general handler of <a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html" target="_blank" title="Define procedures required for interacting with a distant GATT server. ">GattClient</a> related events.  <a href="../mbed-os-api-doxy/structble_1_1_gatt_client_1_1_event_handler.html#details" target="_blank">More...</a><br/></td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><span class="groupheader"><a name="pub-types"></a>
Public Types</span></td></tr>
<tr class="memitem:a32967ff76e9e87b57e2940311a567e6b"><td align="right" class="memItemLeft" valign="top">typedef <a class="el" href="../mbed-os-api-doxy/class_function_pointer_with_context.html" target="_blank">FunctionPointerWithContext</a>&lt; const <a class="el" href="../mbed-os-api-doxy/struct_gatt_read_callback_params.html" target="_blank">GattReadCallbackParams</a> * &gt;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a32967ff76e9e87b57e2940311a567e6b" target="_blank">ReadCallback_t</a></td></tr>
<tr class="memdesc:a32967ff76e9e87b57e2940311a567e6b"><td class="mdescLeft"></td><td class="mdescRight">Attribute read event handler.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a32967ff76e9e87b57e2940311a567e6b" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a76209a98000277b25677e9e81278bef2"><td align="right" class="memItemLeft" valign="top">typedef <a class="el" href="../mbed-os-api-doxy/class_call_chain_of_function_pointers_with_context.html" target="_blank">CallChainOfFunctionPointersWithContext</a>&lt; const <a class="el" href="../mbed-os-api-doxy/struct_gatt_read_callback_params.html" target="_blank">GattReadCallbackParams</a> * &gt;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a76209a98000277b25677e9e81278bef2" target="_blank">ReadCallbackChain_t</a></td></tr>
<tr class="memdesc:a76209a98000277b25677e9e81278bef2"><td class="mdescLeft"></td><td class="mdescRight">Callchain of attribute read event handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a76209a98000277b25677e9e81278bef2" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a6007d90f1f9e7c2e1b3265ff51a92be0"><td align="right" class="memItemLeft" valign="top">typedef <a class="el" href="../mbed-os-api-doxy/class_function_pointer_with_context.html" target="_blank">FunctionPointerWithContext</a>&lt; const <a class="el" href="../mbed-os-api-doxy/struct_gatt_write_callback_params.html" target="_blank">GattWriteCallbackParams</a> * &gt;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a6007d90f1f9e7c2e1b3265ff51a92be0" target="_blank">WriteCallback_t</a></td></tr>
<tr class="memdesc:a6007d90f1f9e7c2e1b3265ff51a92be0"><td class="mdescLeft"></td><td class="mdescRight">Attribute write event handler.ble::WriteCallback_t.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a6007d90f1f9e7c2e1b3265ff51a92be0" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a2baafd72d83669d67c59555f74f77d8f"><td align="right" class="memItemLeft" valign="top">typedef <a class="el" href="../mbed-os-api-doxy/class_call_chain_of_function_pointers_with_context.html" target="_blank">CallChainOfFunctionPointersWithContext</a>&lt; const <a class="el" href="../mbed-os-api-doxy/struct_gatt_write_callback_params.html" target="_blank">GattWriteCallbackParams</a> * &gt;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a2baafd72d83669d67c59555f74f77d8f" target="_blank">WriteCallbackChain_t</a></td></tr>
<tr class="memdesc:a2baafd72d83669d67c59555f74f77d8f"><td class="mdescLeft"></td><td class="mdescRight">Callchain of attribute write event handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a2baafd72d83669d67c59555f74f77d8f" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a51e224a198fe02e6888c6b8e41e630d3"><td align="right" class="memItemLeft" valign="top">typedef <a class="el" href="../mbed-os-api-doxy/class_function_pointer_with_context.html" target="_blank">FunctionPointerWithContext</a>&lt; const <a class="el" href="../mbed-os-api-doxy/struct_gatt_h_v_x_callback_params.html" target="_blank">GattHVXCallbackParams</a> * &gt;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a51e224a198fe02e6888c6b8e41e630d3" target="_blank">HVXCallback_t</a></td></tr>
<tr class="memdesc:a51e224a198fe02e6888c6b8e41e630d3"><td class="mdescLeft"></td><td class="mdescRight">Handle value notification/indication event handler.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a51e224a198fe02e6888c6b8e41e630d3" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a402152521fef7b19c324524b88dc2b4f"><td align="right" class="memItemLeft" valign="top">typedef <a class="el" href="../mbed-os-api-doxy/class_call_chain_of_function_pointers_with_context.html" target="_blank">CallChainOfFunctionPointersWithContext</a>&lt; const <a class="el" href="../mbed-os-api-doxy/struct_gatt_h_v_x_callback_params.html" target="_blank">GattHVXCallbackParams</a> * &gt;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a402152521fef7b19c324524b88dc2b4f" target="_blank">HVXCallbackChain_t</a></td></tr>
<tr class="memdesc:a402152521fef7b19c324524b88dc2b4f"><td class="mdescLeft"></td><td class="mdescRight">Callchain of handle value notification/indication event handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a402152521fef7b19c324524b88dc2b4f" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a0ef6864279476dc001b72d9c179c399c"><td align="right" class="memItemLeft" valign="top">typedef <a class="el" href="../mbed-os-api-doxy/class_function_pointer_with_context.html" target="_blank">FunctionPointerWithContext</a>&lt; const <a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html" target="_blank">GattClient</a> * &gt;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a0ef6864279476dc001b72d9c179c399c" target="_blank">GattClientShutdownCallback_t</a></td></tr>
<tr class="memdesc:a0ef6864279476dc001b72d9c179c399c"><td class="mdescLeft"></td><td class="mdescRight">Shutdown event handler.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a0ef6864279476dc001b72d9c179c399c" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:aaa9975786cdc25172afbf5dd7f5bbb5e"><td align="right" class="memItemLeft" valign="top">typedef <a class="el" href="../mbed-os-api-doxy/class_call_chain_of_function_pointers_with_context.html" target="_blank">CallChainOfFunctionPointersWithContext</a>&lt; const <a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html" target="_blank">GattClient</a> * &gt;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#aaa9975786cdc25172afbf5dd7f5bbb5e" target="_blank">GattClientShutdownCallbackChain_t</a></td></tr>
<tr class="memdesc:aaa9975786cdc25172afbf5dd7f5bbb5e"><td class="mdescLeft"></td><td class="mdescRight">Callchain of shutdown event handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#aaa9975786cdc25172afbf5dd7f5bbb5e" target="_blank">More...</a><br/></td></tr>
</tbody></table><table class="memberdecls">
<tbody><tr class="heading"><td colspan="2"><span class="groupheader"><a name="pub-methods"></a>
Public Member Functions</span></td></tr>
<tr class="memitem:a69a6df1d2238b823ade935417a39e14e"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a69a6df1d2238b823ade935417a39e14e" target="_blank">setEventHandler</a> (<a class="el" href="../mbed-os-api-doxy/structble_1_1_gatt_client_1_1_event_handler.html" target="_blank">EventHandler</a> *handler)</td></tr>
<tr class="memdesc:a69a6df1d2238b823ade935417a39e14e"><td class="mdescLeft"></td><td class="mdescRight">Assign the event handler implementation that will be used by the module to signal events back to the application.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a69a6df1d2238b823ade935417a39e14e" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:af19e6ddbd064d1d1f9c5b88ba943291e"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4" target="_blank">ble_error_t</a></td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#af19e6ddbd064d1d1f9c5b88ba943291e" target="_blank">launchServiceDiscovery</a> (<a class="el" href="../mbed-os-api-doxy/namespaceble.html#af5f34d537045518aa5462a3d42a4b38f" target="_blank">ble::connection_handle_t</a> connectionHandle, <a class="el" href="../mbed-os-api-doxy/class_service_discovery.html#a70c8effcb6e611965b26d7612465d371" target="_blank">ServiceDiscovery::ServiceCallback_t</a> sc=nullptr, <a class="el" href="../mbed-os-api-doxy/class_service_discovery.html#aedf269007683d633f0efb8dc449151eb" target="_blank">ServiceDiscovery::CharacteristicCallback_t</a> cc=nullptr, const <a class="el" href="../mbed-os-api-doxy/class_u_u_i_d.html" target="_blank">UUID</a> &amp;matchingServiceUUID=<a class="el" href="../mbed-os-api-doxy/class_u_u_i_d.html#a27e142aba5eac40a55bebb300fe19766" target="_blank">UUID::ShortUUIDBytes_t</a>(<a class="el" href="../mbed-os-api-doxy/group__common.html#ggaa7df87806f64f3b241c8cde9eb57cad5abbb64a7440ad9bbd4317ee852737f585" target="_blank">BLE_UUID_UNKNOWN</a>), const <a class="el" href="../mbed-os-api-doxy/class_u_u_i_d.html" target="_blank">UUID</a> &amp;matchingCharacteristicUUIDIn=<a class="el" href="../mbed-os-api-doxy/class_u_u_i_d.html#a27e142aba5eac40a55bebb300fe19766" target="_blank">UUID::ShortUUIDBytes_t</a>(<a class="el" href="../mbed-os-api-doxy/group__common.html#ggaa7df87806f64f3b241c8cde9eb57cad5abbb64a7440ad9bbd4317ee852737f585" target="_blank">BLE_UUID_UNKNOWN</a>))</td></tr>
<tr class="memdesc:af19e6ddbd064d1d1f9c5b88ba943291e"><td class="mdescLeft"></td><td class="mdescRight">Launch the service and characteristic discovery procedure of a GATT server peer.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#af19e6ddbd064d1d1f9c5b88ba943291e" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a49286d1c808ae22931ef0023db2cddc1"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4" target="_blank">ble_error_t</a></td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a49286d1c808ae22931ef0023db2cddc1" target="_blank">discoverServices</a> (<a class="el" href="../mbed-os-api-doxy/namespaceble.html#af5f34d537045518aa5462a3d42a4b38f" target="_blank">ble::connection_handle_t</a> connectionHandle, <a class="el" href="../mbed-os-api-doxy/class_service_discovery.html#a70c8effcb6e611965b26d7612465d371" target="_blank">ServiceDiscovery::ServiceCallback_t</a> callback, const <a class="el" href="../mbed-os-api-doxy/class_u_u_i_d.html" target="_blank">UUID</a> &amp;matchingServiceUUID=<a class="el" href="../mbed-os-api-doxy/class_u_u_i_d.html#a27e142aba5eac40a55bebb300fe19766" target="_blank">UUID::ShortUUIDBytes_t</a>(<a class="el" href="../mbed-os-api-doxy/group__common.html#ggaa7df87806f64f3b241c8cde9eb57cad5abbb64a7440ad9bbd4317ee852737f585" target="_blank">BLE_UUID_UNKNOWN</a>))</td></tr>
<tr class="memdesc:a49286d1c808ae22931ef0023db2cddc1"><td class="mdescLeft"></td><td class="mdescRight">Launch the service discovery procedure of a GATT server peer.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a49286d1c808ae22931ef0023db2cddc1" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a0ad3dd3a9753ea10f1db4268bcecf393"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4" target="_blank">ble_error_t</a></td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a0ad3dd3a9753ea10f1db4268bcecf393" target="_blank">discoverServices</a> (<a class="el" href="../mbed-os-api-doxy/namespaceble.html#af5f34d537045518aa5462a3d42a4b38f" target="_blank">ble::connection_handle_t</a> connectionHandle, <a class="el" href="../mbed-os-api-doxy/class_service_discovery.html#a70c8effcb6e611965b26d7612465d371" target="_blank">ServiceDiscovery::ServiceCallback_t</a> callback, <a class="el" href="../mbed-os-api-doxy/class_gatt_attribute.html#a2ffe413dd7b6a0775ebbabc58f8f48d4" target="_blank">GattAttribute::Handle_t</a> startHandle, <a class="el" href="../mbed-os-api-doxy/class_gatt_attribute.html#a2ffe413dd7b6a0775ebbabc58f8f48d4" target="_blank">GattAttribute::Handle_t</a> endHandle)</td></tr>
<tr class="memdesc:a0ad3dd3a9753ea10f1db4268bcecf393"><td class="mdescLeft"></td><td class="mdescRight">Launch the service discovery procedure of a GATT server peer.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a0ad3dd3a9753ea10f1db4268bcecf393" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:af59ee6f72411e10f8f541f7a2550ba3f"><td align="right" class="memItemLeft" valign="top">bool</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#af59ee6f72411e10f8f541f7a2550ba3f" target="_blank">isServiceDiscoveryActive</a> () const </td></tr>
<tr class="memdesc:af59ee6f72411e10f8f541f7a2550ba3f"><td class="mdescLeft"></td><td class="mdescRight">Check if the service discovery procedure is currently active.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#af59ee6f72411e10f8f541f7a2550ba3f" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:ad39d28cfc2517c1a76903233ec646097"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#ad39d28cfc2517c1a76903233ec646097" target="_blank">terminateServiceDiscovery</a> ()</td></tr>
<tr class="memdesc:ad39d28cfc2517c1a76903233ec646097"><td class="mdescLeft"></td><td class="mdescRight">Terminate all ongoing service discovery procedures.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#ad39d28cfc2517c1a76903233ec646097" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:adb9a1d7cf4ceb8a884d9fb010efd5949"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4" target="_blank">ble_error_t</a></td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#adb9a1d7cf4ceb8a884d9fb010efd5949" target="_blank">read</a> (<a class="el" href="../mbed-os-api-doxy/namespaceble.html#af5f34d537045518aa5462a3d42a4b38f" target="_blank">ble::connection_handle_t</a> connHandle, <a class="el" href="../mbed-os-api-doxy/class_gatt_attribute.html#a2ffe413dd7b6a0775ebbabc58f8f48d4" target="_blank">GattAttribute::Handle_t</a> attributeHandle, uint16_t offset) const </td></tr>
<tr class="memdesc:adb9a1d7cf4ceb8a884d9fb010efd5949"><td class="mdescLeft"></td><td class="mdescRight">Initiate the read procedure of an attribute handle.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#adb9a1d7cf4ceb8a884d9fb010efd5949" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a7d24e1b9ff0bc5d9ff5789cb7fc42041"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4" target="_blank">ble_error_t</a></td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a7d24e1b9ff0bc5d9ff5789cb7fc42041" target="_blank">write</a> (<a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a5471c5942a59a16d20317a0ce8ddcb3f" target="_blank">GattClient::WriteOp_t</a> cmd, <a class="el" href="../mbed-os-api-doxy/namespaceble.html#af5f34d537045518aa5462a3d42a4b38f" target="_blank">ble::connection_handle_t</a> connHandle, <a class="el" href="../mbed-os-api-doxy/class_gatt_attribute.html#a2ffe413dd7b6a0775ebbabc58f8f48d4" target="_blank">GattAttribute::Handle_t</a> attributeHandle, size_t length, const uint8_t *value) const </td></tr>
<tr class="memdesc:a7d24e1b9ff0bc5d9ff5789cb7fc42041"><td class="mdescLeft"></td><td class="mdescRight">Initiate a write procedure on an attribute value.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a7d24e1b9ff0bc5d9ff5789cb7fc42041" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a35df72708c76614167bc91d5e3a41837"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a35df72708c76614167bc91d5e3a41837" target="_blank">onDataRead</a> (<a class="el" href="../mbed-os-api-doxy/namespaceble.html#aec4683d774e4ca8c255c1105a6bbd545" target="_blank">ble::ReadCallback_t</a> callback)</td></tr>
<tr class="memdesc:a35df72708c76614167bc91d5e3a41837"><td class="mdescLeft"></td><td class="mdescRight">Register an attribute read event handler.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a35df72708c76614167bc91d5e3a41837" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:aad41ec5b07616c97e1428d741250f779"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/namespaceble.html#a24d75292717e201da4d083f538b18afd" target="_blank">ble::ReadCallbackChain_t</a> &amp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#aad41ec5b07616c97e1428d741250f779" target="_blank">onDataRead</a> ()</td></tr>
<tr class="memdesc:aad41ec5b07616c97e1428d741250f779"><td class="mdescLeft"></td><td class="mdescRight">Get the callchain of attribute read event handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#aad41ec5b07616c97e1428d741250f779" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a92249bf0ec71701e2ba6a74b0b6395b1"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a92249bf0ec71701e2ba6a74b0b6395b1" target="_blank">onDataWritten</a> (<a class="el" href="../mbed-os-api-doxy/namespaceble.html#a8a9308bc3bbe893ec2ee1cb115f9e67b" target="_blank">ble::WriteCallback_t</a> callback)</td></tr>
<tr class="memdesc:a92249bf0ec71701e2ba6a74b0b6395b1"><td class="mdescLeft"></td><td class="mdescRight">Register an attribute write event handler.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a92249bf0ec71701e2ba6a74b0b6395b1" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:aeb9d99f59ca4977f6dda20976237a59f"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/namespaceble.html#a9e483a680a30131bf7cff59861ebab4a" target="_blank">ble::WriteCallbackChain_t</a> &amp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#aeb9d99f59ca4977f6dda20976237a59f" target="_blank">onDataWritten</a> ()</td></tr>
<tr class="memdesc:aeb9d99f59ca4977f6dda20976237a59f"><td class="mdescLeft"></td><td class="mdescRight">Get the callchain of attribute write event handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#aeb9d99f59ca4977f6dda20976237a59f" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a3238d67afc8fcfe580b90dbb8105e593"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a3238d67afc8fcfe580b90dbb8105e593" target="_blank">onServiceDiscoveryTermination</a> (<a class="el" href="../mbed-os-api-doxy/class_service_discovery.html#afe08e5f2b38a4f00ef9fece3e8726989" target="_blank">ServiceDiscovery::TerminationCallback_t</a> callback)</td></tr>
<tr class="memdesc:a3238d67afc8fcfe580b90dbb8105e593"><td class="mdescLeft"></td><td class="mdescRight">Register a service discovery termination event handler.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a3238d67afc8fcfe580b90dbb8105e593" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a5898d5c224b6f9c5d6830fd063111987"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4" target="_blank">ble_error_t</a></td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a5898d5c224b6f9c5d6830fd063111987" target="_blank">discoverCharacteristicDescriptors</a> (const <a class="el" href="../mbed-os-api-doxy/class_discovered_characteristic.html" target="_blank">DiscoveredCharacteristic</a> &amp;characteristic, const <a class="el" href="../mbed-os-api-doxy/class_characteristic_descriptor_discovery.html#aff30e65c5ddaeeabecbfe32868cdcf7b" target="_blank">CharacteristicDescriptorDiscovery::DiscoveryCallback_t</a> &amp;discoveryCallback, const <a class="el" href="../mbed-os-api-doxy/class_characteristic_descriptor_discovery.html#a52b1a9be0c2ee50d4e4a968b7e671cac" target="_blank">CharacteristicDescriptorDiscovery::TerminationCallback_t</a> &amp;terminationCallback)</td></tr>
<tr class="memdesc:a5898d5c224b6f9c5d6830fd063111987"><td class="mdescLeft"></td><td class="mdescRight">Initiate the descriptor discovery procedure for a given characteristic.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a5898d5c224b6f9c5d6830fd063111987" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a5e8aa032bcbb11bb3be99117760d593a"><td align="right" class="memItemLeft" valign="top">bool</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a5e8aa032bcbb11bb3be99117760d593a" target="_blank">isCharacteristicDescriptorDiscoveryActive</a> (const <a class="el" href="../mbed-os-api-doxy/class_discovered_characteristic.html" target="_blank">DiscoveredCharacteristic</a> &amp;characteristic) const </td></tr>
<tr class="memdesc:a5e8aa032bcbb11bb3be99117760d593a"><td class="mdescLeft"></td><td class="mdescRight">Query status of the descriptor discovery procedure for a given characteristic.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a5e8aa032bcbb11bb3be99117760d593a" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a29f911b8c48cbaa4c1f364d449e8d96a"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a29f911b8c48cbaa4c1f364d449e8d96a" target="_blank">terminateCharacteristicDescriptorDiscovery</a> (const <a class="el" href="../mbed-os-api-doxy/class_discovered_characteristic.html" target="_blank">DiscoveredCharacteristic</a> &amp;characteristic)</td></tr>
<tr class="memdesc:a29f911b8c48cbaa4c1f364d449e8d96a"><td class="mdescLeft"></td><td class="mdescRight">Terminate an ongoing characteristic descriptor discovery procedure.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a29f911b8c48cbaa4c1f364d449e8d96a" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a2f342d50795ecf508c76a84ab9a8c480"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4" target="_blank">ble_error_t</a></td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a2f342d50795ecf508c76a84ab9a8c480" target="_blank">negotiateAttMtu</a> (<a class="el" href="../mbed-os-api-doxy/namespaceble.html#af5f34d537045518aa5462a3d42a4b38f" target="_blank">ble::connection_handle_t</a> connection)</td></tr>
<tr class="memdesc:a2f342d50795ecf508c76a84ab9a8c480"><td class="mdescLeft"></td><td class="mdescRight">Trigger MTU negotiation.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a2f342d50795ecf508c76a84ab9a8c480" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a2c673572f3fc64f8d2b5ea89e0c8d6df"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a2c673572f3fc64f8d2b5ea89e0c8d6df" target="_blank">onHVX</a> (<a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a51e224a198fe02e6888c6b8e41e630d3" target="_blank">HVXCallback_t</a> callback)</td></tr>
<tr class="memdesc:a2c673572f3fc64f8d2b5ea89e0c8d6df"><td class="mdescLeft"></td><td class="mdescRight">Register an handler for Handle Value Notification/Indication events.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a2c673572f3fc64f8d2b5ea89e0c8d6df" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a630bb4f05c9de475befe700fe0252696"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a630bb4f05c9de475befe700fe0252696" target="_blank">onShutdown</a> (const <a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a0ef6864279476dc001b72d9c179c399c" target="_blank">GattClientShutdownCallback_t</a> &amp;callback)</td></tr>
<tr class="memdesc:a630bb4f05c9de475befe700fe0252696"><td class="mdescLeft"></td><td class="mdescRight">Register a shutdown event handler.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a630bb4f05c9de475befe700fe0252696" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a43cdbd48655ab64d0e8a5770b6b96cec"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a43cdbd48655ab64d0e8a5770b6b96cec"><td align="right" class="memTemplItemLeft" valign="top">void</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a43cdbd48655ab64d0e8a5770b6b96cec" target="_blank">onShutdown</a> (T *objPtr, void(T::*memberPtr)(const <a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html" target="_blank">GattClient</a> *))</td></tr>
<tr class="memdesc:a43cdbd48655ab64d0e8a5770b6b96cec"><td class="mdescLeft"></td><td class="mdescRight">Register a shutdown event handler.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a43cdbd48655ab64d0e8a5770b6b96cec" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a31c612fe0857b3e85e29f85910263099"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#aaa9975786cdc25172afbf5dd7f5bbb5e" target="_blank">GattClientShutdownCallbackChain_t</a> &amp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a31c612fe0857b3e85e29f85910263099" target="_blank">onShutdown</a> ()</td></tr>
<tr class="memdesc:a31c612fe0857b3e85e29f85910263099"><td class="mdescLeft"></td><td class="mdescRight">Get the callchain of shutdown event handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a31c612fe0857b3e85e29f85910263099" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:ad08e106dbd3745a71b564adb1cfa97d5"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a402152521fef7b19c324524b88dc2b4f" target="_blank">HVXCallbackChain_t</a> &amp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#ad08e106dbd3745a71b564adb1cfa97d5" target="_blank">onHVX</a> ()</td></tr>
<tr class="memdesc:ad08e106dbd3745a71b564adb1cfa97d5"><td class="mdescLeft"></td><td class="mdescRight">provide access to the callchain of HVX callbacks.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#ad08e106dbd3745a71b564adb1cfa97d5" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a7e9ddee179d9477b59535f5d031a054b"><td align="right" class="memItemLeft" valign="top"><a class="el" href="../mbed-os-api-doxy/group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4" target="_blank">ble_error_t</a></td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a7e9ddee179d9477b59535f5d031a054b" target="_blank">reset</a> ()</td></tr>
<tr class="memdesc:a7e9ddee179d9477b59535f5d031a054b"><td class="mdescLeft"></td><td class="mdescRight">Reset the state of the <a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html" target="_blank" title="Define procedures required for interacting with a distant GATT server. ">GattClient</a> instance.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a7e9ddee179d9477b59535f5d031a054b" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a4161a16611e1c35f979b8073d343a7f7"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a4161a16611e1c35f979b8073d343a7f7" target="_blank">processReadResponse</a> (const <a class="el" href="../mbed-os-api-doxy/struct_gatt_read_callback_params.html" target="_blank">GattReadCallbackParams</a> *params)</td></tr>
<tr class="memdesc:a4161a16611e1c35f979b8073d343a7f7"><td class="mdescLeft"></td><td class="mdescRight">Forward an attribute read event to all registered handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a4161a16611e1c35f979b8073d343a7f7" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:ae39f6412098dd74a4ab4fd115349739e"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#ae39f6412098dd74a4ab4fd115349739e" target="_blank">processWriteResponse</a> (const <a class="el" href="../mbed-os-api-doxy/struct_gatt_write_callback_params.html" target="_blank">GattWriteCallbackParams</a> *params)</td></tr>
<tr class="memdesc:ae39f6412098dd74a4ab4fd115349739e"><td class="mdescLeft"></td><td class="mdescRight">Forward an attribute written event to all registered handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#ae39f6412098dd74a4ab4fd115349739e" target="_blank">More...</a><br/></td></tr>
<tr class="memitem:a89a6e3fa4dc660194c929c2f5f1a8d44"><td align="right" class="memItemLeft" valign="top">void</td><td class="memItemRight" valign="bottom"><a class="el" href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a89a6e3fa4dc660194c929c2f5f1a8d44" target="_blank">processHVXEvent</a> (const <a class="el" href="../mbed-os-api-doxy/struct_gatt_h_v_x_callback_params.html" target="_blank">GattHVXCallbackParams</a> *params)</td></tr>
<tr class="memdesc:a89a6e3fa4dc660194c929c2f5f1a8d44"><td class="mdescLeft"></td><td class="mdescRight">Forward a handle value notification or indication event to all registered handlers.  <a href="../mbed-os-api-doxy/classble_1_1_gatt_client.html#a89a6e3fa4dc660194c929c2f5f1a8d44" target="_blank">More...</a><br/></td></tr>
</tbody></table>
</div><h2 id="gattclient-examples">GattClient examples</h2><h3 id="characteristic-writes">Characteristic writes</h3><div class="code-include-block">
<div class="code-header">
<a href="https://github.com/ARMmbed/mbed-os-example-ble/blob/mbed-os-6.7.0/BLE_GattClient_CharacteristicWrite/source/main.cpp" target="_blank"><i class="fa fa-file-code-o"></i> <b class="filename">main.cpp</b></a>
</div>
<pre><code>/* mbed Microcontroller Library
 * Copyright (c) 2006-2015 ARM Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

#include &lt;events/mbed_events.h&gt;
#include "ble/BLE.h"
#include "gatt_client_process.h"

static EventQueue event_queue(/* event count */ 10 * EVENTS_EVENT_SIZE);


const static uint16_t EXAMPLE_SERVICE_UUID         = 0xA000;
const static uint16_t WRITABLE_CHARACTERISTIC_UUID = 0xA001;

static DiscoveredCharacteristic writable_characteristic;
static bool writable_characteristic_found = false;

void service_discovery(const DiscoveredService *service) {
    if (service-&gt;getUUID().shortOrLong() == UUID::UUID_TYPE_SHORT) {
        if (service-&gt;getUUID().getShortUUID() == EXAMPLE_SERVICE_UUID) {
            printf("We found the service we were looking for\r\n");
        }
    }
}

void characteristic_discovery(const DiscoveredCharacteristic *characteristic) {
    if (characteristic-&gt;getUUID().getShortUUID() == WRITABLE_CHARACTERISTIC_UUID) {
        printf("We found the characteristic we were looking for\r\n");
        writable_characteristic = *characteristic;
        writable_characteristic_found = true;
    }
}

void discovery_termination(ble::connection_handle_t connectionHandle) {
    if (writable_characteristic_found) {
        writable_characteristic_found = false;
        event_queue.call([]{ writable_characteristic.read(); });
    }
}

void on_read(const GattReadCallbackParams *response) {
    if (response-&gt;handle == writable_characteristic.getValueHandle()) {
        /* increment the value we just read */
        uint8_t value = response-&gt;data[0];
        value++;

        /* and write it back */
        writable_characteristic.write(1, &amp;value);

        printf("Written new value of %x\r\n", value);
    }
}

void on_write(const GattWriteCallbackParams *response) {
    if (response-&gt;handle == writable_characteristic.getValueHandle()) {
        event_queue.call_in(5000ms, []{ writable_characteristic.read(); });
    }
}

class GattClientDemo {
public:
    GattClientDemo() { }
    ~GattClientDemo() { }

    /** Callback triggered when the ble initialization process has finished */
    void start(BLE &amp;ble, events::EventQueue &amp;event_queue) {
        ble.gattClient().onDataRead(on_read);
        ble.gattClient().onDataWritten(on_write);
    }

    void start_discovery(BLE &amp;ble, events::EventQueue &amp;event_queue, const ble::ConnectionCompleteEvent &amp;event) {
        printf("We are looking for a service with UUID 0xA000\r\n");
        printf("And a characteristic with UUID 0xA001\r\n");

        ble.gattClient().onServiceDiscoveryTermination(discovery_termination);
        ble.gattClient().launchServiceDiscovery(
            event.getConnectionHandle(),
            service_discovery,
            characteristic_discovery,
            EXAMPLE_SERVICE_UUID,
            WRITABLE_CHARACTERISTIC_UUID
        );
    }

};

int main()
{
    BLE &amp;ble = BLE::Instance();

    printf("\r\nGattClient demo of a writable characteristic\r\n");

    GattClientDemo demo;

    /* this process will handle basic setup and advertising for us */
    GattClientProcess ble_process(event_queue, ble);

    /* once it's done it will let us continue with our demo*/
    ble_process.on_init(callback(&amp;demo, &amp;GattClientDemo::start));
    ble_process.on_connect(callback(&amp;demo, &amp;GattClientDemo::start_discovery));

    ble_process.start();

    return 0;
}

</code></pre>
</div><h3 id="characteristic-updates">Characteristic updates</h3><div class="code-include-block">
<div class="code-header">
<a href="https://github.com/ARMmbed/mbed-os-example-ble/blob/mbed-os-6.7.0/BLE_GattClient_CharacteristicUpdates/source/main.cpp" target="_blank"><i class="fa fa-file-code-o"></i> <b class="filename">main.cpp</b></a>
</div>
<pre><code>
/* mbed Microcontroller Library
 * Copyright (c) 2006-2019 ARM Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

#include "events/EventQueue.h"
#include "platform/NonCopyable.h"

#include "ble/GattClient.h"

#include "gatt_client_process.h"

/**
 * Handle discovery of the GATT server.
 *
 * First the GATT server is discovered in its entirety then each readable
 * characteristic is read and the client register to characteristic
 * notifications or indication when available. The client report server
 * indications and notification until the connection end.
 */
class GattClientDemo : private mbed::NonCopyable&lt;GattClientDemo&gt;, public GattClient::EventHandler
{
    // Internal typedef to this class type.
    // It is used as a shorthand to pass member function as callbacks.
    typedef GattClientDemo Self;

    typedef CharacteristicDescriptorDiscovery::DiscoveryCallbackParams_t DiscoveryCallbackParams_t;
    typedef CharacteristicDescriptorDiscovery::TerminationCallbackParams_t TerminationCallbackParams_t;
    typedef DiscoveredCharacteristic::Properties_t Properties_t;

public:

    /**
     * Construct an empty client process.
     *
     * The function start() shall be called to initiate the discovery process.
     */
    GattClientDemo() { }

    ~GattClientDemo()
    {
        stop();
    }

    void start(BLE &amp;ble, events::EventQueue &amp;event_queue)
    {
        _ble = &amp;ble;
        _event_queue = &amp;event_queue;
        _client = &amp;_ble-&gt;gattClient();
    }

    /**
     * Start the discovery process.
     *
     * @param[in] client The GattClient instance which will discover the distant
     * GATT server.
     * @param[in] connection_handle Reference of the connection to the GATT
     * server which will be discovered.
     */
    void start_discovery(BLE &amp;ble_interface, events::EventQueue &amp;event_queue, const ble::ConnectionCompleteEvent &amp;event)
    {
        _connection_handle = event.getConnectionHandle();

        // setup the event handlers called during the process
        _client-&gt;onDataWritten().add(as_cb(&amp;Self::when_descriptor_written));
        _client-&gt;onHVX().add(as_cb(&amp;Self::when_characteristic_changed));

        // The discovery process will invoke when_service_discovered when a
        // service is discovered, when_characteristic_discovered when a
        // characteristic is discovered and when_service_discovery_ends once the
        // discovery process has ended.
        _client-&gt;onServiceDiscoveryTermination(as_cb(&amp;Self::when_service_discovery_ends));
        ble_error_t error = _client-&gt;launchServiceDiscovery(
            _connection_handle,
            as_cb(&amp;Self::when_service_discovered),
            as_cb(&amp;Self::when_characteristic_discovered)
        );

        if (error) {
            printf("Error %u returned by _client-&gt;launchServiceDiscovery.\r\n", error);
            return;
        }

        // register as a handler for GattClient events
        _client-&gt;setEventHandler(this);

        // this might not result in a new value but if it does we will be informed through
        // an call in the event handler we just registered
        _client-&gt;negotiateAttMtu(_connection_handle);

        printf("Client process started: initiate service discovery.\r\n");
    }

    /**
     * Stop the discovery process and clean the instance.
     */
    void stop()
    {
        if (!_client) {
            return;
        }

        // unregister event handlers
        _client-&gt;onDataWritten().detach(as_cb(&amp;Self::when_descriptor_written));
        _client-&gt;onHVX().detach(as_cb(&amp;Self::when_characteristic_changed));
        _client-&gt;onServiceDiscoveryTermination(nullptr);

        // remove discovered characteristics
        clear_characteristics();

        // clean up the instance
        _connection_handle = 0;
        _characteristics = nullptr;
        _it = nullptr;
        _descriptor_handle = 0;

        printf("Client process stopped.\r\n");
    }

private:
    /**
     * Implementation of GattClient::EventHandler::onAttMtuChange event
     */
    virtual void onAttMtuChange(
        ble::connection_handle_t connectionHandle,
        uint16_t attMtuSize
    )
    {
        printf(
            "ATT_MTU changed on the connection %d to a new value of %d.\r\n",
            connectionHandle,
            attMtuSize
            /* maximum size of an attribute written in a single operation is one less */
        );
    }

private:
////////////////////////////////////////////////////////////////////////////////
// Service and characteristic discovery process.

    /**
     * Handle services discovered.
     *
     * The GattClient invokes this function when a service has been discovered.
     *
     * @see GattClient::launchServiceDiscovery
     */
    void when_service_discovered(const DiscoveredService *discovered_service)
    {
        // print information of the service discovered
        printf("Service discovered: value = ");
        print_uuid(discovered_service-&gt;getUUID());
        printf(", start = %u, end = %u.\r\n",
            discovered_service-&gt;getStartHandle(),
            discovered_service-&gt;getEndHandle()
        );
    }

    /**
     * Handle characteristics discovered.
     *
     * The GattClient invoke this function when a characteristic has been
     * discovered.
     *
     * @see GattClient::launchServiceDiscovery
     */
    void when_characteristic_discovered(const DiscoveredCharacteristic *discovered_characteristic)
    {
        // print characteristics properties
        printf("\tCharacteristic discovered: uuid = ");
        print_uuid(discovered_characteristic-&gt;getUUID());
        printf(", properties = ");
        print_properties(discovered_characteristic-&gt;getProperties());
        printf(
            ", decl handle = %u, value handle = %u, last handle = %u.\r\n",
            discovered_characteristic-&gt;getDeclHandle(),
            discovered_characteristic-&gt;getValueHandle(),
            discovered_characteristic-&gt;getLastHandle()
        );

        // add the characteristic into the list of discovered characteristics
        bool success = add_characteristic(discovered_characteristic);
        if (!success) {
            printf("Error: memory allocation failure while adding the discovered characteristic.\r\n");
            _client-&gt;terminateServiceDiscovery();
            stop();
            return;
        }
    }

    /**
     * Handle termination of the service and characteristic discovery process.
     *
     * The GattClient invokes this function when the service and characteristic
     * discovery process ends.
     *
     * @see GattClient::onServiceDiscoveryTermination
     */
    void when_service_discovery_ends(ble::connection_handle_t connection_handle)
    {
        if (!_characteristics) {
            printf("No characteristics discovered, end of the process.\r\n");
            return;
        }

        printf("All services and characteristics discovered, process them.\r\n");

        // reset iterator and start processing characteristics in order
        _it = nullptr;
        _event_queue-&gt;call(mbed::callback(this, &amp;Self::process_next_characteristic));
    }

////////////////////////////////////////////////////////////////////////////////
// Processing of characteristics based on their properties.

    /**
     * Process the characteristics discovered.
     *
     * - If the characteristic is readable then read its value and print it. Then
     * - If the characteristic can emit notification or indication then discover
     * the characteristic CCCD and subscribe to the server initiated event.
     * - Otherwise skip the characteristic processing.
     */
    void process_next_characteristic(void)
    {
        if (!_it) {
            _it = _characteristics;
        } else {
            _it = _it-&gt;next;
        }

        while (_it) {
            Properties_t properties = _it-&gt;value.getProperties();

            if (properties.read()) {
                read_characteristic(_it-&gt;value);
                return;
            } else if(properties.notify() || properties.indicate()) {
                discover_descriptors(_it-&gt;value);
                return;
            } else {
                printf(
                    "Skip processing of characteristic %u\r\n",
                    _it-&gt;value.getValueHandle()
                );
                _it = _it-&gt;next;
            }
        }

        printf("All characteristics discovered have been processed.\r\n");
    }

    /**
     * Initate the read of the characteristic in input.
     *
     * The completion of the operation will happens in when_characteristic_read()
     */
    void read_characteristic(const DiscoveredCharacteristic &amp;characteristic)
    {
        printf("Initiating read at %u.\r\n", characteristic.getValueHandle());
        ble_error_t error = characteristic.read(0, as_cb(&amp;Self::when_characteristic_read));

        if (error) {
            printf(
                "Error: cannot initiate read at %u due to %u\r\n",
                characteristic.getValueHandle(), error
            );
            stop();
        }
    }

    /**
     * Handle the reception of a read response.
     *
     * If the characteristic can emit notification or indication then start the
     * discovery of the the characteristic descriptors then subscribe to the
     * server initiated event by writing the CCCD discovered. Otherwise start
     * the processing of the next characteristic discovered in the server.
     */
    void when_characteristic_read(const GattReadCallbackParams *read_event)
    {
        printf("\tCharacteristic value at %u equal to: ", read_event-&gt;handle);
        for (size_t i = 0; i &lt;  read_event-&gt;len; ++i) {
            printf("0x%02X ", read_event-&gt;data[i]);
        }
        printf(".\r\n");

        Properties_t properties = _it-&gt;value.getProperties();

        if(properties.notify() || properties.indicate()) {
            discover_descriptors(_it-&gt;value);
        } else {
            process_next_characteristic();
        }
    }

    /**
     * Initiate the discovery of the descriptors of the characteristic in input.
     *
     * When a descriptor is discovered, the function when_descriptor_discovered
     * is invoked.
     */
    void discover_descriptors(const DiscoveredCharacteristic &amp;characteristic)
    {
        printf("Initiating descriptor discovery of %u.\r\n", characteristic.getValueHandle());

        _descriptor_handle = 0;
        ble_error_t error = characteristic.discoverDescriptors(
            as_cb(&amp;Self::when_descriptor_discovered),
            as_cb(&amp;Self::when_descriptor_discovery_ends)
        );

        if (error) {
            printf(
                "Error: cannot initiate discovery of %04X due to %u.\r\n",
                characteristic.getValueHandle(), error
            );
            stop();
        }
    }

    /**
     * Handle the discovery of the characteristic descriptors.
     *
     * If the descriptor found is a CCCD then stop the discovery. Once the
     * process has ended subscribe to server initiated events by writing the
     * value of the CCCD.
     */
    void when_descriptor_discovered(const DiscoveryCallbackParams_t* event)
    {
        printf("\tDescriptor discovered at %u, UUID: ", event-&gt;descriptor.getAttributeHandle());
        print_uuid(event-&gt;descriptor.getUUID());
        printf(".\r\n");

        if (event-&gt;descriptor.getUUID() == BLE_UUID_DESCRIPTOR_CLIENT_CHAR_CONFIG) {
            _descriptor_handle = event-&gt;descriptor.getAttributeHandle();
            _client-&gt;terminateCharacteristicDescriptorDiscovery(
                event-&gt;characteristic
            );
        }
    }

    /**
     * If a CCCD has been found subscribe to server initiated events by writing
     * its value.
     */
    void when_descriptor_discovery_ends(const TerminationCallbackParams_t *event)
    {
        // shall never happen but happen with android devices ...
        // process the next charateristic
        if (!_descriptor_handle) {
            printf("\tWarning: characteristic with notify or indicate attribute without CCCD.\r\n");
            process_next_characteristic();
            return;
        }

        Properties_t properties = _it-&gt;value.getProperties();

        uint16_t cccd_value =
            (properties.notify() &lt;&lt; 0) | (properties.indicate() &lt;&lt; 1);

        ble_error_t error = _client-&gt;write(
            GattClient::GATT_OP_WRITE_REQ,
            _connection_handle,
            _descriptor_handle,
            sizeof(cccd_value),
            reinterpret_cast&lt;uint8_t*&gt;(&amp;cccd_value)
        );

        if (error) {
            printf(
                "Error: cannot initiate write of CCCD %u due to %u.\r\n",
                _descriptor_handle, error
            );
            stop();
        }
    }

    /**
     * Called when the CCCD has been written.
     */
    void when_descriptor_written(const GattWriteCallbackParams* event)
    {
        // should never happen
        if (!_descriptor_handle) {
            printf("\tError: received write response to unsolicited request.\r\n");
            stop();
            return;
        }

        printf("\tCCCD at %u written.\r\n", _descriptor_handle);
        _descriptor_handle = 0;
        process_next_characteristic();
    }

    /**
     * Print the updated value of the characteristic.
     *
     * This function is called when the server emits a notification or an
     * indication of a characteristic value the client has subscribed to.
     *
     * @see GattClient::onHVX()
     */
    void when_characteristic_changed(const GattHVXCallbackParams* event)
    {
        printf("Change on attribute %u: new value = ", event-&gt;handle);
        for (size_t i = 0; i &lt; event-&gt;len; ++i) {
            printf("0x%02X ", event-&gt;data[i]);
        }
        printf(".\r\n");
    }

    struct DiscoveredCharacteristicNode {
        DiscoveredCharacteristicNode(const DiscoveredCharacteristic &amp;c) :
            value(c), next(nullptr) { }

        DiscoveredCharacteristic value;
        DiscoveredCharacteristicNode *next;
    };

    /**
     * Add a discovered characteristic into the list of discovered characteristics.
     */
    bool add_characteristic(const DiscoveredCharacteristic *characteristic)
    {
        DiscoveredCharacteristicNode* new_node =
            new(std::nothrow) DiscoveredCharacteristicNode(*characteristic);

        if (new_node == nullptr) {
            printf("Error while allocating a new characteristic.\r\n");
            return false;
        }

        if (_characteristics == nullptr) {
            _characteristics = new_node;
        } else {
            DiscoveredCharacteristicNode* c = _characteristics;
            while(c-&gt;next) {
                c = c-&gt;next;
            }
            c-&gt;next = new_node;
        }

        return true;
    }

    /**
     * Clear the list of discovered characteristics.
     */
    void clear_characteristics(void)
    {
        DiscoveredCharacteristicNode *c= _characteristics;

        while (c) {
            DiscoveredCharacteristicNode *n = c-&gt;next;
            delete c;
            c = n;
        }
    }

    /**
     * Helper to construct an event handler from a member function of this
     * instance.
     */
    template&lt;typename ContextType&gt;
    FunctionPointerWithContext&lt;ContextType&gt; as_cb(void (Self::*member)(ContextType context))
    {
        return makeFunctionPointer(this, member);
    }

    /**
     * Print the value of a UUID.
     */
    static void print_uuid(const UUID &amp;uuid)
    {
        const uint8_t *uuid_value = uuid.getBaseUUID();

        // UUIDs are in little endian, print them in big endian
        for (size_t i = 0; i &lt; uuid.getLen(); ++i) {
            printf("%02X", uuid_value[(uuid.getLen() - 1) - i]);
        }
    }

    /**
     * Print the value of a characteristic properties.
     */
    static void print_properties(const Properties_t &amp;properties)
    {
        const struct {
            bool (Properties_t::*fn)() const;
            const char* str;
        } prop_to_str[] = {
            { &amp;Properties_t::broadcast, "broadcast" },
            { &amp;Properties_t::read, "read" },
            { &amp;Properties_t::writeWoResp, "writeWoResp" },
            { &amp;Properties_t::write, "write" },
            { &amp;Properties_t::notify, "notify" },
            { &amp;Properties_t::indicate, "indicate" },
            { &amp;Properties_t::authSignedWrite, "authSignedWrite" }
        };

        printf("[");
        for (size_t i = 0; i &lt; (sizeof(prop_to_str) / sizeof(prop_to_str[0])); ++i) {
            if ((properties.*(prop_to_str[i].fn))()) {
                printf(" %s", prop_to_str[i].str);
            }
        }
        printf(" ]");
    }

private:
    BLE *_ble = nullptr;
    events::EventQueue *_event_queue = nullptr;
    GattClient *_client = nullptr;

    ble::connection_handle_t _connection_handle = 0;
    DiscoveredCharacteristicNode *_characteristics = nullptr;
    DiscoveredCharacteristicNode *_it = nullptr;
    GattAttribute::Handle_t _descriptor_handle = 0;
};


int main()
{
    BLE &amp;ble = BLE::Instance();
    events::EventQueue event_queue;

    GattClientDemo demo;

    /* this process will handle basic ble setup and advertising for us */
    GattClientProcess ble_process(event_queue, ble);

    /* once it's done it will let us continue with our demo */
    ble_process.on_init(mbed::callback(&amp;demo, &amp;GattClientDemo::start));
    ble_process.on_connect(mbed::callback(&amp;demo, &amp;GattClientDemo::start_discovery));

    ble_process.start();

    return 0;
}

</code></pre>
</div>
                            </div>
                        </div>

                        
                        <div class="row">
                            <div class="next-prev-links large-12 medium-12 small-12 columns">
                                
                                <a class="prev-link" href="ble-services.html"><i aria-hidden="true" class="fa fa-arrow-circle-left"></i> Previous</a>
                                

                                
                                <a class="next-link" href="optimizing-applications-for-throughput-and-power-consumption.html">Next <i aria-hidden="true" class="fa fa-arrow-circle-right"></i></a>
                                
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="../static/js/toc.mbed-cache-261a3b3a8a10e9d430f4bb5fdd0e5b5c.js"></script>
        <script src="../static/js/vendor/foundation-6.2.4.min.mbed-cache-9f0af735cc1c2011ddd8e8a94273129a.js"></script>
        <script>
            $('#docs-content').foundation();
            $(document).ready(function() {
                initToC();
            });
        </script>
    

        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright  <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/apis/gattclient.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:15:01 GMT -->
</html>
