<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/apis/mbed-crypto.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:15:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        
        
        <title>Mbed Crypto - API references and tutorials | Mbed OS 6 Documentation</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="../static/css/vendor/font-awesome-4.7.0/css/font-awesome.min.mbed-cache-269550530cc127b6aa5a35925a7de6ce.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-23ac288f803d41065f3596e4c6b08e94.css" rel="stylesheet"/>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="mbed-crypto.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/apis/mbed-crypto.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/apis/mbed-crypto.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="off-canvas-wrapper" id="docs-content">
            <div class="off-canvas-wrapper-inner full-height" data-off-canvas-wrapper="">
                <div class="off-canvas-content" data-off-canvas-content="">
                    <a href="#" id="nav-button">
                        <span>
                            <i class="fa fa-bars"></i>
                        </span>
                    </a>

                    <div class="toc-wrapper" id="navbar">
                        <div id="toc">
    
        
        <div class="toc-level top">
            <a class="toc-item introduction" href="../introduction/index.html">Introduction to Mbed OS 6</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item bare-metal" href="../bare-metal/index.html">Mbed OS bare metal profile</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item quick-start" href="../quick-start/index.html">Quick start</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item apis active-doc" href="index.html">API references and tutorials</a>
        </div>
        

        
            <div class="toc-level one">
                <a class="toc-item" href="index.html">Full API list</a>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="scheduling-rtos-and-event-handling.html">Scheduling: RTOS and event handling</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="scheduling-concepts.html">Scheduling concepts</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="scheduling-concepts.html">RTOS overview</a>
                        
                        <a class="toc-item" href="thread-safety.html">Thread safety</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="scheduling-options-and-config.html">Scheduling options and config</a>
                    
                    
                    <a class="toc-item" href="scheduling-tutorials.html">Scheduling tutorials</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="scheduling-tutorials.html">The EventQueue API</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="rtos-apis.html">RTOS APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="rtos-apis.html">ConditionVariable</a>
                        
                        <a class="toc-item" href="eventflags.html">EventFlags</a>
                        
                        <a class="toc-item" href="idle-loop.html">Idle loop</a>
                        
                        <a class="toc-item" href="kernel-interface-functions.html">Kernel interface functions</a>
                        
                        <a class="toc-item" href="mail.html">Mail</a>
                        
                        <a class="toc-item" href="mutex.html">Mutex</a>
                        
                        <a class="toc-item" href="queue.html">Queue</a>
                        
                        <a class="toc-item" href="semaphore.html">Semaphore</a>
                        
                        <a class="toc-item" href="thisthread.html">ThisThread</a>
                        
                        <a class="toc-item" href="thread.html">Thread</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="event-handling-apis.html">Event handling APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="event-handling-apis.html">Event</a>
                        
                        <a class="toc-item" href="eventqueue.html">EventQueue</a>
                        
                        <a class="toc-item" href="userallocatedevent.html">UserAllocatedEvent</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="drivers.html">Drivers</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="drivers-concepts.html">Drivers concepts</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="driver-interfaces-experimental.html">Driver Interfaces (Experimental)</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="drivers-architecture.html">Drivers architecture</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="drivers-architecture.html">USB device stack</a>
                        
                        <a class="toc-item" href="usb-overview.html">USB components overview</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="drivers-options-and-config.html">Drivers options and config</a>
                    
                    
                    <a class="toc-item" href="drivers-tutorials.html">Drivers tutorials</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="drivers-tutorials.html">Alarm tutorial</a>
                        
                        <a class="toc-item" href="usb-wav-audio-player.html">USB WAV audio player</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="standard-pin-names.html">Standard Pin Names</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="standard-pin-names.html">Standard Pin Names</a>
                        
                        <a class="toc-item" href="arduino-uno-pin-names.html">Arduino Uno Pin Names</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="serial-uart-apis.html">Serial (UART) APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="serial-uart-apis.html">BufferedSerial</a>
                        
                        <a class="toc-item" href="unbufferedserial.html">UnbufferedSerial</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="spi-apis.html">SPI APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="spi-apis.html">QuadSPI (QSPI)</a>
                        
                        <a class="toc-item" href="spi.html">SPI</a>
                        
                        <a class="toc-item" href="spislave.html">SPISlave</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="i-o-apis.html">I/O APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="i-o-apis.html">AnalogIn</a>
                        
                        <a class="toc-item" href="analogout.html">AnalogOut</a>
                        
                        <a class="toc-item" href="busin.html">BusIn</a>
                        
                        <a class="toc-item" href="busout.html">BusOut</a>
                        
                        <a class="toc-item" href="businout.html">BusInOut</a>
                        
                        <a class="toc-item" href="digitalin.html">DigitalIn</a>
                        
                        <a class="toc-item" href="digitalout.html">DigitalOut</a>
                        
                        <a class="toc-item" href="digitalinout.html">DigitalInOut</a>
                        
                        <a class="toc-item" href="interruptin.html">InterruptIn</a>
                        
                        <a class="toc-item" href="portin.html">PortIn</a>
                        
                        <a class="toc-item" href="portout.html">PortOut</a>
                        
                        <a class="toc-item" href="portinout.html">PortInOut</a>
                        
                        <a class="toc-item" href="pwmout.html">PwmOut</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="usb-apis.html">USB APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="usb-apis.html">USBAudio</a>
                        
                        <a class="toc-item" href="usbcdc.html">USBCDC</a>
                        
                        <a class="toc-item" href="usbcdc-ecm.html">USBCDC_ECM</a>
                        
                        <a class="toc-item" href="usbhid.html">USBHID</a>
                        
                        <a class="toc-item" href="usbkeyboard.html">USBKeyboard</a>
                        
                        <a class="toc-item" href="usbmidi.html">USBMIDI</a>
                        
                        <a class="toc-item" href="usbmouse.html">USBMouse</a>
                        
                        <a class="toc-item" href="usbmousekeyboard.html">USBMouseKeyboard</a>
                        
                        <a class="toc-item" href="usbmsd.html">USBMSD</a>
                        
                        <a class="toc-item" href="usbserial.html">USBSerial</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="other-driver-apis.html">Other driver APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="other-driver-apis.html">CAN</a>
                        
                        <a class="toc-item" href="flash-iap.html">Flash IAP</a>
                        
                        <a class="toc-item" href="i2c.html">I2C</a>
                        
                        <a class="toc-item" href="i2cslave.html">I2CSlave</a>
                        
                        <a class="toc-item" href="mbedcrc.html">MbedCRC</a>
                        
                        <a class="toc-item" href="resetreason.html">ResetReason</a>
                        
                        <a class="toc-item" href="watchdog.html">Watchdog</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="platform.html">Platform</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="platform-concepts.html">Platform concepts</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="platform-concepts.html">Platform overview</a>
                        
                        <a class="toc-item" href="printf-and-reducing-memory.html">printf and reducing memory</a>
                        
                        <a class="toc-item" href="memory-model.html">Memory</a>
                        
                        <a class="toc-item" href="static-memory-optimization.html">Static memory optimization</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="platform-options-and-config.html">Platform options and config</a>
                    
                    
                    <a class="toc-item" href="platform-tutorials.html">Platform tutorials</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="platform-tutorials.html">Application flow control</a>
                        
                        <a class="toc-item" href="power-optimization.html">Power optimization</a>
                        
                        <a class="toc-item" href="runtime-memory-tracing.html">Runtime memory tracing</a>
                        
                        <a class="toc-item" href="runtime-memory-statistics.html">Runtime memory statistics</a>
                        
                        <a class="toc-item" href="link-time-optimization.html">Link Time Optimization</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="time-apis.html">Time APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="time-apis.html">RTC</a>
                        
                        <a class="toc-item" href="ticker.html">Ticker</a>
                        
                        <a class="toc-item" href="time.html">Time</a>
                        
                        <a class="toc-item" href="timeout.html">Timeout</a>
                        
                        <a class="toc-item" href="timer.html">Timer</a>
                        
                        <a class="toc-item" href="wait.html">Wait</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="power-apis.html">Power APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="power-apis.html">DeepSleepLock</a>
                        
                        <a class="toc-item" href="lowpowerticker.html">LowPowerTicker</a>
                        
                        <a class="toc-item" href="lowpowertimeout.html">LowPowerTimeout</a>
                        
                        <a class="toc-item" href="lowpowertimer.html">LowPowerTimer</a>
                        
                        <a class="toc-item" href="power-management-sleep.html">Power management (sleep)</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="memory-apis.html">Memory APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="memory-apis.html">Memory tracing</a>
                        
                        <a class="toc-item" href="mpu-management.html">MPU management</a>
                        
                        <a class="toc-item" href="memorypool.html">MemoryPool</a>
                        
                        <a class="toc-item" href="mbed-statistics.html">Mbed statistics</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="other-platform-apis.html">Other platform APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="other-platform-apis.html">Assert</a>
                        
                        <a class="toc-item" href="atcmdparser.html">ATCmdParser</a>
                        
                        <a class="toc-item" href="callback.html">Callback</a>
                        
                        <a class="toc-item" href="circularbuffer.html">CircularBuffer</a>
                        
                        <a class="toc-item" href="criticalsectionlock.html">CriticalSectionLock</a>
                        
                        <a class="toc-item" href="debug.html">Debug</a>
                        
                        <a class="toc-item" href="error-handling.html">Error handling</a>
                        
                        <a class="toc-item" href="filehandle.html">FileHandle</a>
                        
                        <a class="toc-item" href="noncopyable.html">NonCopyable</a>
                        
                        <a class="toc-item" href="platformmutex.html">PlatformMutex</a>
                        
                        <a class="toc-item" href="poll.html">Poll</a>
                        
                        <a class="toc-item" href="scopedramexecutionlock.html">ScopedRamExecutionLock</a>
                        
                        <a class="toc-item" href="scopedromwritelock.html">ScopedRomWriteLock</a>
                        
                        <a class="toc-item" href="shared-pointer.html">Shared Pointer</a>
                        
                        <a class="toc-item" href="span.html">Span</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="data-storage.html">Data storage</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="data-storage-concepts.html">Data storage concepts</a>
                    
                    
                    <a class="toc-item" href="data-architecture.html">Data architecture</a>
                    
                    
                    <a class="toc-item" href="data-options-and-config.html">Data options and config</a>
                    
                    
                    <a class="toc-item" href="file-system-apis.html">File system APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="file-system-apis.html">Dir</a>
                        
                        <a class="toc-item" href="fatfilesystem.html">FATFileSystem</a>
                        
                        <a class="toc-item" href="file.html">File</a>
                        
                        <a class="toc-item" href="filesystem.html">FileSystem</a>
                        
                        <a class="toc-item" href="kvstore.html">KVStore</a>
                        
                        <a class="toc-item" href="littlefilesystem.html">LittleFileSystem</a>
                        
                        <a class="toc-item" href="static-global-api.html">kvstore_global_api (Static Global API)</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="blockdevice-apis.html">BlockDevice APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="blockdevice-apis.html">BlockDevice</a>
                        
                        <a class="toc-item" href="bufferedblockdevice.html">BufferedBlockDevice</a>
                        
                        <a class="toc-item" href="chainingblockdevice.html">ChainingBlockDevice</a>
                        
                        <a class="toc-item" href="dataflashblockdevice.html">DataFlashBlockDevice</a>
                        
                        <a class="toc-item" href="flashiapblockdevice.html">FlashIAPBlockDevice</a>
                        
                        <a class="toc-item" href="flashsimblockdevice.html">FlashSimBlockDevice</a>
                        
                        <a class="toc-item" href="heapblockdevice.html">HeapBlockDevice</a>
                        
                        <a class="toc-item" href="mbrblockdevice.html">MBRBlockDevice</a>
                        
                        <a class="toc-item" href="profilingblockdevice.html">ProfilingBlockDevice</a>
                        
                        <a class="toc-item" href="qspifblockdevice.html">QSPIFBlockDevice</a>
                        
                        <a class="toc-item" href="sdblockdevice.html">SDBlockDevice</a>
                        
                        <a class="toc-item" href="slicingblockdevice.html">SlicingBlockDevice</a>
                        
                        <a class="toc-item" href="spi-flash-block-device.html">SPI Flash block device</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="psa-compliant-apis.html">PSA compliant APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="psa-compliant-apis.html">PSA internal storage</a>
                        
                        <a class="toc-item" href="psa-protected-storage.html">PSA protected storage</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="connectivity.html">Connectivity</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="choosing-a-connectivity-type.html">Choosing a connectivity type</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="bluetooth.html">Bluetooth</a>
                        
                        <a class="toc-item" href="cellular-networking.html">Cellular networking</a>
                        
                        <a class="toc-item" href="ethernet-technology.html">Ethernet</a>
                        
                        <a class="toc-item" href="wlan-technology.html">Wireless LAN</a>
                        
                        <a class="toc-item" href="lora-tech.html">LoRaWAN</a>
                        
                        <a class="toc-item" href="nfc-technology.html">NFC</a>
                        
                        <a class="toc-item" href="wisun-tech.html">Wi-SUN</a>
                        
                        <a class="toc-item" href="6LoWPAN-ND-tech.html">6LoWPAN-ND</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="connectivity-architecture.html">Connectivity architecture</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="connectivity-architecture.html">IP networking</a>
                        
                        <a class="toc-item" href="network-socket.html">Network socket</a>
                        
                        <a class="toc-item" href="network-socket-interfaces-and-classes.html">Network socket interfaces and classes</a>
                        
                        <a class="toc-item" href="network-interface.html">Network interface</a>
                        
                        <a class="toc-item" href="secure-socket.html">Secure Socket</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="connectivity-options-and-config.html">Connectivity options and config</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="connectivity-options-and-config.html">Connectivity configurations</a>
                        
                        <a class="toc-item" href="configuration-mesh.html">6LoWPAN Mesh</a>
                        
                        <a class="toc-item" href="configuration-ble.html">BLE configuration</a>
                        
                        <a class="toc-item" href="lorawan-configuration.html">LoRaWAN configuration</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="connectivity-tutorials.html">Connectivity tutorials</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="connectivity-tutorials.html">Mesh tutorial</a>
                        
                        <a class="toc-item" href="light-control.html">Light control tutorial</a>
                        
                        <a class="toc-item" href="lorawan-usage.html">LoRaWAN usage</a>
                        
                        <a class="toc-item" href="LoRa-tutorial.html">Building a private LoRa network</a>
                        
                        <a class="toc-item" href="tls-tutorial.html">Using Mbed TLS to communicate securely</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="network-socket-apis.html">Network socket APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="network-socket-apis.html">Non-IP cellular socket</a>
                        
                        <a class="toc-item" href="socket.html">Socket</a>
                        
                        <a class="toc-item" href="socketaddress.html">SocketAddress</a>
                        
                        <a class="toc-item" href="socketstats.html">SocketStats</a>
                        
                        <a class="toc-item" href="tcpsocket.html">TCPSocket</a>
                        
                        <a class="toc-item" href="udpsocket.html">UDPSocket</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="network-interface-apis.html">Network interface APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="network-interface-apis.html">Cellular</a>
                        
                        <a class="toc-item" href="ethernet.html">Ethernet</a>
                        
                        <a class="toc-item" href="mesh-api.html">Mesh</a>
                        
                        <a class="toc-item" href="network-status.html">Network status</a>
                        
                        <a class="toc-item" href="wi-fi.html">Wi-Fi</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="secure-socket-apis.html">Secure socket APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="secure-socket-apis.html">DTLSSocket</a>
                        
                        <a class="toc-item" href="tlssocket.html">TLSSocket</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="dns-apis.html">DNS APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="dns-apis.html">DNS Resolver</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="bluetooth-apis.html">Bluetooth APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="bluetooth-apis.html">BLE</a>
                        
                        <a class="toc-item" href="gap.html">GAP</a>
                        
                        <a class="toc-item" href="gattserver.html">GattServer</a>
                        
                        <a class="toc-item" href="securitymanager.html">SecurityManager</a>
                        
                        <a class="toc-item" href="ble-services.html">BLE Services</a>
                        
                        <a class="toc-item" href="gattclient.html">GattClient</a>
                        
                        <a class="toc-item" href="optimizing-applications-for-throughput-and-power-consumption.html">Optimizing applications for throughput and power consumption</a>
                        
                        <a class="toc-item" href="test-and-measure.html">Test and measure</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="nfc-apis.html">NFC APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="nfc-apis.html">MessageBuilder</a>
                        
                        <a class="toc-item" href="messageparser.html">MessageParser</a>
                        
                        <a class="toc-item" href="nfccontroller.html">NFCController</a>
                        
                        <a class="toc-item" href="nfc-eeprom.html">NFC EEPROM</a>
                        
                        <a class="toc-item" href="simplemessageparser.html">SimpleMessageParser</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="lorawan-apis.html">LoRAWAN APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="lorawan-apis.html">LoRaWANInterface</a>
                        
                        <a class="toc-item" href="loraradio.html">LoRa radio driver</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="security.html">Security</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="security-concepts.html">Security concepts</a>
                    
                    
                    <a class="toc-item" href="security-apis.html">Security APIs</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="security-apis.html">DeviceKey</a>
                        
                        <a class="toc-item" href="mbed-crypto.html">Mbed Crypto</a>
                        
                        <a class="toc-item" href="psa-initial-attestation.html">PSA initial attestation</a>
                        
                        <a class="toc-item" href="psa-lifecycle.html">PSA lifecycle</a>
                        
                        <a class="toc-item" href="tls.html">TLS</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        

    
        
        <div class="toc-level top">
            <a class="toc-item program-setup" href="../program-setup/index.html">Program setup</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item build-tools" href="../build-tools/index.html">Build tools</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item debug-test" href="../debug-test/index.html">Debugging and testing</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item tutorials" href="../tutorials/index.html">Tutorials and examples</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item contributing" href="../contributing/index.html">Contributing</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item porting" href="../porting/index.html">Porting</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item mbed-os-pelion" href="../mbed-os-pelion/index.html">Reference designs and end-to-end information</a>
        </div>
        

        

    
</div>
                    </div>

                    <div class="page-wrapper" id="page">
                        <div class="row">
                            <div class="content large-12 medium-12 columns" id="content">
                                <div class="breadcrumbs">
                                    
                                    <a href="../index.html">Docs</a>
                                      
                                    
                                    <a href="index.html">API references and tutorials</a>
                                      
                                    
                                    <a href="security.html">Security</a>
                                      
                                    
                                    <a href="security-apis.html">Security APIs</a>
                                      
                                    
                                    <a href="mbed-crypto.html">Mbed Crypto</a>
                                    
                                    
                                </div>
                                <h1>Mbed Crypto</h1><p>Arm Mbed Crypto is the reference implementation of the cryptography interface of the Arm Platform Security Architecture (PSA).</p><p><span class="notes"><strong>Note:</strong> The version of Mbed Crypto shipping with Mbed OS implements PSA Crypto API v1.0b1.</span></p><p>We have adapted and <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/mbedtls/mbed-crypto">integrated Mbed Crypto with Mbed OS</a>. On PSA boards that support it, Mbed Crypto comes integrated with Mbed OS to leverage the board's segmented architecture and isolate cryptographic keys and operations from applications.</p><p>You can import Mbed Crypto from its standalone <a href="https://github.com/ARMmbed/mbed-crypto">release</a>. Mbed Crypto as integrated with Mbed OS does not include all test code or scripts used in the development of the library. You can find all of these in the standalone release.</p><p><span class="notes"><strong>Note:</strong> Mbed Crypto, like Mbed TLS, needs a secure source of random numbers; make sure that your target board has one and that it is fully ported to Arm Mbed OS. You can read more about this in our <a href="../porting/entropy-sources.html">porting guide</a>.</span></p><h2 id="configuring-mbed-crypto-features">Configuring Mbed Crypto features</h2><p>The Mbed TLS configuration system configures Mbed Crypto. Please refer to <a href="tls.html#configuring-mbed-tls-features">Mbed TLS documentation for how to configure Mbed TLS and Mbed Crypto</a>.</p><h2 id="mbed-crypto-examples">Mbed Crypto examples</h2><p>This example covers some basic use of the PSA Crypto API, as well as factory entropy injection:</p><div class="code-include-block">
<div class="code-header">
<a href="https://github.com/ARMmbed/mbed-os-example-mbed-crypto/blob/mbed-os-6.7.0/getting-started/main.cpp" target="_blank"><i class="fa fa-file-code-o"></i> <b class="filename">main.cpp</b></a>
</div>
<pre><code>/*
 * Copyright (c) 2018-2019, Arm Limited and affiliates
 * SPDX-License-Identifier: Apache-2.0
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
#include "psa/crypto.h"
#include "mbedtls/version.h"
#include &lt;string.h&gt;
#include &lt;inttypes.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define SOME_PLAINTEXT "I am plaintext."
#define SOME_CIPHERTEXT \
{ \
0x9f, 0xbf, 0x0b, 0x99, 0x70, 0xe0, 0x3d, 0xab, \
0xf7, 0x65, 0x43, 0x88, 0x09, 0x2c, 0xb4, 0x66, \
}
#define ENCRYPTED_WITH_IV \
{ \
0x0e, 0x42, 0x75, 0x78, 0xb5, 0x0d, 0x17, 0x4f, \
0x6e, 0x13, 0xf4, 0xfd, 0x16, 0x30, 0x3e, 0xc7, \
}
/* This key is present as a global define for the purpose of example. In
 * real-world applications, you would not have a key hardcoded in source like
 * this. */
static const uint8_t AES_KEY[] =
{
    0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa,
    0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa,
};
/* This key is present as a global define for the purpose of example. In
 * real-world applications, you would not have a key hardcoded in source like
 * this. */
static const uint8_t RSA_KEY[] =
{
    0x30, 0x82, 0x02, 0x5e, 0x02, 0x01, 0x00, 0x02, 0x81, 0x81, 0x00, 0xaf,
    0x05, 0x7d, 0x39, 0x6e, 0xe8, 0x4f, 0xb7, 0x5f, 0xdb, 0xb5, 0xc2, 0xb1,
    0x3c, 0x7f, 0xe5, 0xa6, 0x54, 0xaa, 0x8a, 0xa2, 0x47, 0x0b, 0x54, 0x1e,
    0xe1, 0xfe, 0xb0, 0xb1, 0x2d, 0x25, 0xc7, 0x97, 0x11, 0x53, 0x12, 0x49,
    0xe1, 0x12, 0x96, 0x28, 0x04, 0x2d, 0xbb, 0xb6, 0xc1, 0x20, 0xd1, 0x44,
    0x35, 0x24, 0xef, 0x4c, 0x0e, 0x6e, 0x1d, 0x89, 0x56, 0xee, 0xb2, 0x07,
    0x7a, 0xf1, 0x23, 0x49, 0xdd, 0xee, 0xe5, 0x44, 0x83, 0xbc, 0x06, 0xc2,
    0xc6, 0x19, 0x48, 0xcd, 0x02, 0xb2, 0x02, 0xe7, 0x96, 0xae, 0xbd, 0x94,
    0xd3, 0xa7, 0xcb, 0xf8, 0x59, 0xc2, 0xc1, 0x81, 0x9c, 0x32, 0x4c, 0xb8,
    0x2b, 0x9c, 0xd3, 0x4e, 0xde, 0x26, 0x3a, 0x2a, 0xbf, 0xfe, 0x47, 0x33,
    0xf0, 0x77, 0x86, 0x9e, 0x86, 0x60, 0xf7, 0xd6, 0x83, 0x4d, 0xa5, 0x3d,
    0x69, 0x0e, 0xf7, 0x98, 0x5f, 0x6b, 0xc3, 0x02, 0x03, 0x01, 0x00, 0x01,
    0x02, 0x81, 0x81, 0x00, 0x87, 0x4b, 0xf0, 0xff, 0xc2, 0xf2, 0xa7, 0x1d,
    0x14, 0x67, 0x1d, 0xdd, 0x01, 0x71, 0xc9, 0x54, 0xd7, 0xfd, 0xbf, 0x50,
    0x28, 0x1e, 0x4f, 0x6d, 0x99, 0xea, 0x0e, 0x1e, 0xbc, 0xf8, 0x2f, 0xaa,
    0x58, 0xe7, 0xb5, 0x95, 0xff, 0xb2, 0x93, 0xd1, 0xab, 0xe1, 0x7f, 0x11,
    0x0b, 0x37, 0xc4, 0x8c, 0xc0, 0xf3, 0x6c, 0x37, 0xe8, 0x4d, 0x87, 0x66,
    0x21, 0xd3, 0x27, 0xf6, 0x4b, 0xbe, 0x08, 0x45, 0x7d, 0x3e, 0xc4, 0x09,
    0x8b, 0xa2, 0xfa, 0x0a, 0x31, 0x9f, 0xba, 0x41, 0x1c, 0x28, 0x41, 0xed,
    0x7b, 0xe8, 0x31, 0x96, 0xa8, 0xcd, 0xf9, 0xda, 0xa5, 0xd0, 0x06, 0x94,
    0xbc, 0x33, 0x5f, 0xc4, 0xc3, 0x22, 0x17, 0xfe, 0x04, 0x88, 0xbc, 0xe9,
    0xcb, 0x72, 0x02, 0xe5, 0x94, 0x68, 0xb1, 0xea, 0xd1, 0x19, 0x00, 0x04,
    0x77, 0xdb, 0x2c, 0xa7, 0x97, 0xfa, 0xc1, 0x9e, 0xda, 0x3f, 0x58, 0xc1,
    0x02, 0x41, 0x00, 0xe2, 0xab, 0x76, 0x08, 0x41, 0xbb, 0x9d, 0x30, 0xa8,
    0x1d, 0x22, 0x2d, 0xe1, 0xeb, 0x73, 0x81, 0xd8, 0x22, 0x14, 0x40, 0x7f,
    0x1b, 0x97, 0x5c, 0xbb, 0xfe, 0x4e, 0x1a, 0x94, 0x67, 0xfd, 0x98, 0xad,
    0xbd, 0x78, 0xf6, 0x07, 0x83, 0x6c, 0xa5, 0xbe, 0x19, 0x28, 0xb9, 0xd1,
    0x60, 0xd9, 0x7f, 0xd4, 0x5c, 0x12, 0xd6, 0xb5, 0x2e, 0x2c, 0x98, 0x71,
    0xa1, 0x74, 0xc6, 0x6b, 0x48, 0x81, 0x13, 0x02, 0x41, 0x00, 0xc5, 0xab,
    0x27, 0x60, 0x21, 0x59, 0xae, 0x7d, 0x6f, 0x20, 0xc3, 0xc2, 0xee, 0x85,
    0x1e, 0x46, 0xdc, 0x11, 0x2e, 0x68, 0x9e, 0x28, 0xd5, 0xfc, 0xbb, 0xf9,
    0x90, 0xa9, 0x9e, 0xf8, 0xa9, 0x0b, 0x8b, 0xb4, 0x4f, 0xd3, 0x64, 0x67,
    0xe7, 0xfc, 0x17, 0x89, 0xce, 0xb6, 0x63, 0xab, 0xda, 0x33, 0x86, 0x52,
    0xc3, 0xc7, 0x3f, 0x11, 0x17, 0x74, 0x90, 0x2e, 0x84, 0x05, 0x65, 0x92,
    0x70, 0x91, 0x02, 0x41, 0x00, 0xb6, 0xcd, 0xbd, 0x35, 0x4f, 0x7d, 0xf5,
    0x79, 0xa6, 0x3b, 0x48, 0xb3, 0x64, 0x3e, 0x35, 0x3b, 0x84, 0x89, 0x87,
    0x77, 0xb4, 0x8b, 0x15, 0xf9, 0x4e, 0x0b, 0xfc, 0x05, 0x67, 0xa6, 0xae,
    0x59, 0x11, 0xd5, 0x7a, 0xd6, 0x40, 0x9c, 0xf7, 0x64, 0x7b, 0xf9, 0x62,
    0x64, 0xe9, 0xbd, 0x87, 0xeb, 0x95, 0xe2, 0x63, 0xb7, 0x11, 0x0b, 0x9a,
    0x1f, 0x9f, 0x94, 0xac, 0xce, 0xd0, 0xfa, 0xfa, 0x4d, 0x02, 0x40, 0x71,
    0x19, 0x5e, 0xec, 0x37, 0xe8, 0xd2, 0x57, 0xde, 0xcf, 0xc6, 0x72, 0xb0,
    0x7a, 0xe6, 0x39, 0xf1, 0x0c, 0xbb, 0x9b, 0x0c, 0x73, 0x9d, 0x0c, 0x80,
    0x99, 0x68, 0xd6, 0x44, 0xa9, 0x4e, 0x3f, 0xd6, 0xed, 0x92, 0x87, 0x07,
    0x7a, 0x14, 0x58, 0x3f, 0x37, 0x90, 0x58, 0xf7, 0x6a, 0x8a, 0xec, 0xd4,
    0x3c, 0x62, 0xdc, 0x8c, 0x0f, 0x41, 0x76, 0x66, 0x50, 0xd7, 0x25, 0x27,
    0x5a, 0xc4, 0xa1, 0x02, 0x41, 0x00, 0xbb, 0x32, 0xd1, 0x33, 0xed, 0xc2,
    0xe0, 0x48, 0xd4, 0x63, 0x38, 0x8b, 0x7b, 0xe9, 0xcb, 0x4b, 0xe2, 0x9f,
    0x4b, 0x62, 0x50, 0xbe, 0x60, 0x3e, 0x70, 0xe3, 0x64, 0x75, 0x01, 0xc9,
    0x7d, 0xdd, 0xe2, 0x0a, 0x4e, 0x71, 0xbe, 0x95, 0xfd, 0x5e, 0x71, 0x78,
    0x4e, 0x25, 0xac, 0xa4, 0xba, 0xf2, 0x5b, 0xe5, 0x73, 0x8a, 0xae, 0x59,
    0xbb, 0xfe, 0x1c, 0x99, 0x77, 0x81, 0x44, 0x7a, 0x2b, 0x24,
};

#if !defined(MBEDTLS_PSA_CRYPTO_C) || (MBEDTLS_VERSION_NUMBER &lt; 0x02130000)
int main(void)
{
    printf("Not all of the requirements are met:\n"
           "  - MBEDTLS_PSA_CRYPTO_C\n"
           "  - PSA Crypto API v1.0b3\n");
    return 0;
}
#else

static void import_a_key(const uint8_t *key, size_t key_len)
{
    psa_status_t status;
    psa_key_attributes_t attributes = PSA_KEY_ATTRIBUTES_INIT;
    psa_key_handle_t handle;

    printf("Import an AES key...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS) {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    /* Set key attributes */
    psa_set_key_usage_flags(&amp;attributes, 0);
    psa_set_key_algorithm(&amp;attributes, 0);
    psa_set_key_type(&amp;attributes, PSA_KEY_TYPE_AES);
    psa_set_key_bits(&amp;attributes, 128);

    /* Import the key */
    status = psa_import_key(&amp;attributes, key, key_len, &amp;handle);
    if (status != PSA_SUCCESS) {
        printf("Failed to import key\n");
        return;
    }
    printf("Imported a key\n");

    /* Free the attributes */
    psa_reset_key_attributes(&amp;attributes);

    /* Destroy the key */
    psa_destroy_key(handle);

    mbedtls_psa_crypto_free();
}

static void sign_a_message_using_rsa(const uint8_t *key, size_t key_len)
{
    psa_status_t status;
    psa_key_attributes_t attributes = PSA_KEY_ATTRIBUTES_INIT;
    uint8_t hash[] = "INPUT_FOR_SIGN";
    uint8_t signature[PSA_ASYMMETRIC_SIGNATURE_MAX_SIZE] = {0};
    size_t signature_length;
    psa_key_handle_t handle;

    printf("Sign a message...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS) {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    /* Set key attributes */
    psa_set_key_usage_flags(&amp;attributes, PSA_KEY_USAGE_SIGN);
    psa_set_key_algorithm(&amp;attributes, PSA_ALG_RSA_PKCS1V15_SIGN_RAW);
    psa_set_key_type(&amp;attributes, PSA_KEY_TYPE_RSA_KEY_PAIR);
    psa_set_key_bits(&amp;attributes, 1024);

    /* Import the key */
    status = psa_import_key(&amp;attributes, key, key_len, &amp;handle);
    if (status != PSA_SUCCESS) {
        printf("Failed to import key\n");
        return;
    }

    /* Sign message using the key */
    status = psa_asymmetric_sign(handle, PSA_ALG_RSA_PKCS1V15_SIGN_RAW,
                                 hash, sizeof(hash),
                                 signature, sizeof(signature),
                                 &amp;signature_length);
    if (status != PSA_SUCCESS) {
        printf("Failed to sign\n");
        return;
    }

    printf("Signed a message\n");

    /* Free the attributes */
    psa_reset_key_attributes(&amp;attributes);

    /* Destroy the key */
    psa_destroy_key(handle);

    mbedtls_psa_crypto_free();
}

static void encrypt_with_symmetric_ciphers(const uint8_t *key, size_t key_len)
{
    enum {
        block_size = PSA_BLOCK_CIPHER_BLOCK_SIZE(PSA_KEY_TYPE_AES),
    };
    psa_status_t status;
    psa_key_attributes_t attributes = PSA_KEY_ATTRIBUTES_INIT;
    psa_algorithm_t alg = PSA_ALG_CBC_NO_PADDING;
    uint8_t plaintext[block_size] = SOME_PLAINTEXT;
    uint8_t iv[block_size];
    size_t iv_len;
    uint8_t output[block_size];
    size_t output_len;
    psa_key_handle_t handle;
    psa_cipher_operation_t operation = PSA_CIPHER_OPERATION_INIT;

    printf("Encrypt with cipher...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS)
    {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    /* Import a key */
    psa_set_key_usage_flags(&amp;attributes, PSA_KEY_USAGE_ENCRYPT);
    psa_set_key_algorithm(&amp;attributes, alg);
    psa_set_key_type(&amp;attributes, PSA_KEY_TYPE_AES);
    psa_set_key_bits(&amp;attributes, 128);
    status = psa_import_key(&amp;attributes, key, key_len, &amp;handle);
    if (status != PSA_SUCCESS) {
        printf("Failed to import a key\n");
        return;
    }
    psa_reset_key_attributes(&amp;attributes);

    /* Encrypt the plaintext */
    status = psa_cipher_encrypt_setup(&amp;operation, handle, alg);
    if (status != PSA_SUCCESS) {
        printf("Failed to begin cipher operation\n");
        return;
    }
    status = psa_cipher_generate_iv(&amp;operation, iv, sizeof(iv), &amp;iv_len);
    if (status != PSA_SUCCESS) {
        printf("Failed to generate IV\n");
        return;
    }
    status = psa_cipher_update(&amp;operation, plaintext, sizeof(plaintext),
                               output, sizeof(output), &amp;output_len);
    if (status != PSA_SUCCESS) {
        printf("Failed to update cipher operation\n");
        return;
    }
    status = psa_cipher_finish(&amp;operation, output + output_len,
                               sizeof(output) - output_len, &amp;output_len);
    if (status != PSA_SUCCESS) {
        printf("Failed to finish cipher operation\n");
        return;
    }
    printf("Encrypted plaintext\n");

    /* Clean up cipher operation context */
    psa_cipher_abort(&amp;operation);

    /* Destroy the key */
    psa_destroy_key(handle);

    mbedtls_psa_crypto_free();
}

static void decrypt_with_symmetric_ciphers(const uint8_t *key, size_t key_len)
{
    enum {
        block_size = PSA_BLOCK_CIPHER_BLOCK_SIZE(PSA_KEY_TYPE_AES),
    };
    psa_status_t status;
    psa_key_attributes_t attributes = PSA_KEY_ATTRIBUTES_INIT;
    psa_algorithm_t alg = PSA_ALG_CBC_NO_PADDING;
    psa_cipher_operation_t operation = PSA_CIPHER_OPERATION_INIT;
    uint8_t ciphertext[block_size] = SOME_CIPHERTEXT;
    uint8_t iv[block_size] = ENCRYPTED_WITH_IV;
    uint8_t output[block_size];
    size_t output_len;
    psa_key_handle_t handle;

    printf("Decrypt with cipher...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS)
    {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    /* Import a key */
    psa_set_key_usage_flags(&amp;attributes, PSA_KEY_USAGE_DECRYPT);
    psa_set_key_algorithm(&amp;attributes, alg);
    psa_set_key_type(&amp;attributes, PSA_KEY_TYPE_AES);
    psa_set_key_bits(&amp;attributes, 128);
    status = psa_import_key(&amp;attributes, key, key_len, &amp;handle);
    if (status != PSA_SUCCESS) {
        printf("Failed to import a key\n");
        return;
    }
    psa_reset_key_attributes(&amp;attributes);

    /* Decrypt the ciphertext */
    status = psa_cipher_decrypt_setup(&amp;operation, handle, alg);
    if (status != PSA_SUCCESS) {
        printf("Failed to begin cipher operation\n");
        return;
    }
    status = psa_cipher_set_iv(&amp;operation, iv, sizeof(iv));
    if (status != PSA_SUCCESS) {
        printf("Failed to set IV\n");
        return;
    }
    status = psa_cipher_update(&amp;operation, ciphertext, sizeof(ciphertext),
                               output, sizeof(output), &amp;output_len);
    if (status != PSA_SUCCESS) {
        printf("Failed to update cipher operation\n");
        return;
    }
    status = psa_cipher_finish(&amp;operation, output + output_len,
                               sizeof(output) - output_len, &amp;output_len);
    if (status != PSA_SUCCESS) {
        printf("Failed to finish cipher operation\n");
        return;
    }
    printf("Decrypted ciphertext\n");

    /* Clean up cipher operation context */
    psa_cipher_abort(&amp;operation);

    /* Destroy the key */
    psa_destroy_key(handle);

    mbedtls_psa_crypto_free();
}

static void hash_a_message(void)
{
    psa_status_t status;
    psa_algorithm_t alg = PSA_ALG_SHA_256;
    psa_hash_operation_t operation = PSA_HASH_OPERATION_INIT;
    unsigned char input[] = { 'a', 'b', 'c' };
    unsigned char actual_hash[PSA_HASH_MAX_SIZE];
    size_t actual_hash_len;

    printf("Hash a message...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS) {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    /* Compute hash of message  */
    status = psa_hash_setup(&amp;operation, alg);
    if (status != PSA_SUCCESS) {
        printf("Failed to begin hash operation\n");
        return;
    }
    status = psa_hash_update(&amp;operation, input, sizeof(input));
    if (status != PSA_SUCCESS) {
        printf("Failed to update hash operation\n");
        return;
    }
    status = psa_hash_finish(&amp;operation, actual_hash, sizeof(actual_hash),
                             &amp;actual_hash_len);
    if (status != PSA_SUCCESS) {
        printf("Failed to finish hash operation\n");
        return;
    }

    printf("Hashed a message\n");

    /* Clean up hash operation context */
    psa_hash_abort(&amp;operation);

    mbedtls_psa_crypto_free();
}

static void verify_a_hash(void)
{
    psa_status_t status;
    psa_algorithm_t alg = PSA_ALG_SHA_256;
    psa_hash_operation_t operation = PSA_HASH_OPERATION_INIT;
    unsigned char input[] = { 'a', 'b', 'c' };
    unsigned char expected_hash[] = {
        0xba, 0x78, 0x16, 0xbf, 0x8f, 0x01, 0xcf, 0xea, 0x41, 0x41, 0x40, 0xde,
        0x5d, 0xae, 0x22, 0x23, 0xb0, 0x03, 0x61, 0xa3, 0x96, 0x17, 0x7a, 0x9c,
        0xb4, 0x10, 0xff, 0x61, 0xf2, 0x00, 0x15, 0xad
    };
    size_t expected_hash_len = PSA_HASH_SIZE(alg);

    printf("Verify a hash...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS) {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    /* Verify message hash */
    status = psa_hash_setup(&amp;operation, alg);
    if (status != PSA_SUCCESS) {
        printf("Failed to begin hash operation\n");
        return;
    }
    status = psa_hash_update(&amp;operation, input, sizeof(input));
    if (status != PSA_SUCCESS) {
        printf("Failed to update hash operation\n");
        return;
    }
    status = psa_hash_verify(&amp;operation, expected_hash, expected_hash_len);
    if (status != PSA_SUCCESS) {
        printf("Failed to verify hash\n");
        return;
    }

    printf("Verified a hash\n");

    /* Clean up hash operation context */
    psa_hash_abort(&amp;operation);

    mbedtls_psa_crypto_free();
}

static void generate_a_random_value(void)
{
    psa_status_t status;
    uint8_t random[10] = { 0 };

    printf("Generate random...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS) {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    status = psa_generate_random(random, sizeof(random));
    if (status != PSA_SUCCESS) {
        printf("Failed to generate a random value\n");
        return;
    }

    printf("Generated random data\n");

    /* Clean up */
    mbedtls_psa_crypto_free();
}

static void derive_a_new_key_from_an_existing_key(void)
{
    psa_status_t status;
    psa_key_attributes_t attributes = PSA_KEY_ATTRIBUTES_INIT;
    static const unsigned char key[] = {
        0x0b, 0x0b, 0x0b, 0x0b, 0x0b, 0x0b, 0x0b,
        0x0b, 0x0b, 0x0b, 0x0b, 0x0b, 0x0b, 0x0b,
        0x0b, 0x0b, 0x0b, 0x0b, 0x0b, 0x0b, 0x0b,
        0x0b };
    static const unsigned char salt[] = {
        0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06,
        0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c };
    static const unsigned char info[] = {
        0xf0, 0xf1, 0xf2, 0xf3, 0xf4, 0xf5, 0xf6,
        0xf7, 0xf8, 0xf9 };
    psa_algorithm_t alg = PSA_ALG_HKDF(PSA_ALG_SHA_256);
    psa_key_derivation_operation_t operation =
        PSA_KEY_DERIVATION_OPERATION_INIT;
    size_t derived_bits = 128;
    size_t capacity = PSA_BITS_TO_BYTES(derived_bits);
    psa_key_handle_t base_key;
    psa_key_handle_t derived_key;

    printf("Derive a key (HKDF)...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS) {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    /* Import a key for use in key derivation. If such a key has already been
     * generated or imported, you can skip this part. */
    psa_set_key_usage_flags(&amp;attributes, PSA_KEY_USAGE_DERIVE);
    psa_set_key_algorithm(&amp;attributes, alg);
    psa_set_key_type(&amp;attributes, PSA_KEY_TYPE_DERIVE);
    status = psa_import_key(&amp;attributes, key, sizeof(key), &amp;base_key);
    if (status != PSA_SUCCESS) {
        printf("Failed to import a key\n");
        return;
    }
    psa_reset_key_attributes(&amp;attributes);

    /* Derive a key */
    status = psa_key_derivation_setup(&amp;operation, alg);
    if (status != PSA_SUCCESS) {
        printf("Failed to begin key derivation\n");
        return;
    }
    status = psa_key_derivation_set_capacity(&amp;operation, capacity);
    if (status != PSA_SUCCESS) {
        printf("Failed to set capacity\n");
        return;
    }
    status = psa_key_derivation_input_bytes(&amp;operation,
                                            PSA_KEY_DERIVATION_INPUT_SALT,
                                            salt, sizeof(salt));
    if (status != PSA_SUCCESS) {
        printf("Failed to input salt (extract)\n");
        return;
    }
    status = psa_key_derivation_input_key(&amp;operation,
                                          PSA_KEY_DERIVATION_INPUT_SECRET,
                                          base_key);
    if (status != PSA_SUCCESS) {
        printf("Failed to input key (extract)\n");
        return;
    }
    status = psa_key_derivation_input_bytes(&amp;operation,
                                            PSA_KEY_DERIVATION_INPUT_INFO,
                                            info, sizeof(info));
    if (status != PSA_SUCCESS) {
        printf("Failed to input info (expand)\n");
        return;
    }
    psa_set_key_usage_flags(&amp;attributes, PSA_KEY_USAGE_ENCRYPT);
    psa_set_key_algorithm(&amp;attributes, PSA_ALG_CTR);
    psa_set_key_type(&amp;attributes, PSA_KEY_TYPE_AES);
    psa_set_key_bits(&amp;attributes, 128);
    status = psa_key_derivation_output_key(&amp;attributes, &amp;operation,
                                           &amp;derived_key);
    if (status != PSA_SUCCESS) {
        printf("Failed to derive key\n");
        return;
    }
    psa_reset_key_attributes(&amp;attributes);

    printf("Derived key\n");

    /* Clean up key derivation operation */
    psa_key_derivation_abort(&amp;operation);

    /* Destroy the keys */
    psa_destroy_key(derived_key);
    psa_destroy_key(base_key);

    mbedtls_psa_crypto_free();
}

static void authenticate_and_encrypt_a_message(void)
{
    psa_status_t status;
    static const uint8_t key[] = {
        0xC0, 0xC1, 0xC2, 0xC3, 0xC4, 0xC5, 0xC6, 0xC7,
        0xC8, 0xC9, 0xCA, 0xCB, 0xCC, 0xCD, 0xCE, 0xCF };
    static const uint8_t nonce[] = {
        0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,
        0x08, 0x09, 0x0A, 0x0B };
    static const uint8_t additional_data[] = {
        0xEC, 0x46, 0xBB, 0x63, 0xB0, 0x25,
        0x20, 0xC3, 0x3C, 0x49, 0xFD, 0x70 };
    static const uint8_t input_data[] = {
        0xB9, 0x6B, 0x49, 0xE2, 0x1D, 0x62, 0x17, 0x41,
        0x63, 0x28, 0x75, 0xDB, 0x7F, 0x6C, 0x92, 0x43,
        0xD2, 0xD7, 0xC2 };
    uint8_t *output_data = NULL;
    size_t output_size = 0;
    size_t output_length = 0;
    size_t tag_length = 16;
    psa_key_attributes_t attributes = PSA_KEY_ATTRIBUTES_INIT;
    psa_key_handle_t handle;

    printf("Authenticate encrypt...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS) {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    output_size = sizeof(input_data) + tag_length;
    output_data = (uint8_t *)malloc(output_size);
    if (!output_data) {
        printf("Out of memory\n");
        return;
    }

    /* Import a key */
    psa_set_key_usage_flags(&amp;attributes, PSA_KEY_USAGE_ENCRYPT);
    psa_set_key_algorithm(&amp;attributes, PSA_ALG_CCM);
    psa_set_key_type(&amp;attributes, PSA_KEY_TYPE_AES);
    psa_set_key_bits(&amp;attributes, 128);
    status = psa_import_key(&amp;attributes, key, sizeof(key), &amp;handle);
    psa_reset_key_attributes(&amp;attributes);

    /* Authenticate and encrypt */
    status = psa_aead_encrypt(handle, PSA_ALG_CCM,
                              nonce, sizeof(nonce),
                              additional_data, sizeof(additional_data),
                              input_data, sizeof(input_data),
                              output_data, output_size,
                              &amp;output_length);
    if (status != PSA_SUCCESS) {
        printf("Failed to authenticate and encrypt\n");
        return;
    }

    printf("Authenticated and encrypted\n");

    /* Clean up */
    free(output_data);

    /* Destroy the key */
    psa_destroy_key(handle);

    mbedtls_psa_crypto_free();
}

static void authenticate_and_decrypt_a_message(void)
{
    psa_status_t status;
    static const uint8_t key[] = {
        0xC0, 0xC1, 0xC2, 0xC3, 0xC4, 0xC5, 0xC6, 0xC7,
        0xC8, 0xC9, 0xCA, 0xCB, 0xCC, 0xCD, 0xCE, 0xCF };
    static const uint8_t nonce[] = {
        0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,
        0x08, 0x09, 0x0A, 0x0B };
    static const uint8_t additional_data[] = {
        0xEC, 0x46, 0xBB, 0x63, 0xB0, 0x25,
        0x20, 0xC3, 0x3C, 0x49, 0xFD, 0x70 };
    static const uint8_t input_data[] = {
        0x20, 0x30, 0xE0, 0x36, 0xED, 0x09, 0xA0, 0x45, 0xAF, 0x3C, 0xBA, 0xEE,
        0x0F, 0xC8, 0x48, 0xAF, 0xCD, 0x89, 0x54, 0xF4, 0xF6, 0x3F, 0x28, 0x9A,
        0xA1, 0xDD, 0xB2, 0xB8, 0x09, 0xCD, 0x7C, 0xE1, 0x46, 0xE9, 0x98 };
    uint8_t *output_data = NULL;
    size_t output_size = 0;
    size_t output_length = 0;
    psa_key_attributes_t attributes = PSA_KEY_ATTRIBUTES_INIT;
    psa_key_handle_t handle;

    printf("Authenticate decrypt...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS) {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    output_size = sizeof(input_data);
    output_data = (uint8_t *)malloc(output_size);
    if (!output_data) {
        printf("Out of memory\n");
        return;
    }

    /* Import a key */
    psa_set_key_usage_flags(&amp;attributes, PSA_KEY_USAGE_DECRYPT);
    psa_set_key_algorithm(&amp;attributes, PSA_ALG_CCM);
    psa_set_key_type(&amp;attributes, PSA_KEY_TYPE_AES);
    psa_set_key_bits(&amp;attributes, 128);
    status = psa_import_key(&amp;attributes, key, sizeof(key), &amp;handle);
    if (status != PSA_SUCCESS) {
        printf("Failed to import a key\n");
        return;
    }
    psa_reset_key_attributes(&amp;attributes);

    /* Authenticate and decrypt */
    status = psa_aead_decrypt(handle, PSA_ALG_CCM,
                              nonce, sizeof(nonce),
                              additional_data, sizeof(additional_data),
                              input_data, sizeof(input_data),
                              output_data, output_size,
                              &amp;output_length);
    if (status != PSA_SUCCESS) {
        printf("Failed to authenticate and decrypt\n");
        return;
    }

    printf("Authenticated and decrypted\n");

    /* Clean up */
    free(output_data);

    /* Destroy the key */
    psa_destroy_key(handle);

    mbedtls_psa_crypto_free();
}

static void generate_and_export_a_public_key()
{
    enum {
        key_bits = 256,
    };
    psa_status_t status;
    size_t exported_length = 0;
    static uint8_t exported[PSA_KEY_EXPORT_ECC_PUBLIC_KEY_MAX_SIZE(key_bits)];
    psa_key_attributes_t attributes = PSA_KEY_ATTRIBUTES_INIT;
    psa_key_handle_t handle;

    printf("Generate a key pair...\t");
    fflush(stdout);

    /* Initialize PSA Crypto */
    status = psa_crypto_init();
    if (status != PSA_SUCCESS) {
        printf("Failed to initialize PSA Crypto\n");
        return;
    }

    /* Generate a key */
    psa_set_key_usage_flags(&amp;attributes, PSA_KEY_USAGE_SIGN);
    psa_set_key_algorithm(&amp;attributes,
                          PSA_ALG_DETERMINISTIC_ECDSA(PSA_ALG_SHA_256));
    psa_set_key_type(&amp;attributes,
                     PSA_KEY_TYPE_ECC_KEY_PAIR(PSA_ECC_CURVE_SECP256R1));
    psa_set_key_bits(&amp;attributes, key_bits);
    status = psa_generate_key(&amp;attributes, &amp;handle);
    if (status != PSA_SUCCESS) {
        printf("Failed to generate key\n");
        return;
    }
    psa_reset_key_attributes(&amp;attributes);

    status = psa_export_public_key(handle, exported, sizeof(exported),
                                   &amp;exported_length);
    if (status != PSA_SUCCESS) {
        printf("Failed to export public key %ld\n", status);
        return;
    }

    printf("Exported a public key\n");

    /* Destroy the key */
    psa_destroy_key(handle);

    mbedtls_psa_crypto_free();
}

int main(void)
{
    printf("-- Begin Mbed Crypto Getting Started --\n\n");

    import_a_key(AES_KEY, sizeof(AES_KEY));
    sign_a_message_using_rsa(RSA_KEY, sizeof(RSA_KEY));
    encrypt_with_symmetric_ciphers(AES_KEY, sizeof(AES_KEY));
    decrypt_with_symmetric_ciphers(AES_KEY, sizeof(AES_KEY));
    hash_a_message();
    verify_a_hash();
    generate_a_random_value();
    derive_a_new_key_from_an_existing_key();
    authenticate_and_encrypt_a_message();
    authenticate_and_decrypt_a_message();
    generate_and_export_a_public_key();

    printf("\n-- End Mbed Crypto Getting Started --\n");

    return 0;
}
#endif /* MBEDTLS_PSA_CRYPTO_C */

</code></pre>
</div><p>For further information, please refer to the README file in <a href="https://github.com/ARMmbed/mbed-os-example-mbed-crypto">the example repository</a>.</p><h2 id="other-resources">Other resources</h2><p>The <a href="https://github.com/ARMmbed/mbed-crypto">Mbed Crypto project homepage on GitHub</a> contains the following
resources:</p><ul>
<li><a href="https://github.com/ARMmbed/mbed-crypto/blob/psa-api-1.0-beta/docs/PSA_Crypto_API_Overview.pdf">An overview of the PSA Crypto API</a>.</li>
<li><a href="https://github.com/ARMmbed/mbed-crypto/blob/psa-api-1.0-beta/docs/PSA_Crypto_API_Reference.pdf">The PSA Crypto API reference</a>.</li>
<li><a href="https://github.com/ARMmbed/mbed-crypto/tree/v6.16/docs">Other general developer documentation</a>.</li>
</ul>
                            </div>
                        </div>

                        
                        <div class="row">
                            <div class="next-prev-links large-12 medium-12 small-12 columns">
                                
                                <a class="prev-link" href="security-apis.html"><i aria-hidden="true" class="fa fa-arrow-circle-left"></i> Previous</a>
                                

                                
                                <a class="next-link" href="psa-initial-attestation.html">Next <i aria-hidden="true" class="fa fa-arrow-circle-right"></i></a>
                                
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="../static/js/toc.mbed-cache-261a3b3a8a10e9d430f4bb5fdd0e5b5c.js"></script>
        <script src="../static/js/vendor/foundation-6.2.4.min.mbed-cache-9f0af735cc1c2011ddd8e8a94273129a.js"></script>
        <script>
            $('#docs-content').foundation();
            $(document).ready(function() {
                initToC();
            });
        </script>
    

        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright  <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/apis/mbed-crypto.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:15:59 GMT -->
</html>
