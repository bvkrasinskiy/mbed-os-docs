<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/porting/networkstack.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:16:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        
        
        <meta content="Porting guidelines for adding a new MCU target to Mbed OS and the Pelion IoT Platform and using HAL APIs" name="description"/>
        
        <title>NetworkStack - Porting | Mbed OS 6 Documentation</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="../static/css/vendor/font-awesome-4.7.0/css/font-awesome.min.mbed-cache-269550530cc127b6aa5a35925a7de6ce.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-23ac288f803d41065f3596e4c6b08e94.css" rel="stylesheet"/>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="networkstack.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/porting/networkstack.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/porting/networkstack.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="off-canvas-wrapper" id="docs-content">
            <div class="off-canvas-wrapper-inner full-height" data-off-canvas-wrapper="">
                <div class="off-canvas-content" data-off-canvas-content="">
                    <a href="#" id="nav-button">
                        <span>
                            <i class="fa fa-bars"></i>
                        </span>
                    </a>

                    <div class="toc-wrapper" id="navbar">
                        <div id="toc">
    
        
        <div class="toc-level top">
            <a class="toc-item introduction" href="../introduction/index.html">Introduction to Mbed OS 6</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item bare-metal" href="../bare-metal/index.html">Mbed OS bare metal profile</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item quick-start" href="../quick-start/index.html">Quick start</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item apis" href="../apis/index.html">API references and tutorials</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item program-setup" href="../program-setup/index.html">Program setup</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item build-tools" href="../build-tools/index.html">Build tools</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item debug-test" href="../debug-test/index.html">Debugging and testing</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item tutorials" href="../tutorials/index.html">Tutorials and examples</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item contributing" href="../contributing/index.html">Contributing</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item porting active-doc" href="index.html">Porting</a>
        </div>
        

        
            <div class="toc-level one">
                <a class="toc-item" href="index.html">Port process overview</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="setting-up.html">Setting up</a>
                    
                    
                    <a class="toc-item" href="porting.html">Porting</a>
                    
                    
                    <a class="toc-item" href="testing.html">Testing</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="testing.html">Testing your port</a>
                        
                        <a class="toc-item" href="testing-with-the-demo-applications.html">Testing with the demo applications</a>
                        
                        <a class="toc-item" href="integration-tests.html">Integration tests</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="porting-the-hal-apis.html">Porting the HAL APIs</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="static-pinmap-port.html">Static pin map extension</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#implementing-static-pin-map-extension">Implementing static pin map extension</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="serial-port.html">Serial</a>
                    
                    
                    <a class="toc-item" href="low-power-ticker.html">Low Power Ticker</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#dependencies">Dependencies</a>
                        
                        <a class="toc-item" href="#implementing-the-low-power-ticker-api">Implementing the low power ticker API</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="microsecond-ticker.html">Microsecond ticker</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#dependencies">Dependencies</a>
                        
                        <a class="toc-item" href="#implementing-the-microsecond-ticker-api">Implementing the microsecond ticker API</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="gpio.html">GPIO</a>
                    
                    
                    <a class="toc-item" href="standard-pin-names.html">Standard Pin Names</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#generic-pin-names">Generic Pin Names</a>
                        
                        <a class="toc-item" href="#arduino-uno-pin-names">Arduino Uno Pin Names</a>
                        
                        <a class="toc-item" href="#target-markers">Target markers</a>
                        
                        <a class="toc-item" href="#compliance-testing">Compliance Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="rtc-port.html">RTC</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#dependencies">Dependencies</a>
                        
                        <a class="toc-item" href="#implementing-the-rtc-api">Implementing the RTC API</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="spi-port.html">Serial Peripheral Interface (SPI)</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#dependencies">Dependencies</a>
                        
                        <a class="toc-item" href="#implementing-the-spi-api">Implementing the SPI API</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="quadspi-port.html">QuadSPI (QSPI) </a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#implementing-qspi">Implementing QSPI</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="i2c-port.html">Inter-integrated circuit (I2C) </a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#defined-behaviors">Defined behaviors</a>
                        
                        <a class="toc-item" href="#undefined-behaviors">Undefined behaviors</a>
                        
                        <a class="toc-item" href="#notes">Notes</a>
                        
                        <a class="toc-item" href="#dependencies">Dependencies</a>
                        
                        <a class="toc-item" href="#implementing-the-i2c-api">Implementing the I2C API</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="flash.html">Flash</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#linker-script-updates">Linker script updates</a>
                        
                        <a class="toc-item" href="#targets-json-metadata">targets.json metadata</a>
                        
                        <a class="toc-item" href="#start-application">Start application</a>
                        
                        <a class="toc-item" href="#flash-hal">Flash HAL</a>
                        
                        <a class="toc-item" href="#tests">Tests</a>
                        
                        <a class="toc-item" href="#troubleshooting">Troubleshooting</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="bootloader.html">Bootloader</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#dependencies">Dependencies</a>
                        
                        <a class="toc-item" href="#porting-the-bootloader">Porting the bootloader</a>
                        
                        <a class="toc-item" href="#creating-and-using-a-new-bootloader">Creating and using a new bootloader</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="thread-safety-and-porting.html">Thread safety and porting</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#considerations-when-porting">Considerations when porting</a>
                        
                        <a class="toc-item" href="#hal-c-api">HAL C API</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="tickless-mode.html">Tickless mode</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#scheduling-and-sleep-modes-in-mbed-os">Scheduling and sleep modes in Mbed OS</a>
                        
                        <a class="toc-item" href="#tickless-mode">Tickless mode</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                        <a class="toc-item" href="#references">References</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="sleep.html">Sleep</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#implementing-the-sleep-api">Implementing the Sleep API</a>
                        
                        <a class="toc-item" href="#targets-that-disable-systick-in-sleep-mode">Targets that disable systick in sleep mode</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="resetreason-port.html">ResetReason</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#dependency">Dependency</a>
                        
                        <a class="toc-item" href="#implementing-resetreason">Implementing ResetReason</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="watchdog-port.html">Watchdog</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#dependency">Dependency</a>
                        
                        <a class="toc-item" href="#implementing-watchdog">Implementing Watchdog</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="itm-port.html">Instrumentation Trace Macrocell</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#dependencies">Dependencies</a>
                        
                        <a class="toc-item" href="#implementing-the-itm-api">Implementing the ITM API</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="mpu-port.html">MPU</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#dependency">Dependency</a>
                        
                        <a class="toc-item" href="#implementing-the-mpu-api">Implementing the MPU API</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="usb-device.html">USB device</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#implementing-usb">Implementing USB</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="hardware-crc.html">Hardware CRC</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#dependency">Dependency</a>
                        
                        <a class="toc-item" href="#implementing-the-crc-api">Implementing the CRC API</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="porting-security.html">Porting security</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="porting-security.html">Porting PSA targets</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#glossary">Glossary</a>
                        
                        <a class="toc-item" href="#adding-new-psa-targets">Adding new PSA targets</a>
                        
                        <a class="toc-item" href="#build-and-validation">Build and validation</a>
                        
                        <a class="toc-item" href="#further-reading">Further reading</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="crypto-port.html">Mbed Crypto</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                        <a class="toc-item" href="#compile-and-run">Compile and run</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="entropy-sources.html">Entropy sources</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#why-entropy-is-necessary">Why entropy is necessary</a>
                        
                        <a class="toc-item" href="#which-entropy-source-to-choose">Which entropy source to choose</a>
                        
                        <a class="toc-item" href="#how-to-provide-entropy-from-a-hardware-entropy-source">How to provide entropy from a hardware entropy source</a>
                        
                        <a class="toc-item" href="#how-to-implement-the-trng-api">How to implement the TRNG API</a>
                        
                        <a class="toc-item" href="#how-to-implement-the-non-volatile-seed-entropy-source">How to implement the non-volatile seed entropy source</a>
                        
                        <a class="toc-item" href="#how-to-test-without-entropy-sources">How to test without entropy sources</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="hardware-accelerated-crypto.html">Hardware Accelerated Crypto</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#introduction">Introduction</a>
                        
                        <a class="toc-item" href="#adding-acceleration-by-replacing-functions">Adding acceleration by replacing functions</a>
                        
                        <a class="toc-item" href="#adding-acceleration-by-replacing-modules">Adding acceleration by replacing modules</a>
                        
                        <a class="toc-item" href="#mbed-tls-platform-context">Mbed TLS platform context</a>
                        
                        <a class="toc-item" href="#considerations-for-alternative-implementations">Considerations for alternative implementations</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="using-psa-enabled-mbed-tls.html">Using PSA-enabled Mbed TLS</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#building-psa-enabled-mbed-tls-from-git">Building PSA-enabled Mbed TLS from Git</a>
                        
                        <a class="toc-item" href="#using-psa-enabled-mbed-tls">Using PSA-enabled Mbed TLS</a>
                        
                        <a class="toc-item" href="#psa-based-apis-in-mbed-tls">PSA-based APIs in Mbed TLS</a>
                        
                        <a class="toc-item" href="#using-opaque-ecdsa-keys-for-tls-client-authentication">Using opaque ECDSA keys for TLS client authentication</a>
                        
                        <a class="toc-item" href="#using-opaque-ecdsa-keys-to-generate-certificate-signing-requests-csrs">Using opaque ECDSA keys to generate certificate signing requests (CSRs)</a>
                        
                        <a class="toc-item" href="#using-opaque-pre-shared-keys-with-tls-psk-ciphersuites">Using opaque pre-shared keys with TLS PSK ciphersuites</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="porting-storage.html">Porting storage</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="blockdevice-port.html">Block Devices</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#implementing-blockdevice">Implementing BlockDevice</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="porting-connectivity.html">Porting connectivity</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="porting-connectivity.html">Connectivity</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#the-network-socket-api-new-device">The network socket API - new device</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="l3-porting.html">IP Layer3 (L3IP) drivers</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#abstractions">Abstractions</a>
                        
                        <a class="toc-item" href="#l3ip-driver-core">L3IP driver core</a>
                        
                        <a class="toc-item" href="#the-ip-layer3-memory-manager">The IP Layer3 memory manager</a>
                        
                        <a class="toc-item" href="#ip-layer3-interface">IP Layer3 interface</a>
                        
                        <a class="toc-item" href="#being-the-default-interface">Being the default interface</a>
                        
                        <a class="toc-item" href="#cellular-interfaces">Cellular interfaces</a>
                        
                        <a class="toc-item" href="#onboardnetworkstack">OnboardNetworkStack</a>
                        
                        <a class="toc-item" href="#tuning-memory-allocations">Tuning memory allocations</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="ethernet-port.html">Ethernet MAC (EMAC) drivers</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#abstractions">Abstractions</a>
                        
                        <a class="toc-item" href="#the-emac-driver-core">The EMAC driver core</a>
                        
                        <a class="toc-item" href="#the-emac-memory-manager">The EMAC memory manager</a>
                        
                        <a class="toc-item" href="#ethernetinterface">EthernetInterface</a>
                        
                        <a class="toc-item" href="#being-the-default-emac-or-ethernetinterface">Being the default EMAC or EthernetInterface</a>
                        
                        <a class="toc-item" href="#wi-fi-interfaces">Wi-Fi interfaces</a>
                        
                        <a class="toc-item" href="#onboardnetworkstack">OnboardNetworkStack</a>
                        
                        <a class="toc-item" href="#device-emac">DEVICE_EMAC</a>
                        
                        <a class="toc-item" href="#tuning-memory-allocations">Tuning memory allocations</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="wifi-port.html">Wi-Fi</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#wifiinterface">WifiInterface</a>
                        
                        <a class="toc-item" href="#emac-driver">EMAC driver</a>
                        
                        <a class="toc-item" href="#external-ip-stack">External IP stack</a>
                        
                        <a class="toc-item" href="#assumptions">Assumptions</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="networkstack.html">NetworkStack</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#class-hierarchy">Class hierarchy</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                        <a class="toc-item" href="#case-study-esp8266-wi-fi-component">Case study: ESP8266 Wi-Fi component</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="cellular-device-porting.html">Cellular device porting</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#adding-cellular-on-an-mbed-os-target">Adding cellular on an Mbed OS target</a>
                        
                        <a class="toc-item" href="#adding-a-new-cellular-device-driver">Adding a new cellular device driver</a>
                        
                        <a class="toc-item" href="#socket-adaptation">Socket adaptation</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="6lowpan-port.html">IEEE 802.15.4 RF driver</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#porting-a-new-rf-driver">Porting a new RF driver</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                        <a class="toc-item" href="#implementing-the-phy-api">Implementing the PHY API</a>
                        
                        <a class="toc-item" href="#worker-thread-for-mbed-os">Worker thread for Mbed OS</a>
                        
                        <a class="toc-item" href="#example-rf-driver">Example RF driver</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="mac-port.html">Porting IEEE 802.15.4 MAC driver</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#sw-mac">SW MAC</a>
                        
                        <a class="toc-item" href="#initializing-sw-mac">Initializing SW MAC</a>
                        
                        <a class="toc-item" href="#example">Example</a>
                        
                        <a class="toc-item" href="#enabling-fhss">Enabling FHSS</a>
                        
                        <a class="toc-item" href="#ieee-802-15-4-mac-sublayer-apis">IEEE 802.15.4 MAC sublayer APIs</a>
                        
                        <a class="toc-item" href="#mcps-sap-interface">MCPS-SAP interface</a>
                        
                        <a class="toc-item" href="#mlme-sap-interface">MLME-SAP interface</a>
                        
                        <a class="toc-item" href="#mac-api-class-introduction">MAC API class introduction</a>
                        
                        <a class="toc-item" href="#ieee-802-15-4-mac-sublayer-extended-apis">IEEE 802.15.4 MAC sublayer extended APIs</a>
                        
                        <a class="toc-item" href="#mac-api-standard-extensions">MAC API standard extensions</a>
                        
                        <a class="toc-item" href="#hw-mac">HW MAC</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="lora-port.html">Porting LoRaWAN stack and LoRa RF drivers</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#porting-a-lora-rf-driver">Porting a LoRa RF driver</a>
                        
                        <a class="toc-item" href="#device-design-guide-for-lorawan-stack">Device design guide for LoRaWAN stack</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="NFC-port.html">NFC EEPROM driver porting guide</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#class-hierarchy">Class hierarchy</a>
                        
                        <a class="toc-item" href="#required-methods">Required methods</a>
                        
                        <a class="toc-item" href="#asynchronous-operation">Asynchronous operation</a>
                        
                        <a class="toc-item" href="#testing">Testing</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="porting-bootstrap.html">Porting bootstrap</a>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="porting-exporter-targets.html">Porting exporter targets</a>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="porting-tools.html">Porting tools</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="build-tools.html">Build tools</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#postbuild-scripts">Postbuild scripts</a>
                        
                        <a class="toc-item" href="#implementation">Implementation</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="mbed-ls.html">Mbed-ls</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#defined-behavior">Defined behavior</a>
                        
                        <a class="toc-item" href="#implementation">Implementation</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="adding-exporters.html">Adding exporters</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#what-is-an-exporter">What is an exporter</a>
                        
                        <a class="toc-item" href="#export-subsystem-structure">Export subsystem structure</a>
                        
                        <a class="toc-item" href="#implementing-an-example-plugin">Implementing an example plugin</a>
                        
                        <a class="toc-item" href="#suggested-implementation">Suggested implementation</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="arm-mbed-hdk.html">Arm Mbed HDK</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#hdk-content-per-project">HDK content per project</a>
                        
                        <a class="toc-item" href="#repository-content-and-projects">Repository content and projects</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="porting-custom-boards.html">Porting custom boards</a>
                
            </div>
        

    
        
        <div class="toc-level top">
            <a class="toc-item mbed-os-pelion" href="../mbed-os-pelion/index.html">Reference designs and end-to-end information</a>
        </div>
        

        

    
</div>
                    </div>

                    <div class="page-wrapper" id="page">
                        <div class="row">
                            <div class="content large-12 medium-12 columns" id="content">
                                <div class="breadcrumbs">
                                    
                                    <a href="../index.html">Docs</a>
                                      
                                    
                                    <a href="index.html">Porting</a>
                                      
                                    
                                    <a href="porting-connectivity.html">Porting connectivity</a>
                                      
                                    
                                    <a href="networkstack.html">NetworkStack</a>
                                    
                                    
                                </div>
                                <h1>NetworkStack</h1><p>As explained in the <a href="../apis/connectivity-architecture.html">IP networking architecture</a> page, the <a href="../apis/socket.html">Socket API</a> provides a TCP or UDP API on top of any IP based network stack. With the Socket API, you can write applications and libraries that use TCP or UDP sockets without regard to the type of IP connectivity. In addition to providing the TCP or UDP API, the Socket API includes virtual base classes for the different IP interface types.</p><p>In Mbed OS, the network stack can be either inside the connectivity module or inside the software stack Mbed OS provides. This page includes a porting guide for devices that provide external IP stacks. Usually, these are AT-command driven modules.</p><p>Please study the <a href="../apis/connectivity.html">network connectivity</a> pages from the architecture section before you start porting.</p><h2 id="class-hierarchy">Class hierarchy</h2><p>Drivers for devices that contain the IP stack inherit from two classes: a <a href="../mbed-os-api-doxy/class_network_stack.html">NetworkStack</a> and a communication-specific subclass of <a href="../mbed-os-api-doxy/class_network_interface.html">NetworkInterface</a>.</p><p>Please refer to the <a href="../apis/connectivity-architecture.html">IP networking architecture</a> for device types.</p><h3 id="networkinterface-class">NetworkInterface Class</h3><p>The current NetworkInterface subclasses are <a href="../mbed-os-api-doxy/class_cellular_interface.html">CellularInterface</a>, <a href="../mbed-os-api-doxy/class_eth_interface.html">EthernetInterface</a>, <a href="../mbed-os-api-doxy/class_mesh_interface.html">MeshInterface</a> and <a href="../mbed-os-api-doxy/class_wi_fi_interface.html">WiFiInterface</a>. Your communication interface is a subclass of one of these, as well as the NetworkStack. For example, the <a href="https://github.com/ARMmbed/esp8266-driver">ESP8266Interface</a> inheritance structure looks like this:</p><p><span class="images"><img alt="" src="images/esp-class.png"/><span>Class</span></span></p><p>There are three <a href="https://en.wikipedia.org/wiki/Virtual_function#Abstract_classes_and_pure_virtual_functions">pure virtual methods</a> in the NetworkInterface class.</p><ul>
<li><a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/NetworkInterface.h#L99"><code>connect()</code></a> - to connect the interface to the network.</li>
<li><a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/NetworkInterface.h#L105"><code>disconnect()</code></a> - to disconnect the interface from the network.</li>
<li><a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/NetworkInterface.h#L144"><code>get_stack()</code></a> - to return the underlying NetworkStack object.</li>
</ul><p>Each subclass has distinct pure virtual methods. Visit their class references (linked above) to determine those you must implement.</p><h3 id="networkstack-class">NetworkStack class</h3><p><code>NetworkStack</code> provides a common interface that hardware shares. By implementing the NetworkStack, you can use a class as a target for instantiating network sockets.</p><p><code>NetworkStack</code> provides <a href="../mbed-os-api-doxy/class_network_stack.html">these functions</a>. Look for the function signature like <a href="http://en.cppreference.com/w/cpp/language/abstract_class"><code>declarator virt-specifier(optional) = 0</code></a> to determine which functions are pure virtual and which you must override in your child class.</p><h3 id="errors">Errors</h3><p>Many functions of <code>NetworkStack</code> and <code>NetworkInterface</code> have return types of <code>nsapi_error_t</code>, which is a type used to represent error codes. You can see a <a href="../mbed-os-api-doxy/group__netsocket.html#gac21eb8156cf9af198349069cdc7afeba">list of these return codes</a>. You can view the <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h">integer values of the error macros</a>. A negative error code indicates failure, and 0 indicates success.</p><p>Functions that send or receive data, use <code>nsapi_size_or_error_t</code> type as a return value, where positive values indicate how much data has been sent or received, negative return values are error codes and zero is indication of closed connection.</p><h3 id="the-connect-method">The <code>connect()</code> method</h3><p>High-level API calls to an implementation of a network-socket API are <strong>identical</strong> across networking protocols. The only difference is the interface object constructor and the method through which you connect to the network. For example, a Wi-Fi connection requires an SSID and password, a cellular connection requires an APN and Ethernet doesn't require any credentials. Each interface type may provide an overloaded <code>connect()</code> method with required parameters, but the preferred method is to offer these parameters as configuration values to allow the changing of network interfaces by changing a configuration file.</p><p>Below is a demonstration with the code that connects to a network and relies on the required provided configuration:</p><pre lang="C++"><code>    NetworkInterface *net = NetworkInterface::get_default_instance();
    int return_code = net-&gt;connect();
    if (return_code &lt; 0)
        printf("Error connecting to network %d\r\n", return_code);
</code></pre><p>To change the example to use other network interfaces or provide configuration values for Wi-Fi or other types, please see <a href="../apis/network-interface-apis.html">the default network interface</a>.</p><h3 id="providing-the-socket-api">Providing the Socket API</h3><p><code>NetworkStack</code> must implement the following API in order to support TCP or UDP sockets:</p><pre lang="C++"><code>nsapi_error_t socket_open(nsapi_socket_t *handle, nsapi_protocol_t proto);
nsapi_error_t socket_close(nsapi_socket_t handle);
nsapi_error_t socket_bind(nsapi_socket_t handle, const SocketAddress &amp;address);
nsapi_error_t socket_listen(nsapi_socket_t handle, int backlog);
nsapi_error_t socket_connect(nsapi_socket_t handle, const SocketAddress &amp;address);
nsapi_error_t socket_accept(nsapi_socket_t server, nsapi_socket_t *handle, SocketAddress *address = 0);
nsapi_size_or_error_t socket_send(nsapi_socket_t handle, const void *data, nsapi_size_t size);
nsapi_size_or_error_t socket_recv(nsapi_socket_t handle, void *data, nsapi_size_t size);
nsapi_size_or_error_t socket_sendto(nsapi_socket_t handle, const SocketAddress &amp;address, const void *data, nsapi_size_t size);
nsapi_size_or_error_t socket_sendto_control(nsapi_socket_t handle, const SocketAddress &amp;address, const void *data, nsapi_size_t size, nsapi_msghdr_t *control, nsapi_size_t control_size);
nsapi_size_or_error_t socket_recvfrom(nsapi_socket_t handle, SocketAddress *address, void *buffer, nsapi_size_t size);
nsapi_size_or_error_t socket_recvfrom_control(nsapi_socket_t handle, SocketAddress *address, void *data, nsapi_size_t size, nsapi_msghdr_t *control, nsapi_size_t control_size);
nsapi_error_t setsockopt(nsapi_socket_t handle, int level, int optname, const void *optval, unsigned optlen);
nsapi_error_t getsockopt(nsapi_socket_t handle, int level, int optname, void *optval, unsigned *optlen);
</code></pre><p>Please note that as the blocking operation mode of Socket is provided by higher level Socket API, the underlying calls to <code>NetworkStack</code> object should not block. This forces some network operations to occur in a separate worker thread or in a shared event queue. Any calls to these functions should return <code>NSAPI_ERROR_WOULD_BLOCK</code> in case the operation cannot be immediately completed.</p><p>Please refer to the Doxygen documentation of <a href="../mbed-os-api-doxy/class_network_stack.html">NetworkStack</a> for API descriptions.</p><h2 id="testing">Testing</h2><p>To test new <code>NetworkStack</code> implementations, run the full set of Mbed OS socket tests.</p><p>Follow the guide from the <a href="https://github.com/ARMmbed/mbed-os/blob/master/TESTS/netsocket/README.md">Network Socket test plan</a>.</p><p>Building and running the tests require you to provide the <code>mbed_app.json</code> as guided, and run the test with <code>mbed test -n mbed-os-tests-network-*,mbed-os-tests-netsocket*</code>.</p><h2 id="case-study-esp8266-wi-fi-component">Case study: ESP8266 Wi-Fi component</h2><p>This example ports a driver for the ESP8266 Wi-Fi module to the NSAPI.</p><h3 id="required-methods">Required methods</h3><p>Because ESP8266 is a Wi-Fi component, choose <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/WiFiInterface.h"><code>WiFiInterface</code></a> as the <code>NetworkworkInterface</code> parent class.</p><p><code>WiFiInterface</code> defines the following pure virtual functions:</p><ul>
<li><code>set_credentials(const char *ssid, const char *pass, nsapi_security_t security)</code>.</li>
<li><code>set_channel(uint8_t channel)</code>.</li>
<li><code>get_rssi()</code>.</li>
<li><code>connect(const char *ssid, const char *pass, nsapi_security_t security, uint8_t channel)</code>.</li>
<li><code>connect()</code>.</li>
<li><code>disconnect()</code>.</li>
<li><code>scan(WiFiAccessPoint *res, nsapi_size_t count)</code>.</li>
</ul><p>Additionally, <code>WiFiInterface</code> parent class <code>NetworkInterface</code> introduces <code>NetworkStack *get_stack()</code> as a pure virtual function.</p><p>You must also use <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/NetworkStack.h"><code>NetworkStack</code></a> as a parent class of the interface. You've already explored the pure virtual methods <a href="#NetworkStack-class">here</a>.</p><h3 id="implementing-connect">Implementing <code>connect()</code></h3><p>Because a Wi-Fi connection requires an SSID and password, you need to implement a connect function that doesn't have these as a parameter.</p><p>One of the <code>WiFiInterface</code> pure virtual functions is <code>set_credentials(const char *ssid, const char *pass, nsapi_security_t security)</code>. Implement <code>set_credentials</code> to store the SSID and password in private class variables. When you call <code>connect()</code> with no SSID and password, it is assumed that <code>set_credentials</code> has been called.</p><p>The next step is to implement this with the <code>connect()</code> method.</p><p>This is the first method that needs to interact with the Wi-Fi chip. You need to do some configuration to get the chip in a state where you can open sockets. You need to send some <a href="https://www.espressif.com/sites/default/files/documentation/4a-esp8266_at_instruction_set_en.pdf">AT commands</a> to the chip to accomplish this.</p><p>The AT commands you want to send are:</p><ol>
<li><code>AT+CWMODE=3</code> - This sets the Wi-Fi mode of the chip to 'station mode' and 'SoftAP mode', where it acts as a client connection to a Wi-Fi network, as well as a Wi-Fi access point.</li>
<li><code>AT+CIPMUX=1</code> - This allows the chip to have multiple socket connections open at once.</li>
<li><code>AT+CWDHCP=1,1</code> - To enable DHCP.</li>
<li><code>AT+CWJAP=[ssid,password]</code> - To connect to the network.</li>
<li><code>AT+CIFSR</code> - To query your IP address and ensure that the network assigned you one through DHCP.</li>
</ol><h4 id="sending-at-commands">Sending AT Commands</h4><p>You can use the <a href="https://github.com/ARMmbed/ATParser">AT command parser</a> to send AT commands and parse their responses. The AT command parser operates with a <code>BufferedSerial</code> object that provides software buffers and interrupt driven TX and RX for Serial.</p><p><code>ESP8266Interface</code> uses an underlying interface called <a href="https://github.com/ARMmbed/esp8266-driver/tree/master/ESP8266"><code>ESP8266</code></a> to handle the communication with the Wi-Fi modem. <code>ESP8266</code> maintains an instance of AT command parser to handle communcation with the module. An instance of <code>ESP8266</code> is in a private <code>ESP8266Interface</code> class variable <code>_esp</code>. In turn, <code>ESP8266</code> maintains an instance of AT command parser called <code>_parser</code>.</p><p>To send AT commands 1-2, there is an <code>ESP8266</code> method called <a href="https://github.com/ARMmbed/esp8266-driver/blob/master/ESP8266/ESP8266.cpp#L27"><code>startup(int mode)</code></a>. Use the AT command parser's <a href="https://github.com/ARMmbed/ATParser/blob/master/ATParser.h#L132"><code>send</code></a> and <a href="https://github.com/ARMmbed/ATParser/blob/master/ATParser.h#L149"><code>recv</code></a> functions to accomplish this.</p><p>The necessary code is:</p><pre lang="C++"><code>
bool ESP8266::startup(int mode)
{
    ...

    bool success =
        &amp;&amp; _parser.send("AT+CWMODE=%d", mode)
        &amp;&amp; _parser.recv("OK")
        &amp;&amp; _parser.send("AT+CIPMUX=1")
        &amp;&amp; _parser.recv("OK");

    ...

</code></pre><p>The parser's <code>send</code> function returns true if the command succesully sent to the Wi-Fi chip. The <code>recv</code> function returns true if you receive the specified text. In the code example above, sending two commands and receiving the expected <code>OK</code> responses determines success.</p><h4 id="return-values">Return values</h4><p>So far, our connect method looks something like:</p><pre lang="C++"><code>int ESP8266Interface::connect()
{
    if (!_esp.startup(3)) {
        return X;

</code></pre><p>If this <code>!_esp.startup(3)</code> evaluates to true, something went wrong when configuring the chip, and you should return an error code.</p><p>The NSAPI provides a set of error code return values for network operations. They documentation is <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37-L54">here</a>.</p><p>Of them, the most appropriate is <code>NSAPI_ERROR_DEVICE_ERROR</code>. So replace <code>X</code> in the <code>return</code> statement with <code>NSAPI_ERROR_DEVICE_ERROR</code>.</p><h4 id="finishing">Finishing</h4><p>You implemented similar methods to <code>startup</code> in ESP8266 to send AT commands 3-5. Then, you used them to determine the success of the <code>connect()</code> method. You can find the completed implementation <a href="https://github.com/ARMmbed/esp8266-driver/blob/master/ESP8266Interface.cpp#L47-L68">here</a>.</p><h3 id="implementing-socket-open">Implementing <code>socket_open</code></h3><p>The <code>NetworkStack</code> parent class dictates that you implement the functionality of opening a socket. This is the method signature in the interface:</p><pre lang="C++"><code>int ESP8266Interface::socket_open(void **handle, nsapi_protocol_t proto)
</code></pre><p>This method doesn't necessitate any AT commands. The purpose is to create a socket in software and store the information in the <code>handle</code> parameter for use in other socket operations.</p><p>The ESP8266 module can only handle 5 open sockets, so you want to ensure that you don't open a socket when none are available. In the header file, use this macro for convenience: <code>#define ESP8266_SOCKET_COUNT 5</code>. Use a private class variable array to keep track of open sockets <code>bool _ids[ESP8266_SOCKET_COUNT]</code>. In <code>socket_open</code>, first iterate over <code>_ids</code>, and look for an element in the array whose value is <code>false</code>.</p><p>So far, the method looks like this:</p><pre lang="C++"><code>int ESP8266Interface::socket_open(void **handle, nsapi_protocol_t proto)
{
    // Look for an unused socket
    int id = -1;

    for (int i = 0; i &lt; ESP8266_SOCKET_COUNT; i++) {
        if (!_ids[i]) {
            id = i;
            _ids[i] = true;
            break;
        }
    }

    if (id == -1) {
        return NSAPI_ERROR_NO_SOCKET;
    }

    ...
</code></pre><p>After you've determined that you have an open socket, you want to store some information in the <code>handle</code> parameter. We've created a <code>struct</code> to store information about the socket that will be necessary for network operations:</p><pre lang="C++"><code>struct esp8266_socket {
    int id; // Socket ID number
    nsapi_protocol_t proto; // TCP or UDP
    bool connected; // Is it connected to a server?
    SocketAddress addr; // The address that it is connected to
};
</code></pre><p>Create one of these, store some information in it and then point the <code>handle</code> at it:</p><pre lang="C++"><code>int ESP8266Interface::socket_open(void **handle, nsapi_protocol_t proto)
{
    ...
    struct esp8266_socket *socket = new struct esp8266_socket;
    if (!socket) {
        return NSAPI_ERROR_NO_SOCKET;
    }

    socket-&gt;id = id; // store the open ID we found above
    socket-&gt;proto = proto; // TCP or UDP as specified in parameter
    socket-&gt;connected = false; // default state not connected

    *handle = socket;
    return 0; // success
</code></pre><p>See the full implementation <a href="https://github.com/ARMmbed/esp8266-driver/blob/master/ESP8266Interface.cpp#L137-L164">here</a>.</p><h3 id="implementing-socket-connect">Implementing <code>socket_connect</code></h3><p>The <code>NetworkStack</code> parent class dictates that you implement the functionality of connecting a socket to a remote server. This is the method signature in the interface:</p><pre lang="C++"><code>int ESP8266Interface::socket_connect(void *handle, const SocketAddress &amp;addr)
</code></pre><p>In this case, the handle is one that has been assigned in the <a href="https://github.com/ARMmbed/esp8266-driver/blob/master/ESP8266Interface.cpp#L137-L164"><code>socket_open</code></a> method.</p><p>You can cast the void pointer to an <code>esp8266_socket</code> pointer. Do this in the body of <code>socket_connect</code>:</p><pre lang="C++"><code>int ESP8266Interface::socket_connect(void *handle, const SocketAddress &amp;addr)
{
    struct esp8266_socket *socket = (struct esp8266_socket *)handle;
    _esp.setTimeout(ESP8266_MISC_TIMEOUT);

    const char *proto = (socket-&gt;proto == NSAPI_UDP) ? "UDP" : "TCP";
    if (!_esp.open(proto, socket-&gt;id, addr.get_ip_address(), addr.get_port())) {
        return NSAPI_ERROR_DEVICE_ERROR;
    }

    socket-&gt;connected = true;
    return 0;
}
</code></pre><p>Focus on this line:
<code>!_esp.open(proto, socket-&gt;id, addr.get_ip_address(), addr.get_port()</code>.</p><p>Access the socket ID and socket protocol from the members of <code>esp8266_socket</code>. Access the IP address and port of the server with the <code>SocketAddress addr</code> parameter.</p><p>This method sends the AT command for opening a socket to the Wi-Fi module and is defined as follows:</p><pre lang="C++"><code>bool ESP8266::open(const char *type, int id, const char* addr, int port)
{
    //IDs only 0-4
    if(id &gt; 4) {
        return false;
    }

    return _parser.send("AT+CIPSTART=%d,\"%s\",\"%s\",%d", id, type, addr, port)
        &amp;&amp; _parser.recv("OK");
}
</code></pre><p>In this instance, use the AT command parser to send <code>AT+CIPSTART=[id],[TCP or UDP], [address]</code> to the module. Expect to receive a response of <code>OK</code>. Only return true if you succesfully send the command AND receive an <code>OK</code> response.</p><h3 id="implementing-socket-attach">Implementing <code>socket_attach</code></h3><p>The <code>NetworkStack</code> parent class dictates that you implement the functionality of registering a callback on state change of the socket. This is the method signature in the interface:</p><pre lang="C++"><code>void ESP8266Interface::socket_attach(void *handle, void (*callback)(void *), void *data)
</code></pre><p>Call the specified callback on state changes, such as when the socket can recv/send/accept successfully.</p><p>ESP8266 can have up to five open sockets. You need to keep track of all their callbacks. This <a href="https://github.com/ARMmbed/esp8266-driver/blob/master/ESP8266Interface.h#L269-L272">struct</a> holds the callback as well as the data of these callbacks. It is stored as a private class variable <code>_cbs</code>:</p><pre lang="C++"><code>struct {
    void (*callback)(void *);
    void *data;
} _cbs[ESP8266_SOCKET_COUNT];
</code></pre><p>The attach method is:</p><pre lang="C++"><code>void ESP8266Interface::socket_attach(void *handle, void (*callback)(void *), void *data)
{
    struct esp8266_socket *socket = (struct esp8266_socket *)handle;
    _cbs[socket-&gt;id].callback = callback;
    _cbs[socket-&gt;id].data = data;
}
</code></pre><p>Store the information in the <code>_cbs</code> struct for use on state changes. There is a method <code>event()</code> to call socket callbacks. It looks like this:</p><pre lang="C++"><code>void ESP8266Interface::event() {
    for (int i = 0; i &lt; ESP8266_SOCKET_COUNT; i++) {
        if (_cbs[i].callback) {
            _cbs[i].callback(_cbs[i].data);
        }
    }
}
</code></pre><p>Look for sockets that have callbacks. Then, call them with the specified data!</p><p>Know when to trigger these events. You've used the <code>ESP8266</code> class object, <code>_esp</code>, to attach a callback on a Serial RX event like so: <code>_esp.attach(this, &amp;ESP8266Interface::event)</code>. The <code>_esp</code> attach function creates <code>_serial.attach(func)</code>, which attaches the function to the underlying <code>UARTSerial</code> RX event. Whenever the radio receives something, consider that a state change, and invoke any attach callbacks. A common use case is to attach <code>socket_recv</code> to a socket, so the socket can receive data asynchronously without blocking.</p><h2 id="testing">Testing</h2><ul>
<li>Make a new Mbed project - <code>mbed new esp8266-driver-test</code>.</li>
<li>Move into project folder - <code>cd esp8266-driver-test</code>.</li>
<li>Add ESP8266 driver - <code>mbed add esp8266-driver</code>.</li>
<li>Make a configuration file called <code>esp8266_config.json</code> with the following contents:</li>
</ul><pre><code>{
    "config": {
        "echo-server-addr" : {
            "help" : "IP address of echo server",
            "value" : "\"echo.mbedcloudtesting.com\""
        },
        "echo-server-port" : {
            "help" : "Port of echo server",
            "value" : "7"
        }
    },
    "target_overrides": {
        "*": {
            "target.network-default-interface-type": "WIFI",
            "nsapi.default-wifi-ssid": "\"WIFI_SSID\"",
            "nsapi.default-wifi-password": "\"WIFI_PASSWORD\"",
            "nsapi.default-wifi-security": "WIFI_SECURITY",
            "esp8266.provide-default": true
        }
    }
}
</code></pre><ul>
<li>Run tests - <code>mbed test -m [mcu] -t [toolchain] -n mbed-os-tests-netsocket* --test-config esp8266_config.json</code>.</li>
<li>View test results:</li>
</ul><pre lang="shell"><code>mbedgt: test suite report:
+--------------+---------------+---------------------------------+---------+--------------------+-------------+
| target       | platform_name | test suite                      | result  | elapsed_time (sec) | copy_method |
+--------------+---------------+---------------------------------+---------+--------------------+-------------+
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | TIMEOUT | 148.28             | default     |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TIMEOUT | 1035.26            | default     |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | FAIL    | 383.8              | default     |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-interface | TIMEOUT | 508.17             | default     |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | OK      | 131.04             | default     |
+--------------+---------------+---------------------------------+---------+--------------------+-------------+
mbedgt: test suite results: 1 FAIL / 1 OK / 3 TIMEOUT
mbedgt: test case report:
+--------------+---------------+---------------------------------+---------------------------------------+--------+--------+---------+--------------------+
| target       | platform_name | test suite                      | test case                             | passed | failed | result  | elapsed_time (sec) |
+--------------+---------------+---------------------------------+---------------------------------------+--------+--------+---------+--------------------+
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS                      | 0      | 0      | ERROR   | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS_CACHE                | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS_CANCEL               | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS_EXTERNAL_EVENT_QUEUE | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS_INVALID_HOST         | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS_NON_ASYNC_AND_ASYNC  | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS_SIMULTANEOUS         | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS_SIMULTANEOUS_CACHE   | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS_SIMULTANEOUS_REPEAT  | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | ASYNCHRONOUS_DNS_TIMEOUTS             | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | SYNCHRONOUS_DNS                       | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | SYNCHRONOUS_DNS_INVALID               | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-dns     | SYNCHRONOUS_DNS_MULTIPLE              | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_CONNECT_INVALID             | 1      | 0      | OK      | 0.11               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_ECHOTEST                    | 1      | 0      | OK      | 2.93               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_ECHOTEST_BURST              | 1      | 0      | OK      | 29.44              |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_ECHOTEST_BURST_NONBLOCK     | 1      | 0      | OK      | 28.92              |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_ECHOTEST_NONBLOCK           | 1      | 0      | OK      | 4.91               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_ENDPOINT_CLOSE              | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_OPEN_CLOSE_REPEAT           | 1      | 0      | OK      | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_OPEN_LIMIT                  | 1      | 0      | OK      | 0.22               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_RECV_100K                   | 0      | 0      | ERROR   | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_RECV_100K_NONBLOCK          | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_RECV_TIMEOUT                | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_SEND_REPEAT                 | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_SEND_TIMEOUT                | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-tcp     | TCPSOCKET_THREAD_PER_SOCKET_SAFETY    | 1      | 0      | OK      | 2.72               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | UDPSOCKET_ECHOTEST                    | 1      | 0      | OK      | 3.07               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | UDPSOCKET_ECHOTEST_BURST              | 1      | 0      | OK      | 54.99              |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | UDPSOCKET_ECHOTEST_BURST_NONBLOCK     | 1      | 0      | OK      | 55.94              |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | UDPSOCKET_ECHOTEST_NONBLOCK           | 1      | 0      | OK      | 10.03              |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | UDPSOCKET_OPEN_CLOSE_REPEAT           | 1      | 0      | OK      | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | UDPSOCKET_OPEN_LIMIT                  | 1      | 0      | OK      | 0.22               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | UDPSOCKET_SENDTO_INVALID              | 1      | 0      | OK      | 19.14              |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | UDPSOCKET_SENDTO_REPEAT               | 1      | 0      | OK      | 200.85             |
| K64F-GCC_ARM | K64F          | mbed-os-tests-netsocket-udp     | UDPSOCKET_SENDTO_TIMEOUT              | 0      | 2      | FAIL    | 4.25               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-interface | NETWORKINTERFACE_CONN_DISC_REPEAT     | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-interface | NETWORKINTERFACE_STATUS               | 0      | 0      | ERROR   | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-interface | NETWORKINTERFACE_STATUS_GET           | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-interface | NETWORKINTERFACE_STATUS_NONBLOCK      | 0      | 0      | SKIPPED | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT                          | 1      | 0      | OK      | 6.56               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT-DISCONNECT-REPEAT        | 1      | 0      | OK      | 32.84              |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT-NOCREDENTIALS            | 1      | 0      | OK      | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT-PARAMS-CHANNEL           | 1      | 0      | OK      | 0.11               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT-PARAMS-CHANNEL-FAIL      | 1      | 0      | OK      | 0.11               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT-PARAMS-NULL              | 1      | 0      | OK      | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT-PARAMS-VALID-SECURE      | 1      | 0      | OK      | 5.41               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT-PARAMS-VALID-UNSECURE    | 1      | 0      | OK      | 6.65               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT-SECURE                   | 1      | 0      | OK      | 5.25               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONNECT-SECURE-FAIL              | 1      | 0      | OK      | 15.32              |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-CONSTRUCTOR                      | 1      | 0      | OK      | 0.0                |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-GET-RSSI                         | 1      | 0      | OK      | 7.42               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-SCAN                             | 1      | 0      | OK      | 2.61               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-SCAN-NULL                        | 1      | 0      | OK      | 17.6               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-SET-CHANNEL                      | 1      | 0      | OK      | 0.11               |
| K64F-GCC_ARM | K64F          | mbed-os-tests-network-wifi      | WIFI-SET-CREDENTIAL                   | 1      | 0      | OK      | 0.0                |
+--------------+---------------+---------------------------------+---------------------------------------+--------+--------+---------+--------------------+
mbedgt: test case results: 1 FAIL / 20 SKIPPED / 32 OK / 3 ERROR
mbedgt: completed in 2207.72 sec
mbedgt: exited with code 4
</code></pre>
                            </div>
                        </div>

                        
                        <div class="row">
                            <div class="next-prev-links large-12 medium-12 small-12 columns">
                                
                                <a class="prev-link" href="wifi-port.html"><i aria-hidden="true" class="fa fa-arrow-circle-left"></i> Previous</a>
                                

                                
                                <a class="next-link" href="cellular-device-porting.html">Next <i aria-hidden="true" class="fa fa-arrow-circle-right"></i></a>
                                
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="../static/js/toc.mbed-cache-261a3b3a8a10e9d430f4bb5fdd0e5b5c.js"></script>
        <script src="../static/js/vendor/foundation-6.2.4.min.mbed-cache-9f0af735cc1c2011ddd8e8a94273129a.js"></script>
        <script>
            $('#docs-content').foundation();
            $(document).ready(function() {
                initToC();
            });
        </script>
    

        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright  <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/porting/networkstack.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:16:57 GMT -->
</html>
