<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/debug-test/greentea-for-testing-applications.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:16:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        
        
        <title>Greentea for testing applications - Debugging and testing | Mbed OS 6 Documentation</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="../static/css/vendor/font-awesome-4.7.0/css/font-awesome.min.mbed-cache-269550530cc127b6aa5a35925a7de6ce.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-23ac288f803d41065f3596e4c6b08e94.css" rel="stylesheet"/>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="greentea-for-testing-applications.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/debug-test/greentea-for-testing-applications.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/debug-test/greentea-for-testing-applications.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="off-canvas-wrapper" id="docs-content">
            <div class="off-canvas-wrapper-inner full-height" data-off-canvas-wrapper="">
                <div class="off-canvas-content" data-off-canvas-content="">
                    <a href="#" id="nav-button">
                        <span>
                            <i class="fa fa-bars"></i>
                        </span>
                    </a>

                    <div class="toc-wrapper" id="navbar">
                        <div id="toc">
    
        
        <div class="toc-level top">
            <a class="toc-item introduction" href="../introduction/index.html">Introduction to Mbed OS 6</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item bare-metal" href="../bare-metal/index.html">Mbed OS bare metal profile</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item quick-start" href="../quick-start/index.html">Quick start</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item apis" href="../apis/index.html">API references and tutorials</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item program-setup" href="../program-setup/index.html">Program setup</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item build-tools" href="../build-tools/index.html">Build tools</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item debug-test active-doc" href="index.html">Debugging and testing</a>
        </div>
        

        
            <div class="toc-level one">
                <a class="toc-item" href="index.html">Debugging</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="index.html">Methods</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="index.html">Debugging methods for Arm Mbed OS applications</a>
                        
                        <a class="toc-item" href="setting-up-a-local-debug-toolchain.html">Setting up a local debug toolchain</a>
                        
                        <a class="toc-item" href="memap.html">Static memory map analysis</a>
                        
                        <a class="toc-item" href="daplink.html">DAPLink</a>
                        
                        <a class="toc-item" href="troubleshooting-common-issues.html">Troubleshooting common issues</a>
                        
                        <a class="toc-item" href="analyzing-mbed-os-crash-dump.html">Analyzing Mbed OS crash dump</a>
                        
                        <a class="toc-item" href="compile-time-errors.html">Compile time errors</a>
                        
                        <a class="toc-item" href="debugging-using-printf-statements.html">Debugging using printf() statements</a>
                        
                        <a class="toc-item" href="debug-microbit.html">Debugging the BBC micro:bit with pyOCD and GDB</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="third-party-tools.html">Third party tools</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="eclipse.html">Eclipse</a>
                        
                        <a class="toc-item" href="keil-uvision.html">Keil uVision</a>
                        
                        <a class="toc-item" href="visual-studio-code.html">Visual Studio Code</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="test-tools.html">Test tools</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="test-tools.html">Testing</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="unit-testing.html">Unit testing</a>
                        
                        <a class="toc-item" href="greentea-for-testing-applications.html">Greentea for testing applications</a>
                        
                        <a class="toc-item" href="utest-asynchronous-c-test-harness.html">utest: asynchronous C++ test harness</a>
                        
                        <a class="toc-item" href="fast-models.html">Fast Models</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        

    
        
        <div class="toc-level top">
            <a class="toc-item tutorials" href="../tutorials/index.html">Tutorials and examples</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item contributing" href="../contributing/index.html">Contributing</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item porting" href="../porting/index.html">Porting</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item mbed-os-pelion" href="../mbed-os-pelion/index.html">Reference designs and end-to-end information</a>
        </div>
        

        

    
</div>
                    </div>

                    <div class="page-wrapper" id="page">
                        <div class="row">
                            <div class="content large-12 medium-12 columns" id="content">
                                <div class="breadcrumbs">
                                    
                                    <a href="../index.html">Docs</a>
                                     › 
                                    
                                    <a href="index.html">Debugging and testing</a>
                                     › 
                                    
                                    <a href="test-tools.html">Test tools</a>
                                     › 
                                    
                                    <a href="test-tools.html">Testing</a>
                                     › 
                                    
                                    <a href="greentea-for-testing-applications.html">Greentea for testing applications</a>
                                    
                                    
                                </div>
                                <h1>Greentea for testing applications</h1><p>Greentea is the automated testing tool for Arm Mbed OS development. It's a test runner that automates the process of flashing development boards, starting tests and accumulating test results into test reports. You can use it for local development, as well as for automation in a continuous integration environment.</p><p>Greentea tests run on embedded devices, but Greentea also supports <code>host tests</code>. These are Python scripts that run on a computer and can communicate back to the embedded device. You can, for example, verify that a value wrote to the cloud when the device said it did.</p><p>This document will help you start using Greentea. Please see the <a href="https://github.com/ARMmbed/mbed-os-tools/tree/master/packages/mbed-host-tests"><code>htrun</code> documentation</a>, the tool Greentea uses to drive tests, for the technical details of the interactions between the platform and the host machine.</p><h2 id="using-tests">Using tests</h2><h3 id="test-code-structure">Test code structure</h3><p>Greentea tests can be created anywhere in the Mbed OS directory structure or in your project's code. They are located under a special directory called <code>TESTS</code>. By convention, greentea tests for a specific Mbed OS library should be placed in a <code>TESTS</code> folder under that library. The <code>mbed-os/TESTS</code> folder is dedicated to integration or system tests.</p><p>The fact that the code is located under this directory means that it is ignored when building applications and libraries. It is only used when building tests. This is important because all tests require a <code>main()</code> function, and building them with your application would cause multiple <code>main()</code> functions to be defined.</p><p>The macro <code>MBED_TEST_MODE</code> is defined when building tests with Mbed CLI versions 1.9.0 and later. You can wrap your application's <code>main()</code> function in a preprocessor check to prevent multiple <code>main()</code> functions from being defined:</p><pre lang="c++"><code>#if !MBED_TEST_MODE
int main() {
    // Application code
}
#endif
</code></pre><p>In addition to being placed under a <code>TESTS</code> directory, test sources must exist under two other directories: a test group directory and a test case directory. The following is an example of this structure:</p><pre><code>myproject/TESTS/test_group/test_case_1
</code></pre><p>In this example, <code>myproject</code> is the project root, and all the source files under the <code>test_case_1</code> directory are included in the test. The test build also includes any other source files from the OS, libraries and projects that apply to the target's configuration.</p><p><span class="notes"><strong>Note:</strong> You can name both the test group and the test case directory anything you like. However, you must name the <code>TESTS</code> directory <code>TESTS</code> for the tools to detect the test cases correctly.</span></p><h4 id="test-discovery">Test discovery</h4><p>Because test cases can exist throughout a project, the tools must find them in the project's file structure before building them.</p><p>Test discovery also obeys the same rules that are used when building your project. This means that tests that are placed under a directory with a prefix, such as <code>TARGET_</code>, <code>TOOLCHAIN_</code> or <code>FEATURE_</code>, are only discovered, built and run if your current configuration matches this prefix.</p><p>For example, if you place a test under the directory <code>FEATURE_BLE</code> with the following path:</p><pre><code>myproject/mbed-os/connectivity/FEATURE_BLE/tests/TESTS/ble_tests/unit_test
</code></pre><p>This test case is only discovered if the target being tested supports the BLE feature. Otherwise, the test is ignored.</p><p>Generally, a test should not be placed under a <code>TARGET_</code> or <code>TOOLCHAIN_</code> directory because most tests should work for all target and toolchain configurations.</p><p>Tests can also be completely ignored by using the <code>.mbedignore</code> file described in the <a href="../program-setup/build-rules.html">documentation</a>.</p><h4 id="test-names">Test names</h4><p>A test case is named by its position in your project's file structure. For instance, in the above example, a test case with the path <code>myproject/TESTS/test_group/test_case_1</code> would be named <code>tests-test_group-test_case_1</code>. The name is created by joining the directories that make up the path to the test case with a dash <code>-</code> character. This is a unique name to identify the test case. You will see this name throughout the build and testing process.</p><h3 id="building-tests">Building tests</h3><p>You can build tests through Arm Mbed CLI. For information on using Mbed CLI, please see the <a href="../build-tools/mbed-cli-1.html">CLI documentation</a>.</p><p>When you build tests for a target and a toolchain, the script first discovers the available tests and then builds them in parallel. You can also create a <strong>test specification</strong> file, which our testing tools can use to run automated hardware tests. For more information on the test specification file, please see the <a href="https://github.com/ARMmbed/mbed-os-tools/tree/master/packages/mbed-greentea#test-specification-json-formatted-input">Greentea documentation</a>.</p><h4 id="building-process">Building process</h4><p>The <code>test.py</code> script (not to be confused with <code>tests.py</code>), located under the <code>tools</code> directory, handles the process for building tests. It handles the discovery and building of all test cases for a target and toolchain.</p><p>The full build process is:</p><ol>
<li>Build the non-test code (all code not under a <code>TESTS</code> folder), but do not link it. The resulting object files are placed in the build directory.</li>
<li>Find all tests that match the given target and toolchain.</li>
<li>For each discovered test, build all of its source files and link it with the non-test code that was built in step 1.</li>
<li>If specified, create a test specification file and place it in the given directory for use by the testing tools. This is placed in the build directory by default when using Mbed CLI.</li>
</ol><h4 id="application-configuration">Application configuration</h4><p>When building an Mbed application, the presence of an <code>mbed_app.json</code> file allows you to set or override different configuration settings from libraries and targets. However, because the tests share a common build, this can cause issues when tests have different configurations that affect the OS.</p><p>The build system looks for an <code>mbed_app.json</code> file in your shared project files (any directory not inside of a <code>TESTS</code> folder). If the system finds it, then this configuration file is used for both the non-test code and each test case inside your project's source tree. If there is more than one <code>mbed_app.json</code> file in the source tree, then the configuration system will throw an error.</p><p>If you need to test with multiple configurations, then you can use the <code>--app-config</code> option. This overrides the search for an <code>mbed_app.json</code> file and uses the configuration file that you specify for the build.</p><h2 id="writing-your-first-test">Writing your first test</h2><p>You can write tests for your own project or add more tests to Mbed OS. You can write tests by using the <a href="https://github.com/ARMmbed/mbed-os/tree/master/features/frameworks/greentea-client">Greentea client</a> and the <a href="https://github.com/ARMmbed/mbed-os/tree/master/features/frameworks/unity">UNITY</a> and <a href="https://github.com/ARMmbed/mbed-os/tree/master/features/frameworks/utest">utest</a> frameworks, which are located in <code>/features/frameworks</code>.</p><p>To write your first test, use Mbed CLI to create a new project:</p><pre><code>$ mbed new first-greentea-test
</code></pre><p>By convention, all tests live in the <code>TESTS/</code> directory. In the <code>first-greentea-test</code> folder, create a folder <code>TESTS/test-group/simple-test/</code>.</p><pre><code>first-greentea-test/
└── TESTS/
    └── test-group/
        └── simple-test/
            └── main.cpp
</code></pre><p><em>Test structure for Greentea tests</em></p><p>In this folder, create a file <code>main.cpp</code>. You can use UNITY, utest and the Greentea client to write your test:</p><div class="code-include-block">
<div class="code-header">
<a href="https://github.com/ARMmbed/mbed-os-snippet-Greentea_Ex_1/blob/v6.7/main.cpp" target="_blank"><i class="fa fa-file-code-o"></i> <b class="filename">main.cpp</b></a><a class="button" href="https://studio.keil.arm.com/?import=https://github.com/ARMmbed/mbed-os-snippet-Greentea_Ex_1" target="_blank">Import into Keil Studio Cloud</a>
</div>
<pre><code>/*
 * Copyright (c) 2020 Arm Limited and affiliates.
 * SPDX-License-Identifier: Apache-2.0
 */

#include "mbed.h"
#include "utest/utest.h"
#include "unity/unity.h"
#include "greentea-client/test_env.h"

using namespace utest::v1;

// This is how a test case looks
static control_t simple_test(const size_t call_count)
{
    /* test content here */
    TEST_ASSERT_EQUAL(4, 2 * 2);

    return CaseNext;
}

utest::v1::status_t greentea_setup(const size_t number_of_cases)
{
    // Here, we specify the timeout (60s) and the host test (a built-in host test or the name of our Python file)
    GREENTEA_SETUP(60, "default_auto");

    return greentea_test_setup_handler(number_of_cases);
}

// List of test cases in this file
Case cases[] = {
    Case("simple test", simple_test)
};

Specification specification(greentea_setup, cases);

int main()
{
    return !Harness::run(specification);
}

</code></pre>
</div><h3 id="running-the-test">Running the test</h3><p><span class="tips"><strong>Tip:</strong> To see all tests, run <code>mbed test --compile-list</code>.</span></p><p>Run the test:</p><pre><code>## run the test with the GCC_ARM toolchain, automatically detect the target, and run in verbose mode (-v)
$ mbed test -t GCC_ARM -m auto -v -n tests-test-group-simple-test
</code></pre><p>This yields (on a NUCLEO F411RE):</p><pre><code>mbedgt: test suite report:
+-----------------------+---------------+------------------------------+--------+--------------------+-------------+
| target                | platform_name | test suite                   | result | elapsed_time (sec) | copy_method |
+-----------------------+---------------+------------------------------+--------+--------------------+-------------+
| NUCLEO_F411RE-GCC_ARM | NUCLEO_F411RE | tests-test-group-simple-test | OK     | 16.84              | default     |
+-----------------------+---------------+------------------------------+--------+--------------------+-------------+
mbedgt: test suite results: 1 OK
mbedgt: test case report:
+-----------------------+---------------+------------------------------+-------------+--------+--------+--------+--------------------+
| target                | platform_name | test suite                   | test case   | passed | failed | result | elapsed_time (sec) |
+-----------------------+---------------+------------------------------+-------------+--------+--------+--------+--------------------+
| NUCLEO_F411RE-GCC_ARM | NUCLEO_F411RE | tests-test-group-simple-test | simple test | 1      | 0      | OK     | 0.01               |
+-----------------------+---------------+------------------------------+-------------+--------+--------+--------+--------------------+
mbedgt: test case results: 1 OK
mbedgt: completed in 18.64 sec
</code></pre><p>Change the test in a way that it fails (for example, expect 6 instead of 4), rerun the test and observe the difference.</p><h2 id="writing-integration-tests-using-host-tests">Writing integration tests using host tests</h2><p>The previous test was self-contained. Everything that ran only affected the microcontroller. However, typical test cases involve peripherals in the real world. This raises questions such as: Did my device actually get an internet connection, or did my device actually register with my cloud service? (We have <a href="https://github.com/ARMmbed/simple-mbed-cloud-client/tree/master/TESTS">a lot of these</a> for Pelion Device Management.) To test these scenarios, you can use a host test that runs on your computer. After the device says it did something, you can verify that it happened and then pass or fail the test accordingly.</p><p>To interact with the host test from the device, you can use two functions: <code>greentea_send_kv</code> and <code>greentea_parse_kv</code>. The latter blocks until it gets a message back from the host.</p><h3 id="creating-the-host-test">Creating the host test</h3><p>This example writes an integration test that sends <code>hello</code> to the host and waits until it receives <code>world</code>.
Create an <code>host_tests</code> directory under <code>mbed-os/TESTS/</code>, if it does not exist and create a file called <code>hello_world_tests.py</code> in the <code>mbed-os/TESTS/host_tests</code> folder, and fill it with:</p><pre lang="py"><code>from mbed_host_tests import BaseHostTest
from mbed_host_tests.host_tests_logger import HtrunLogger
import time

class HelloWorldHostTests(BaseHostTest):
    def _callback_init(self, key, value, timestamp):
        self.logger.prn_inf('Received \'init\' value=%s' % value)

        ## sleep...
        time.sleep(2)

        ## if value equals 'hello' we'll send back world, otherwise not
        if (value == 'hello'):
            self.send_kv('init', 'world')
        else:
            self.send_kv('init', 'not world')

    def setup(self):
        ## all functions that can be called from the client
        self.register_callback('init', self._callback_init)

    def result(self):
        pass

    def teardown(self):
        pass

    def __init__(self):
        super(HelloWorldHostTests, self).__init__()

        self.logger = HtrunLogger('TEST')
</code></pre><p>This registers one function you can call from the device: <code>init</code>. The function checks whether the value was <code>hello</code>, and if so, returns <code>world</code> back to the device using the <code>send_kv</code> function.</p><h3 id="creating-the-greentea-test">Creating the Greentea test</h3><p>This example writes the embedded part of this test. Create a new file <code>main.cpp</code> under the <code>TESTS/integration/test_case</code> directory, and fill it with:</p><div class="code-include-block">
<div class="code-header">
<a href="https://github.com/ARMmbed/mbed-os-snippet-Greentea_Ex_2/blob/v6.7/main.cpp" target="_blank"><i class="fa fa-file-code-o"></i> <b class="filename">main.cpp</b></a><a class="button" href="https://studio.keil.arm.com/?import=https://github.com/ARMmbed/mbed-os-snippet-Greentea_Ex_2" target="_blank">Import into Keil Studio Cloud</a>
</div>
<pre><code>/*
 * Copyright (c) 2020 Arm Limited and affiliates.
 * SPDX-License-Identifier: Apache-2.0
 */

#include "mbed.h"
#include "utest/utest.h"
#include "unity/unity.h"
#include "greentea-client/test_env.h"

using namespace utest::v1;

static control_t hello_world_test(const size_t call_count)
{
    // send a message to the host runner
    greentea_send_kv("init", "hello");

    // wait until we get a message back
    // if this takes too long, the timeout will trigger, so no need to handle this here
    char _key[20], _value[128];
    while (1) {
        greentea_parse_kv(_key, _value, sizeof(_key), sizeof(_value));

        // check if the key equals init, and if the return value is 'world'
        if (strcmp(_key, "init") == 0) {
            TEST_ASSERT_EQUAL(0, strcmp(_value, "world"));
            break;
        }
    }

    return CaseNext;
}

utest::v1::status_t greentea_setup(const size_t number_of_cases)
{
    // here, we specify the timeout (60s) and the host runner (the name of our Python file)
    GREENTEA_SETUP(60, "hello_world_tests");
    return greentea_test_setup_handler(number_of_cases);
}

Case cases[] = {
    Case("hello world", hello_world_test)
};

Specification specification(greentea_setup, cases);

int main()
{
    return !Harness::run(specification);
}

</code></pre>
</div><p>You see the calls to and from the host through the <code>greentea_send_kv</code> and <code>greentea_parse_kv</code> functions. Note the <code>GREENTEA_SETUP</code> call. This specifies which host test to use, and the test is then automatically loaded when running (based on the Python name).</p><p>Run the test:</p><pre><code>$ mbed test -v -n tests-integration-test_case
</code></pre><h2 id="debugging-tests">Debugging tests</h2><p>Debugging tests is a crucial part of the development and porting process. This section covers exporting the test and driving the test with the test tools while the target is attached to a debugger.</p><h3 id="exporting-tests">Exporting tests</h3><p>The easiest way to export a test is to copy the test's source code from its test directory to your project's root. This way, the tools treat it like a normal application.</p><p>You can find the path to the test that you want to export by running the following command:</p><pre><code>mbed test --compile-list -n &lt;test name&gt;
</code></pre><p>Once you've copied all of the test's source files to your project root, export your project:</p><pre><code>mbed export -i &lt;IDE name&gt;
</code></pre><p>You can find your exported project in the root project directory.</p><h3 id="running-a-test-while-debugging">Running a test while debugging</h3><p>Assuming your test was exported correctly to your IDE, build the project and load it onto your target by using your debugger.</p><p>Bring the target out of reset and run the program. Your target waits for the test tools to send a synchronizing character string over the serial port. Do not run the <code>mbed test</code> commands because that will attempt to flash the device, which you've already done with your IDE.</p><p>Instead, you can use the underlying test tools to drive the test. <a href="https://github.com/ARMmbed/mbed-os-tools/tree/master/packages/mbed-host-tests"><code>htrun</code></a> is the tool you need to use in this scenario. Installing the requirements for Mbed OS also installs <code>htrun</code>. You can also install <code>htrun</code> by running <code>pip install mbed-host-tests</code>.</p><p>First, find your target's serial port by running the following command:</p><pre><code>$ mbed detect

[mbed] Detected KL46Z, port COM270, mounted D:

...
</code></pre><p>From the output, take note of your target's serial port (in this case, it's <code>COM270</code>).</p><p>Run the following command when your device is running the test in your debugger:</p><pre><code>mbedhtrun --skip-flashing --skip-reset -p &lt;serial port&gt;:9600
</code></pre><p>Replace <code>&lt;serial port&gt;</code> with the serial port that you found by running <code>mbed detect</code> above. So, for the example above, the command is:</p><pre><code>mbedhtrun --skip-flashing --skip-reset -p COM270:9600
</code></pre><p>This detects your attached target and drives the test. If you need to rerun the test, reset the device with your debugger, run the program and run the same command.</p><p>For an explanation of the arguments used in this command, please run <code>mbedhtrun --help</code>.</p><h2 id="command-line-use">Command-line use</h2><p>This section highlights a few of the capabilities of the Greentea command-line interface. For a full list of the available options, please run <code>mbed test --help</code>.</p><h3 id="listing-all-tests">Listing all tests</h3><p>You can use the <code>--compile-list</code> argument to list all available tests:</p><pre><code>$ mbed test --compile-list
[mbed] Working path "/Users/janjon01/mbed-os" (program)
Test Case:
    Name: storage-blockdevice-component_sd-tests-tests-filesystem-fopen
    Path: ./storage/blockdevice/COMPONENT_SD/tests/TESTS/filesystem/fopen
Test Case:
    Name: connectivity-lorawan-tests-tests-lorawan-loraradio
    Path: ./connectivity/lorawan/tests/TESTS/lorawan/loraradio

...
</code></pre><p>After compilation, you can use the <code>--run-list</code> argument to list all tests that are ready to be run.</p><h3 id="executing-all-tests">Executing all tests</h3><p>The default action of Greentea using <code>mbed test</code> is to execute all tests found. You can also add <code>-v</code> to make the output more verbose.</p><h3 id="limiting-tests">Limiting tests</h3><p>You can select test cases by name using the <code>-n</code> argument. This command executes all tests named <code>platform-tests-tests-mbed_platform-atomic</code> from all builds in the test specification:</p><pre><code>$ mbed test -n platform-tests-tests-mbed_platform-atomic
</code></pre><p>When using the <code>-n</code> argument, you can use the <code>*</code> character as a wildcard. This command executes all tests that start with <code>tests-</code> and have <code>-mbed_platform-</code> in them.</p><pre><code>$ mbed test -n tests-*-mbed_platform-*
</code></pre><p>You can use a comma (<code>,</code>) to separate test names (argument <code>-n</code>) and build names (argument <code>-t</code>). This command executes the tests <code>platform-tests-tests-mbed_platform-atomic</code> and <code>drivers-tests-tests-mbed_drivers-c_strings</code> for the <code>K64F-ARM</code> and <code>K64F-GCC_ARM</code> builds in the test specification:</p><pre><code>$ mbed test -n platform-tests-tests-mbed_platform-atomic,drivers-tests-tests-mbed_drivers-c_strings -t K64F-ARM,K64F-GCC_ARM
</code></pre><h3 id="selecting-platforms">Selecting platforms</h3><p>You can limit which boards Greentea uses for testing by using the <code>--use-tids</code> argument.</p><pre><code>$ mbed test --use-tids 02400203C3423E603EBEC3D8,024002031E031E6AE3FFE3D2 --run
</code></pre><p>Where <code>02400203C3423E603EBEC3D8</code> and <code>024002031E031E6AE3FFE3D</code> are the target IDs of platforms attached to your system.</p><p>You can view target IDs using <a href="https://github.com/ARMmbed/mbed-os-tools/tree/master/packages/mbed-ls">mbed-ls</a>, which is installed as part of Mbed CLI.</p><pre><code>$ mbedls
+--------------+---------------------+------------+------------+-------------------------+
|platform_name |platform_name_unique |mount_point |serial_port |target_id                |
+--------------+---------------------+------------+------------+-------------------------+
|K64F          |K64F[0]              |E:          |COM160      |024002031E031E6AE3FFE3D2 |
|K64F          |K64F[1]              |F:          |COM162      |02400203C3423E603EBEC3D8 |
|LPC1768       |LPC1768[0]           |G:          |COM5        |1010ac87cfc4f23c4c57438d |
+--------------+---------------------+------------+------------+-------------------------+
</code></pre><p>In this case, you won't test one target, the LPC1768.</p><h3 id="creating-reports">Creating reports</h3><p>Greentea supports a number of report formats.</p><h4 id="html">HTML</h4><p>This creates an interactive HTML page with test results and logs.</p><pre><code>mbed test --report-html html_report.html --run
</code></pre><h4 id="junit">JUnit</h4><p>This creates an XML JUnit report, which you can use with popular Continuous Integration software, such as <a href="https://jenkins.io/index.html">Jenkins</a>.</p><pre><code>mbed test --report-junit junit_report.xml --run
</code></pre><h4 id="json">JSON</h4><p>This creates a general JSON report.</p><pre><code>mbed test --report-json json_report.json --run
</code></pre><h4 id="plain-text">Plain text</h4><p>This creates a human-friendly text summary of the test run.</p><pre><code>mbed test --report-text text_report.text --run
</code></pre><h2 id="test-specification-json-format">Test specification JSON format</h2><p>The Greentea test specification format decouples the tool from your build system. It provides important data, such as test names, paths to test binaries and the platform on which the binaries should run. This file is automatically generated when running tests through Mbed CLI, but you can also provide it yourself. This way you can control exactly which tests are run and through which compilers.</p><p>Greentea automatically looks for files called <code>test_spec.json</code> in your working directory. You can also use the <code>--test-spec</code> argument to direct Greentea to a specific test specification file.</p><p>When you use the <code>-t</code> / <code>--target</code> argument with the <code>--test-spec</code> argument, you can select which "build" to use. In the example below, you could provide the arguments <code>--test-spec test_spec.json -t K64F-ARM</code> to only run that build's tests.</p><h3 id="example-of-test-specification-file">Example of test specification file</h3><p>The below example uses two defined builds:</p><ul>
<li>Build <code>K64F-ARM</code> for NXP <code>K64F</code> platform compiled with <code>ARMCC</code> compiler.</li>
<li>Build <code>K64F-GCC</code> for NXP <code>K64F</code> platform compiled with <code>GCC ARM</code> compiler.</li>
</ul><p>Place this file in your root folder, and name it <code>test_spec.json</code>.</p><pre lang="json"><code>{
    "builds": {
        "K64F-ARM": {
            "platform": "K64F",
            "toolchain": "ARM",
            "base_path": "./BUILD/K64F/ARM",
            "baud_rate": 9600,
            "tests": {
                "platform-tests-tests-mbed_platform-atomic": {
                    "binaries": [
                        {
                            "binary_type": "bootable",
                            "path": "./BUILD/K64F/ARM/platform/tests/tests/mbed_platform/atomic/atomic.bin"
                        }
                    ]
                },
                "drivers-tests-tests-mbed_drivers-c_strings": {
                    "binaries": [
                        {
                            "binary_type": "bootable",
                            "path": "./BUILD/K64F/ARM/drivers/tests/tests/mbed_drivers/c_strings/c_strings.bin"
                        }
                    ]
                }
            }
        },
        "K64F-GCC": {
            "platform": "K64F",
            "toolchain": "GCC_ARM",
            "base_path": "./BUILD/K64F/GCC_ARM",
            "baud_rate": 9600,
            "tests": {
                "platform-tests-tests-mbed_platform-atomic": {
                    "binaries": [
                        {
                            "binary_type": "bootable",
                            "path": "./BUILD/K64F/GCC_ARM/platform/tests/tests/mbed_platform/atomic/atomic.bin"
                        }
                    ]
                }
            }
        }
    }
}
</code></pre><p>If you run <code>mbed test --run-list</code>, this will now list only these tests:</p><pre><code>mbedgt: greentea test automation tool ver. 1.2.5
mbedgt: using multiple test specifications from current directory!
        using 'BUILD\tests\K64F\ARM\test_spec.json'
        using 'BUILD\tests\K64F\GCC_ARM\test_spec.json'
mbedgt: available tests for built 'K64F-GCC_ARM', location 'BUILD/tests/K64F/GCC_ARM'
        test 'platform-tests-tests-mbed_platform-atomic'
mbedgt: available tests for built 'K64F-ARM', location 'BUILD/tests/K64F/ARM'
        test 'drivers-tests-tests-mbed_drivers-c_strings'
        test 'platform-tests-tests-mbed_platform-atomic'
</code></pre><h2 id="known-issues">Known issues</h2><p>There cannot be a <code>main()</code> function outside of a <code>TESTS</code> directory when building and running tests. This is because this function will be included in the nontest code build, as described in the <a href="#building-process">building process</a> section. When the test code is compiled and linked with the nontest code build, a linker error will occur, due to there being multiple <code>main()</code> functions defined. This is why you should either rename your main application file if you need to build and run tests, or use a different project. Note that this does not affect building projects or applications, only building and running tests.</p>
                            </div>
                        </div>

                        
                        <div class="row">
                            <div class="next-prev-links large-12 medium-12 small-12 columns">
                                
                                <a class="prev-link" href="unit-testing.html"><i aria-hidden="true" class="fa fa-arrow-circle-left"></i> Previous</a>
                                

                                
                                <a class="next-link" href="utest-asynchronous-c-test-harness.html">Next <i aria-hidden="true" class="fa fa-arrow-circle-right"></i></a>
                                
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="../static/js/toc.mbed-cache-261a3b3a8a10e9d430f4bb5fdd0e5b5c.js"></script>
        <script src="../static/js/vendor/foundation-6.2.4.min.mbed-cache-9f0af735cc1c2011ddd8e8a94273129a.js"></script>
        <script>
            $('#docs-content').foundation();
            $(document).ready(function() {
                initToC();
            });
        </script>
    

        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/debug-test/greentea-for-testing-applications.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:16:32 GMT -->
</html>
