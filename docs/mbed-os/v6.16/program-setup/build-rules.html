<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/program-setup/build-rules.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:16:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        
        
        <meta content="The reference manual for Mbed OS: architecture, configuration and contribution details" name="description"/>
        
        <title>Build rules - Program setup | Mbed OS 6 Documentation</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="../static/css/vendor/font-awesome-4.7.0/css/font-awesome.min.mbed-cache-269550530cc127b6aa5a35925a7de6ce.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-23ac288f803d41065f3596e4c6b08e94.css" rel="stylesheet"/>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="build-rules.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/program-setup/build-rules.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/program-setup/build-rules.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="off-canvas-wrapper" id="docs-content">
            <div class="off-canvas-wrapper-inner full-height" data-off-canvas-wrapper="">
                <div class="off-canvas-content" data-off-canvas-content="">
                    <a href="#" id="nav-button">
                        <span>
                            <i class="fa fa-bars"></i>
                        </span>
                    </a>

                    <div class="toc-wrapper" id="navbar">
                        <div id="toc">
    
        
        <div class="toc-level top">
            <a class="toc-item introduction" href="../introduction/index.html">Introduction to Mbed OS 6</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item bare-metal" href="../bare-metal/index.html">Mbed OS bare metal profile</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item quick-start" href="../quick-start/index.html">Quick start</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item apis" href="../apis/index.html">API references and tutorials</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item program-setup active-doc" href="index.html">Program setup</a>
        </div>
        

        
            <div class="toc-level one">
                <a class="toc-item" href="index.html">Introduction</a>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="concepts.html">Concepts</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="concepts.html">Execution</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#threads">Threads</a>
                        
                        <a class="toc-item" href="#modes">Modes</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="bootstrap.html">Bootstrap</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#entry-points">Entry points</a>
                        
                        <a class="toc-item" href="#retargeting">Retargeting</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="project-structure.html">Project structure</a>
                    
                    
                    <a class="toc-item" href="creating-and-using-a-bootloader.html">Creating and using a bootloader</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#arm-mbed-os-managed-bootloader">Arm Mbed OS managed bootloader</a>
                        
                        <a class="toc-item" href="#prebuilt-bootloaders">Prebuilt bootloaders</a>
                        
                        <a class="toc-item" href="#unmanaged-bootloader">Unmanaged bootloader</a>
                        
                        <a class="toc-item" href="#exporter-limitations">Exporter limitations</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="serial-communication.html">Serial communication</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="serial-communication.html">Board to PC communication over USB</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#hello-world-printing-messages">Hello World - printing messages</a>
                        
                        <a class="toc-item" href="#viewing-output-in-a-serial-terminal">Viewing output in a serial terminal</a>
                        
                        <a class="toc-item" href="#additional-examples-reading-user-inputs">Additional examples - reading user inputs</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="windows-serial-driver.html">Windows serial driver</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#troubleshooting">Troubleshooting</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="build-profiles-and-rules.html">Build profiles and rules</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="build-profiles-and-rules.html">Build profiles</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#develop">Develop</a>
                        
                        <a class="toc-item" href="#debug">Debug</a>
                        
                        <a class="toc-item" href="#release">Release</a>
                        
                        <a class="toc-item" href="#user-defined-build-profile">User-defined build profile</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="build-rules.html">Build rules</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#source-files">Source files</a>
                        
                        <a class="toc-item" href="#label-directories">Label directories</a>
                        
                        <a class="toc-item" href="#test-directories">Test directories</a>
                        
                        <a class="toc-item" href="#mbedignore">.mbedignore</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="debug-builds-cli.html">Debug builds</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#compile-command">Compile command</a>
                        
                        <a class="toc-item" href="#exporting-with-debug-symbols">Exporting with debug symbols</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="advanced-configuration.html">Advanced configuration</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="advanced-configuration.html">The configuration system</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#examining-available-configuration-parameters">Examining available configuration parameters</a>
                        
                        <a class="toc-item" href="#using-configuration-data-in-code">Using configuration data in code</a>
                        
                        <a class="toc-item" href="#configuration-parameters-in-mbed-app-json-mbed-lib-json">Configuration parameters in mbed_app.json, mbed_lib.json</a>
                        
                        <a class="toc-item" href="#mbed-lib-json-format-specification">mbed_lib.json format specification</a>
                        
                        <a class="toc-item" href="#mbed-app-json-specification">mbed_app.json Specification</a>
                        
                    </div>
                    
                    
                    <a class="toc-item" href="api-specific-configuration.html">API-specific configuration</a>
                    
                    
                    <a class="toc-item" href="bootloader-configuration.html">Bootloader configuration</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#target-mbed-app-start">target.mbed_app_start</a>
                        
                        <a class="toc-item" href="#target-mbed-app-size">target.mbed_app_size</a>
                        
                        <a class="toc-item" href="#target-bootloader-img">target.bootloader_img</a>
                        
                        <a class="toc-item" href="#target-restrict-size">target.restrict_size</a>
                        
                        <a class="toc-item" href="#target-header-format">target.header_format</a>
                        
                        <a class="toc-item" href="#target-header-offset">target.header_offset</a>
                        
                        <a class="toc-item" href="#target-app-offset">target.app_offset</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        
            <div class="toc-level one">
                <a class="toc-item" href="adding-and-configuring-targets.html">Adding and configuring targets</a>
                
                <div class="toc-level two sub">
                    
                    <a class="toc-item" href="adding-and-configuring-targets.html">Adding and configuring targets</a>
                    
                    <div class="toc-level three sub closed">
                        
                        <a class="toc-item" href="#standard-properties">Standard properties</a>
                        
                        <a class="toc-item" href="#macros-macros-add-and-macros-remove">macros, macros_add and macros_remove</a>
                        
                        <a class="toc-item" href="#style-guide">Style guide</a>
                        
                        <a class="toc-item" href="#related-content">Related content</a>
                        
                    </div>
                    
                    
                </div>
                
            </div>
        

    
        
        <div class="toc-level top">
            <a class="toc-item build-tools" href="../build-tools/index.html">Build tools</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item debug-test" href="../debug-test/index.html">Debugging and testing</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item tutorials" href="../tutorials/index.html">Tutorials and examples</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item contributing" href="../contributing/index.html">Contributing</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item porting" href="../porting/index.html">Porting</a>
        </div>
        

        

    
        
        <div class="toc-level top">
            <a class="toc-item mbed-os-pelion" href="../mbed-os-pelion/index.html">Reference designs and end-to-end information</a>
        </div>
        

        

    
</div>
                    </div>

                    <div class="page-wrapper" id="page">
                        <div class="row">
                            <div class="content large-12 medium-12 columns" id="content">
                                <div class="breadcrumbs">
                                    
                                    <a href="../index.html">Docs</a>
                                     › 
                                    
                                    <a href="index.html">Program setup</a>
                                     › 
                                    
                                    <a href="build-profiles-and-rules.html">Build profiles and rules</a>
                                     › 
                                    
                                    <a href="build-rules.html">Build rules</a>
                                    
                                    
                                </div>
                                <h1>Build rules</h1><p>The Mbed OS build tools scan your project for source files every time you compile. This document describes the rules that the build tools use to decide which source files to include in each build. The Mbed OS build tools use the <a href="adding-and-configuring-targets.html">target configuration</a> found in <code>targets.json</code>, <code>mbed_app.json</code> and <code>mbed_lib.json</code> as input to these rules. If you are looking for how to pass options to the compilers, please see the <a href="build-profiles-and-rules.html">build profiles documentation</a>.</p><p>The build tools include every source file found in the project unless it is in a label directory, it is in a test directory or it matches a pattern in an <code>.mbedignore file</code>.</p><h2 id="source-files">Source files</h2><p>Mbed OS build tools determine the type of source file found based on the file's extension. The following table lists all files used in a build:</p><table>
<thead>
<tr>
<th>Extension</th>
<th>File type</th>
<th>Used by</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.a</code>, <code>.ar</code></td>
<td>Archive</td>
<td>Toolchain's linker</td>
</tr>
<tr>
<td><code>.c</code></td>
<td>C source</td>
<td>Toolchain's C compiler</td>
</tr>
<tr>
<td><code>.cc</code>, <code>.cpp</code></td>
<td>C++ source</td>
<td>Toolchain's C++ compiler</td>
</tr>
<tr>
<td><code>.h</code>, <code>.hpp</code>, <code>.hh</code>, <code>.inc</code></td>
<td>C/C++ header</td>
<td>Toolchain's C and C++ compiler</td>
</tr>
<tr>
<td><code>.ld</code></td>
<td>GCC linker script</td>
<td>GCC's linker (<code>ld</code>)</td>
</tr>
<tr>
<td><code>.o</code></td>
<td>Object</td>
<td>Toolchain's linker</td>
</tr>
<tr>
<td><code>.s</code>, <code>.S</code></td>
<td>Assembly</td>
<td>Toolchain's assembler</td>
</tr>
<tr>
<td><code>.sct</code></td>
<td>ARM scatter file</td>
<td>ARM's linker (<code>armlink</code>)</td>
</tr>
</tbody>
</table><h2 id="label-directories">Label directories</h2><p>Label directories are directories that follow a naming convention: an upper case label type followed by an underscore followed by a label. The Mbed OS build tools define four label types:</p><ul>
<li><code>TARGET</code>, constructed from the configuration value <code>target.extra_labels</code> and the name of the targets.</li>
<li><code>FEATURE</code>, constructed from the configuration value <code>target.features</code>.</li>
<li><code>FEATURE_EXPERIMENTAL_API</code>, constructed from the configuration value <code>target.features</code>.</li>
<li><code>COMPONENT</code>, controlled from the configuration value <code>target.components</code>.</li>
<li><code>TOOLCHAIN</code>, controlled completely by the toolchain used to build.</li>
</ul><p>The Mbed OS build tools skip all label directories, unless you configure them explicitly, as described above.</p><p>For more information about using, extending and removing labels, please see <a href="adding-and-configuring-targets.html#extra-labels-extra-labels-add-and-extra-labels-remove">Adding and configuring targets</a>.</p><h3 id="target-directories">Target directories</h3><p>The target labeled directories are used for selecting sources specific to an MCU or MCU family. The set of directories included in a given build is all of the names of the targets in the inheritance hierarchy and the <code>target.extra_labels</code>. The following is an example <code>targets.json</code>:</p><pre lang="json"><code>{
    "MCUXPRESSO": {
        "inherits": ["Target"],
        "public": false
    },
    "TEENSY3_1": {
        "inherits": ["MCUXPRESSO"],
        "extra_labels": ["K20XX", "K20DX256"]
    }
}
</code></pre><p>The above example includes source files in directories named <code>TARGET_MCUXPRESSO</code> and <code>TARGET_TEENSY3_1</code> from the inheritance hierarchy and <code>TARGET_K20XX</code> and <code>TARGET_K20DX256</code> from the <code>target.extra_labels</code> value. It does not include source files within the <code>TARGET_NORDIC</code>, <code>TARGET_K66F</code> or <code>TARGET_NUCLEO_F411</code> directories because they are not in the list of labels included in the label type <code>TARGET</code>.</p><h3 id="feature-directories">Feature directories</h3><p>The feature labeled directories are used for software that implements functionality that requires some amount of space even when it's not used. The configuration value <code>target.features</code> entirely controls the set of directories the <code>FEATURE</code> label type includes. The following is a trimmed down version of an example <code>targets.json</code>:</p><pre lang="json"><code>{
    "NRF52_DK": {
        "inherits": ["Target"],
        "features": ["BLE"]
    }
}
</code></pre><p>In the above example, <code>mbed compile</code> includes files in directories named <code>FEATURE_BLE</code>, and not directories such as <code>FEATURE_STORAGE</code> or <code>FEATURE_CRYTOCELL310</code>.</p><h3 id="experimental-directories">Experimental directories</h3><p>By default, Mbed OS doesn't compile <a href="../introduction/versions-and-releases.html">experimental APIs</a>. You can override this behaviour by explicitly including "EXPERIMENTAL_API" in <code>mbed_app.json</code>:</p><pre><code>{
    “target_overrides” : {
        “*” : {
            “target.features_add” : [“EXPERIMENTAL_API”]
     }
  }
}

</code></pre><p>The <code>EXPERIMENTAL_API</code> flag enables experimental APIs but may not activate individual APIs. Please follow each API's documentation to use it.</p><h3 id="component-directories">Component directories</h3><p>The component labeled directories are used for software that implements functionality. They are within label directories primarily because we don't expect every program to use this software, and including this software in every build would needlessly increase build time.  The configuration value <code>target.components</code> entirely controls the set of directories the <code>COMPONENT</code> label type includes. The following is a shortened version of an example <code>targets.json</code>:</p><pre lang="json"><code>{
    "NRF52_DK": {
        "inherits": ["Target"],
        "components": ["SPIF"]
    }
}
</code></pre><p>In the above example, <code>mbed compile</code> includes files in directories named <code>COMPONENT_SPIF</code>, and not directories such as <code>COMPONENT_SD</code> or <code>COMPONENT_FLASHIAP</code>.</p><h3 id="toolchain-directories">Toolchain directories</h3><p>The toolchain labeled directories are used for toolchain specific files, such as assembly or linker files. The compilers use the following label sets:</p><table>
<thead>
<tr>
<th>Toolchain</th>
<th>Labels</th>
</tr>
</thead>
<tbody>
<tr>
<td>ARM compiler 6</td>
<td><code>TOOLCHAIN_ARM</code>, <code>TOOLCHAIN_ARM_STD</code> and <code>TOOLCHAIN_ARMC6</code></td>
</tr>
<tr>
<td>GCC ARM Embedded</td>
<td><code>TOOLCHAIN_GCC</code> and <code>TOOLCHAIN_GCC_ARM</code></td>
</tr>
</tbody>
</table><p>When compiling with <code>-t GCC_ARM</code> or <code>mbed toolchain GCC_ARM</code>, source files found within <code>TOOLCHAIN_GCC</code> and <code>TOOLCHAIN_GCC_ARM</code> are included, and files found within <code>TOOLCHAIN_IAR</code> and <code>TOOLCHAIN_ARM</code> are not.</p><h2 id="test-directories">Test directories</h2><p>Functional tests are organized into test cases and test suite directories within a <code>TESTS</code> directory. Each test suite is a subdirectory of the <code>TESTS</code>, and each test case is a subdirectory of a test suite. When tests build, each test case compiles independently. The test suite <code>host_tests</code> is reserved for scripts that run and validate a test case. The following tree is a reduced version of the tests subdirectory of Mbed OS:</p><pre><code>TESTS
├── events
│  ├── queue
│  │  └── main.cpp
│  └── timing
│     └── main.cpp
├── host_tests
│  ├── ...
│  └── timing_drift_auto.py
├── integration
│  └── basic
│     └── main.cpp
└── network
   ├── emac
   │  ├── ...
   │  └── main.cpp
   └── wifi
      ├── ...
      └── main.cpp
</code></pre><p>None of these files are included in a build run with <code>mbed compile</code>. When running <code>mbed test</code> or <code>mbed test --compile</code>, the <code>TESTS/events/queue</code> test case compiles without the sources from <code>TESTS/events/timing</code> or <code>TESTS/integration/basic</code>.</p><h2 id="mbedignore">.mbedignore</h2><p>The <code>.mbedignore</code> rules override other rules for excluding files from a build. Files matching patterns in an <code>.mbedignore</code> file are excluded from a build even if a label rule or a test directory would include the file.</p><h3 id="usage">Usage</h3><p>You can place an <code>.mbedignore</code> file in any searched directory.</p><p>Avoid defining rules that would cross library boundaries because these can lead to side effects or build problems that are hard to find.</p><h3 id="syntax">Syntax</h3><p>Each line in the <code>.mbedignore</code> file is a pattern for matching files. No files that matches any pattern found in any <code>.mbedignore</code> file are included when building or exporting.</p><p>The following wildcards are accepted:</p><table>
<thead>
<tr>
<th>Pattern</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>Matches everything.</td>
</tr>
<tr>
<td><code>?</code></td>
<td>Matches any single character.</td>
</tr>
<tr>
<td><code>[seq]</code></td>
<td>Matches any character in seq.</td>
</tr>
<tr>
<td><code>[!seq]</code></td>
<td>Matches any character not in seq.</td>
</tr>
</tbody>
</table><p>The file is parsed with Python's <a href="https://docs.python.org/2/library/fnmatch.html">fnmatch</a>. The syntax follows basic shell patterns with the following exceptions:</p><ul>
<li>Each line is treated as though it were prefixed with the path of the <code>.mbedignore</code> file.</li>
<li>A line cannot start with <code>.</code> or <code>/</code> (because of the previous rule).</li>
</ul><p>The globbing functionality is not used, so you cannot recursively match a specific file pattern. Instead, you need to define a rule per directory.</p><h3 id="example">Example</h3><p>A file located in <code>source/obsolete/.mbedignore</code> has the following content:</p><pre><code>*.c
*.h
second_level/*.c
</code></pre><p>After applying the first rule, the actual patterns used internally for matching the source files are:</p><pre><code>source/obsolete/*.c
source/obsolete/*.h
source/obsolete/second_level/*.c
</code></pre>
                            </div>
                        </div>

                        
                        <div class="row">
                            <div class="next-prev-links large-12 medium-12 small-12 columns">
                                
                                <a class="prev-link" href="build-profiles-and-rules.html"><i aria-hidden="true" class="fa fa-arrow-circle-left"></i> Previous</a>
                                

                                
                                <a class="next-link" href="debug-builds-cli.html">Next <i aria-hidden="true" class="fa fa-arrow-circle-right"></i></a>
                                
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="../static/js/toc.mbed-cache-261a3b3a8a10e9d430f4bb5fdd0e5b5c.js"></script>
        <script src="../static/js/vendor/foundation-6.2.4.min.mbed-cache-9f0af735cc1c2011ddd8e8a94273129a.js"></script>
        <script>
            $('#docs-content').foundation();
            $(document).ready(function() {
                initToC();
            });
        </script>
    

        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/program-setup/build-rules.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 14:16:11 GMT -->
</html>
