<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/_a_t_handler_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:21:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | ATHandler.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="_a_t_handler_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/_a_t_handler_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/_a_t_handler_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_166ec255f347f4550ab030c0250a7093.html">cellular</a></li><li class="navelem"><a class="el" href="dir_d56c9d8760ed675b24ab622f3355d1f3.html">include</a></li><li class="navelem"><a class="el" href="dir_6245d597db7f1ee1cfe9818910ceb8bb.html">cellular</a></li><li class="navelem"><a class="el" href="dir_b0fbdff006d39ab0b4993ecbf7b30914.html">framework</a></li><li class="navelem"><a class="el" href="dir_e059b923eaea2503479ac6d79e2ad7e4.html">API</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ATHandler.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment"> * Copyright (c) 2017, Arm Limited and affiliates.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment"> * SPDX-License-Identifier: Apache-2.0</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> <span class="comment"> * Licensed under the Apache License, Version 2.0 (the "License");</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> <span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment"> * distributed under the License is distributed on an "AS IS" BASIS,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> <span class="comment"> */</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> </div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> <span class="preprocessor">#ifndef AT_HANDLER_H_</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> <span class="preprocessor">#define AT_HANDLER_H_</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> </div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> <span class="preprocessor">#include "platform/mbed_retarget.h"</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="preprocessor">#include "platform/mbed_chrono.h"</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> </div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="preprocessor">#include "events/EventQueue.h"</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> <span class="preprocessor">#include "netsocket/nsapi_types.h"</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> </div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> <span class="preprocessor">#include "Callback.h"</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> <span class="preprocessor">#include "rtos/Kernel.h"</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> </div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="preprocessor">#include &lt;cstdarg&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> </div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="preprocessor">#include "drivers/BufferedSerial.h"</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> <span class="comment"></span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="comment">/**</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> <span class="comment"> * If application calls associated FileHandle only from single thread context</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> <span class="comment">  * then locking between AT command and response is not needed. However,</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> <span class="comment">  * note that many cellular functions are called indirectly, for example with the socket API.</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="comment">  * If you are unsure, then AT_HANDLER_MUTEX must be defined.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> <span class="comment">  */</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span> <span class="preprocessor">#define AT_HANDLER_MUTEX</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> </div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> <span class="preprocessor">#if defined AT_HANDLER_MUTEX &amp;&amp; defined MBED_CONF_RTOS_PRESENT</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span> <span class="preprocessor">#include "rtos/ConditionVariable.h"</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> </div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> <span class="keyword">namespace </span><a class="code" href="namespacembed.html">mbed</a> {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span> </div><div class="line"><a name="l00048"></a><span class="lineno">   48</span> <span class="keyword">class </span>FileHandle;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span> </div><div class="line"><a name="l00050"></a><span class="lineno">   50</span> <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *OK;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *CRLF;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span> </div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> <span class="comment">/* AT Error types enumeration */</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> <span class="keyword">enum</span> DeviceErrorType {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>     DeviceErrorTypeNoError = 0,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>     DeviceErrorTypeError,       <span class="comment">// AT ERROR</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>     DeviceErrorTypeErrorCMS,    <span class="comment">// AT ERROR CMS</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>     DeviceErrorTypeErrorCME     <span class="comment">// AT ERROR CME</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span> };</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span> <span class="comment"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span> <span class="comment">/** AT response error with error code and type */</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structmbed_1_1device__err__t.html">   62</a></span> <span class="keyword">struct </span><a class="code" href="structmbed_1_1device__err__t.html">device_err_t</a> {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>     DeviceErrorType errType;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>     <span class="keywordtype">int</span> errCode;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span> };</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span> <span class="comment"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span> <span class="comment">/// Class for sending AT commands and parsing AT responses.</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classmbed_1_1_a_t_handler.html">   68</a></span> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classmbed_1_1_a_t_handler.html">ATHandler</a> {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span> </div><div class="line"><a name="l00070"></a><span class="lineno">   70</span> <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> <span class="comment">    /** Constructor</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span> <span class="comment">     *</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span> <span class="comment">     *  @param fh               file handle used for reading AT responses and writing AT commands</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span> <span class="comment">     *  @param queue            Event queue used to transfer sigio events to this thread</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span> <span class="comment">     *  @param timeout          Timeout when reading for AT response</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span> <span class="comment">     *  @param output_delimiter delimiter used when parsing at responses, "\r" should be used as output_delimiter</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span> <span class="comment">     *  @param send_delay       the minimum delay in ms between the end of last response and the beginning of a new command</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span> <span class="comment">     */</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>     <a class="code" href="classmbed_1_1_a_t_handler.html">ATHandler</a>(<a class="code" href="classmbed_1_1_file_handle.html">FileHandle</a> *fh, <a class="code" href="classevents_1_1_event_queue.html">events::EventQueue</a> &amp;queue, uint32_t timeout, <span class="keyword">const</span> <span class="keywordtype">char</span> *output_delimiter, uint16_t send_delay = 0);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span> <span class="comment"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span> <span class="comment">    /** Constructor</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span> <span class="comment">     *</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span> <span class="comment">     *  @param fh               file handle used for reading AT responses and writing AT commands</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span> <span class="comment">     *  @param queue            Event queue used to transfer sigio events to this thread</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span> <span class="comment">     *  @param timeout          Timeout when reading for AT response</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span> <span class="comment">     *  @param output_delimiter delimiter used when parsing at responses, "\r" should be used as output_delimiter</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> <span class="comment">     *  @param send_delay       the minimum delay in ms between the end of last response and the beginning of a new command</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span> <span class="comment">     */</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>     <a class="code" href="classmbed_1_1_a_t_handler.html">ATHandler</a>(<a class="code" href="classmbed_1_1_file_handle.html">FileHandle</a> *fh, <a class="code" href="classevents_1_1_event_queue.html">events::EventQueue</a> &amp;queue, mbed::chrono::milliseconds_u32 timeout, <span class="keyword">const</span> <span class="keywordtype">char</span> *output_delimiter, std::chrono::duration&lt;uint16_t, std::milli&gt; send_delay = std::chrono::milliseconds(0));</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span> </div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>     ~<a class="code" href="classmbed_1_1_a_t_handler.html">ATHandler</a>();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span> <span class="comment"></span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span> <span class="comment">    /** Return used file handle.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span> <span class="comment">     *</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span> <span class="comment">     *  @return used file handle</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span> <span class="comment">     */</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>     <a class="code" href="classmbed_1_1_file_handle.html">FileHandle</a> *get_file_handle();</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span> <span class="comment"></span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span> <span class="comment">    /** Locks the mutex for file handle if AT_HANDLER_MUTEX is defined.</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span> <span class="comment">     */</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>     <span class="keywordtype">void</span> lock();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span> <span class="comment"></span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span> <span class="comment">    /** Unlocks the mutex for file handle if AT_HANDLER_MUTEX is defined.</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span> <span class="comment">     */</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>     <span class="keywordtype">void</span> unlock();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span> <span class="comment"></span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span> <span class="comment">    /** Locks the mutex for file handle if AT_HANDLER_MUTEX is defined and returns the last error.</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span> <span class="comment">     *</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span> <span class="comment">     * @return last error that happened when parsing AT responses</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span> <span class="comment">     */</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>     <a class="code" href="group__netsocket.html#ga67a8f07758d2ee2a1809293fa52bdf14">nsapi_error_t</a> unlock_return_error();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span> <span class="comment"></span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span> <span class="comment">    /** Set callback function for URC</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span> <span class="comment">     *</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span> <span class="comment">     *  @param prefix   URC text to look for, e.g. "+CMTI:". Maximum length is MBED_CONF_CELLULAR_AT_HANDLER_BUFFER_SIZE.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span> <span class="comment">     *  @param callback function to call on prefix, or 0 to remove callback</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span> <span class="comment">     */</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>     <span class="keywordtype">void</span> set_urc_handler(<span class="keyword">const</span> <span class="keywordtype">char</span> *prefix, <a class="code" href="classmbed_1_1_callback.html">Callback</a>&lt;<span class="keywordtype">void</span>()&gt; <a class="code" href="group__platform___callback.html#ga1104a807bfce1d1dc38e4d1eeba6ed17">callback</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span> <span class="comment"></span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span> <span class="comment">    /** returns the last error while parsing AT responses.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span> <span class="comment">     *</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span> <span class="comment">     *  @return last error</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span> <span class="comment">     */</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>     <a class="code" href="group__netsocket.html#ga67a8f07758d2ee2a1809293fa52bdf14">nsapi_error_t</a> get_last_error() <span class="keyword">const</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span> <span class="comment"></span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span> <span class="comment">    /** returns the last device error while parsing AT responses. Actually AT error (CME/CMS).</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span> <span class="comment">     *</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span> <span class="comment">     *  @return last error struct device_err_t</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span> <span class="comment">     */</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>     <a class="code" href="structmbed_1_1device__err__t.html">device_err_t</a> get_last_device_error() <span class="keyword">const</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span> <span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span> <span class="comment">    /** Set timeout in milliseconds for AT commands</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span> <span class="comment">     *</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span> <span class="comment">     *  @param timeout_milliseconds  Timeout in milliseconds</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span> <span class="comment">     *  @param default_timeout       Store as default timeout</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span> <span class="comment">     */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>     <span class="keywordtype">void</span> set_at_timeout(uint32_t timeout_milliseconds, <span class="keywordtype">bool</span> default_timeout = <span class="keyword">false</span>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span> <span class="comment"></span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span> <span class="comment">    /** Set timeout in milliseconds for AT commands</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span> <span class="comment">     *</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span> <span class="comment">     *  @param timeout               Timeout in milliseconds</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span> <span class="comment">     *  @param default_timeout       Store as default timeout</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span> <span class="comment">     */</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>     <span class="keywordtype">void</span> set_at_timeout(mbed::chrono::milliseconds_u32 timeout, <span class="keywordtype">bool</span> default_timeout = <span class="keyword">false</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span> <span class="comment"></span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span> <span class="comment">    /** Restore timeout to previous timeout. Handy if there is a need to change timeout temporarily.</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span> <span class="comment">     */</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>     <span class="keywordtype">void</span> restore_at_timeout();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span> <span class="comment"></span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span> <span class="comment">    /** Clear pending error flag. By default, error is cleared only in lock().</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span> <span class="comment">     */</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>     <span class="keywordtype">void</span> clear_error();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span> <span class="comment"></span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span> <span class="comment">    /**</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span> <span class="comment">     * Flushes the underlying stream</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span> <span class="comment">     */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>     <span class="keywordtype">void</span> flush();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span> <span class="comment"></span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span> <span class="comment">    /** Tries to find oob's from the AT response. Call the urc callback if one is found.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span> <span class="comment">     */</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>     <span class="keywordtype">void</span> process_oob();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span> <span class="comment"></span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span> <span class="comment">    /** Set is file handle usable. Some situations like after going to data mode, file handle is not usable anymore.</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span> <span class="comment">     *  Any items in queue are not to be processed.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span> <span class="comment">     *</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span> <span class="comment">     *  @param usable true for usable filehandle</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span> <span class="comment">     */</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>     <span class="keywordtype">void</span> set_is_filehandle_usable(<span class="keywordtype">bool</span> usable);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span> <span class="comment"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span> <span class="comment">    /** Synchronize AT command and response handling to modem.</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span> <span class="comment">     *</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span> <span class="comment">     *  @param timeout_ms ATHandler timeout when trying to sync. Will be restored when function returns.</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span> <span class="comment">     *  @return true is synchronization was successful, false in case of failure</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span> <span class="comment">     */</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>     <span class="keywordtype">bool</span> sync(<span class="keywordtype">int</span> timeout_ms);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span> <span class="comment"></span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span> <span class="comment">    /** Synchronize AT command and response handling to modem.</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span> <span class="comment">     *</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span> <span class="comment">     *  @param timeout ATHandler timeout when trying to sync. Will be restored when function returns.</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span> <span class="comment">     *  @return true is synchronization was successful, false in case of failure</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span> <span class="comment">     */</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>     <span class="keywordtype">bool</span> sync(std::chrono::duration&lt;int, std::milli&gt; timeout);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span> <span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span> <span class="comment">    /** Sets the delay to be applied before sending any AT command.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span> <span class="comment">     *</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span> <span class="comment">     *  @param send_delay the minimum delay in ms between the end of last response and the beginning of a new command</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span> <span class="comment">     */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>     <span class="keywordtype">void</span> set_send_delay(uint16_t send_delay);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span> <span class="comment"></span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> <span class="comment">    /** Sets BufferedSerial filehandle to given baud rate</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span> <span class="comment">     *</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span> <span class="comment">     *  @param baud_rate</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span> <span class="comment">     */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>     <span class="keywordtype">void</span> set_baud(<span class="keywordtype">int</span> baud_rate);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span> <span class="comment"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span> <span class="comment">    /** Starts the command writing by clearing the last error and writing the given command.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span> <span class="comment">     *  In case of failure when writing, the last error is set to NSAPI_ERROR_DEVICE_ERROR.</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span> <span class="comment">     *</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span> <span class="comment">     *  @param cmd  AT command to be written to modem</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span> <span class="comment">     */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>     <span class="keywordtype">void</span> cmd_start(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span> <span class="comment"></span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span> <span class="comment">    /**</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span> <span class="comment">     * @brief cmd_start_stop Starts an AT command, writes given variadic arguments and stops the command. Use this</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span> <span class="comment">     *        command when you need multiple response parameters to be handled.</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span> <span class="comment">     *        NOTE: Does not lock ATHandler for process!</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span> <span class="comment">     *</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span> <span class="comment">     * @param cmd AT command in form +&lt;CMD&gt; (will be used also in response reading, no extra chars allowed)</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span> <span class="comment">     * @param cmd_chr Char to be added to specific AT command: '?', '=' or ''. Will be used as such so '=1' is valid as well.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span> <span class="comment">     * @param format Format string for variadic arguments to be added to AT command; No separator needed.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span> <span class="comment">     *        Use %d for integer, %s for string and %b for byte string (requires 2 arguments: string and length)</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span> <span class="comment">     */</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>     <span class="keywordtype">void</span> cmd_start_stop(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, <span class="keyword">const</span> <span class="keywordtype">char</span> *cmd_chr, <span class="keyword">const</span> <span class="keywordtype">char</span> *format = <span class="stringliteral">""</span>, ...);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span> <span class="comment"></span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span> <span class="comment">    /**</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span> <span class="comment">     * @brief at_cmd_str Send an AT command and read a single string response. Locks and unlocks ATHandler for operation</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span> <span class="comment">     * @param cmd AT command in form +&lt;CMD&gt; (will be used also in response reading, no extra chars allowed)</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span> <span class="comment">     * @param cmd_chr Char to be added to specific AT command: '?', '=' or ''. Will be used as such so '=1' is valid as well.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span> <span class="comment">     * @param resp_buf Response buffer</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span> <span class="comment">     * @param resp_buf_size Response buffer size</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span> <span class="comment">     * @param format Format string for variadic arguments to be added to AT command; No separator needed.</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span> <span class="comment">     *        Use %d for integer, %s for string and %b for byte string (requires 2 arguments: string and length)</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span> <span class="comment">     * @return last error that happened when parsing AT responses</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span> <span class="comment">     */</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>     <a class="code" href="group__netsocket.html#ga67a8f07758d2ee2a1809293fa52bdf14">nsapi_error_t</a> at_cmd_str(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, <span class="keyword">const</span> <span class="keywordtype">char</span> *cmd_chr, <span class="keywordtype">char</span> *resp_buf, <span class="keywordtype">size_t</span> resp_buf_size, <span class="keyword">const</span> <span class="keywordtype">char</span> *format = <span class="stringliteral">""</span>, ...);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span> <span class="comment"></span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span> <span class="comment">    /**</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span> <span class="comment">     * @brief at_cmd_int Send an AT command and read a single integer response. Locks and unlocks ATHandler for operation</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span> <span class="comment">     * @param cmd AT command in form +&lt;CMD&gt; (will be used also in response reading, no extra chars allowed)</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span> <span class="comment">     * @param cmd_chr Char to be added to specific AT command: '?', '=' or ''. Will be used as such so '=1' is valid as well.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span> <span class="comment">     * @param resp Integer to hold response</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span> <span class="comment">     * @param format Format string for variadic arguments to be added to AT command; No separator needed.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span> <span class="comment">     *        Use %d for integer, %s for string and %b for byte string (requires 2 arguments: string and length)</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span> <span class="comment">     * @return last error that happened when parsing AT responses</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span> <span class="comment">     */</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>     <a class="code" href="group__netsocket.html#ga67a8f07758d2ee2a1809293fa52bdf14">nsapi_error_t</a> at_cmd_int(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, <span class="keyword">const</span> <span class="keywordtype">char</span> *cmd_chr, <span class="keywordtype">int</span> &amp;resp, <span class="keyword">const</span> <span class="keywordtype">char</span> *format = <span class="stringliteral">""</span>, ...);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span> <span class="comment"></span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span> <span class="comment">    /**</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span> <span class="comment">     * @brief at_cmd_discard Send an AT command and read and discard a response. Locks and unlocks ATHandler for operation</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span> <span class="comment">     * @param cmd AT command in form +&lt;CMD&gt; (will be used also in response reading, no extra chars allowed)</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span> <span class="comment">     * @param cmd_chr Char to be added to specific AT command: '?', '=' or ''. Will be used as such so '=1' is valid as well.</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span> <span class="comment">     * @param format Format string for variadic arguments to be added to AT command; No separator needed.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span> <span class="comment">     *        Use %d for integer, %s for string and %b for byte string (requires 2 arguments: string and length)</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span> <span class="comment">     * @return last error that happened when parsing AT responses</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span> <span class="comment">     */</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>     <a class="code" href="group__netsocket.html#ga67a8f07758d2ee2a1809293fa52bdf14">nsapi_error_t</a> at_cmd_discard(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, <span class="keyword">const</span> <span class="keywordtype">char</span> *cmd_chr, <span class="keyword">const</span> <span class="keywordtype">char</span> *format = <span class="stringliteral">""</span>, ...);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span> <span class="comment"></span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span> <span class="comment">    /** Writes integer type AT command subparameter. Starts with the delimiter if not the first param after cmd_start.</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span> <span class="comment">     *  In case of failure when writing, the last error is set to NSAPI_ERROR_DEVICE_ERROR.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span> <span class="comment">     *</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span> <span class="comment">     *   @param param int to be written to modem as AT command subparameter</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span> <span class="comment">     */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>     <span class="keywordtype">void</span> write_int(int32_t param);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="comment"></span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span> <span class="comment">    /** Writes string type AT command subparamater. Quotes are added to surround the given string.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span> <span class="comment">     *  Starts with the delimiter if not the first param after cmd_start.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span> <span class="comment">     *  In case of failure when writing, the last error is set to NSAPI_ERROR_DEVICE_ERROR.</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span> <span class="comment">     *</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span> <span class="comment">     *  @param param string to be written to modem as AT command subparameter</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="comment">     *  @param useQuotations flag indicating whether the string should be included in quotation marks</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span> <span class="comment">     */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>     <span class="keywordtype">void</span> write_string(<span class="keyword">const</span> <span class="keywordtype">char</span> *param,  <span class="keywordtype">bool</span> useQuotations = <span class="keyword">true</span>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span> <span class="comment"></span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span> <span class="comment">    /** Stops the AT command by writing command-line terminator CR to mark command as finished.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span> <span class="comment">     */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>     <span class="keywordtype">void</span> cmd_stop();</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span> <span class="comment"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span> <span class="comment">    /** Stops the AT command by writing command-line terminator CR to mark command as finished and reads the OK/ERROR response.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span> <span class="comment">     *</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span> <span class="comment">     */</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>     <span class="keywordtype">void</span> cmd_stop_read_resp();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span> <span class="comment"></span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span> <span class="comment">    /** Write bytes without any subparameter delimiters, such as comma.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span> <span class="comment">     *  In case of failure when writing, the last error is set to NSAPI_ERROR_DEVICE_ERROR.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span> <span class="comment">     *</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span> <span class="comment">     *  @param data bytes to be written to modem</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span> <span class="comment">     *  @param len  length of data string</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span> <span class="comment">     *</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span> <span class="comment">     *  @return     number of characters successfully written</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span> <span class="comment">     */</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>     <span class="keywordtype">size_t</span> write_bytes(<span class="keyword">const</span> uint8_t *data, <span class="keywordtype">size_t</span> len);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span> <span class="comment"></span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span> <span class="comment">    /** Sets the stop tag for the current scope (response/information response/element)</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span> <span class="comment">     *  Parameter's reading routines will stop the reading when such tag is found and will set the found flag.</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span> <span class="comment">     *  Consume routines will read everything until such tag is found.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span> <span class="comment">     *</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span> <span class="comment">     *  @param stop_tag_seq string to be set as stop tag</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span> <span class="comment">     */</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>     <span class="keywordtype">void</span> set_stop_tag(<span class="keyword">const</span> <span class="keywordtype">char</span> *stop_tag_seq);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span> <span class="comment"></span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span> <span class="comment">    /** Sets the delimiter between parameters or between elements of the information response.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span> <span class="comment">     *  Parameter's reading routines will stop when such char is read.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span> <span class="comment">     *</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span> <span class="comment">     *  @param delimiter char to be set as _delimiter</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span> <span class="comment">     */</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>     <span class="keywordtype">void</span> set_delimiter(<span class="keywordtype">char</span> delimiter);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span> <span class="comment"></span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span> <span class="comment">    /** Sets the delimiter to default value defined by DEFAULT_DELIMITER.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span> <span class="comment">     */</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>     <span class="keywordtype">void</span> set_default_delimiter();</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span> <span class="comment"></span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span> <span class="comment">    /** Defines behaviour for using or ignoring the delimiter within an AT command</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> <span class="comment">     *</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span> <span class="comment">     *  @param use_delimiter indicating if delimiter should be used or not</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span> <span class="comment">     */</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>     <span class="keywordtype">void</span> use_delimiter(<span class="keywordtype">bool</span> use_delimiter);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span> <span class="comment"></span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span> <span class="comment">    /** Consumes the reading buffer up to the delimiter or stop_tag</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span> <span class="comment">     *</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span> <span class="comment">     *  @param count number of parameters to be skipped</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span> <span class="comment">     */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>     <span class="keywordtype">void</span> skip_param(uint32_t count = 1);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span> <span class="comment"></span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span> <span class="comment">    /** Consumes the given length from the reading buffer</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span> <span class="comment">     *</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span> <span class="comment">     *  @param len length to be consumed from reading buffer</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span> <span class="comment">     *  @param count number of parameters to be skipped</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span> <span class="comment">     */</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>     <span class="keywordtype">void</span> skip_param(ssize_t len, uint32_t count);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span> <span class="comment"></span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span> <span class="comment">    /** Reads given number of bytes from receiving buffer without checking any subparameter delimiters, such as comma.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span> <span class="comment">     *</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span> <span class="comment">     *  @param buf output buffer for the read</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span> <span class="comment">     *  @param len maximum number of bytes to read</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span> <span class="comment">     *  @return number of successfully read bytes or -1 in case of error</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span> <span class="comment">     */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>     ssize_t read_bytes(uint8_t *buf, <span class="keywordtype">size_t</span> len);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span> <span class="comment"></span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span> <span class="comment">    /** Reads chars from reading buffer. Terminates with null. Skips the quotation marks.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span> <span class="comment">     *  Stops on delimiter or stop tag.</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span> <span class="comment">     *</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span> <span class="comment">     *  @param str output buffer for the read</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span> <span class="comment">     *  @param size maximum number of chars to output including NULL</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span> <span class="comment">     *  @param read_even_stop_tag if true then try to read even if the stop tag was found previously</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span> <span class="comment">     *  @return length of output string or -1 in case of read timeout before delimiter or stop tag is found</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span> <span class="comment">     */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>     ssize_t read_string(<span class="keywordtype">char</span> *str, <span class="keywordtype">size_t</span> size, <span class="keywordtype">bool</span> read_even_stop_tag = <span class="keyword">false</span>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span> <span class="comment"></span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span> <span class="comment">    /** Reads chars representing hex ascii values and converts them to the corresponding chars.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span> <span class="comment">     *  For example: "4156" to "AV".</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span> <span class="comment">     *  Terminates with null. Skips the quotation marks.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span> <span class="comment">     *  Stops on delimiter or stop tag.</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span> <span class="comment">     *</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span> <span class="comment">     *  @param str output buffer for the read</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span> <span class="comment">     *  @param size maximum number of chars to output</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span> <span class="comment">     *  @return length of output string or -1 in case of read timeout before delimiter or stop tag is found</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span> <span class="comment">     */</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>     ssize_t read_hex_string(<span class="keywordtype">char</span> *str, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span> <span class="comment"></span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span> <span class="comment">    /** Converts contained chars to their hex ascii value and writes the resulting string to the file handle</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span> <span class="comment">     *  For example: "AV" to "4156".</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span> <span class="comment">     *</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span> <span class="comment">     *  @param str input buffer to be converted to hex ascii</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span> <span class="comment">     *  @param size of the input param str</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span> <span class="comment">     *  @param quote_string if true it will add the double-quote character at beginning and end of string</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span> <span class="comment">     */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>     <span class="keywordtype">void</span> write_hex_string(<span class="keyword">const</span> <span class="keywordtype">char</span> *str, <span class="keywordtype">size_t</span> size, <span class="keywordtype">bool</span> quote_string = <span class="keyword">true</span>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span> <span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span> <span class="comment">    /** Reads as string and converts result to integer. Supports only non-negative integers.</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span> <span class="comment">     *</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span> <span class="comment">     *  @return the non-negative integer or -1 in case of error.</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span> <span class="comment">     */</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>     int32_t read_int();</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span> <span class="comment"></span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span> <span class="comment">    /**  This looks for necessary matches: prefix, OK, ERROR, URCs and sets the correct scope.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span> <span class="comment">     *</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span> <span class="comment">     *  @param prefix string to be matched from receiving buffer. If not NULL and match succeeds, then scope</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span> <span class="comment">     *          will be set as information response(info_type)</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span> <span class="comment">     *  @param stop flag to indicate if we go to information response scope or not.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span> <span class="comment">     *        (needed when nothing is expected to be received anymore after the prefix match:</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span> <span class="comment">     *         sms case: "&gt; ", bc95 reboot case)</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span> <span class="comment">     */</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>     <span class="keywordtype">void</span> resp_start(<span class="keyword">const</span> <span class="keywordtype">char</span> *prefix = NULL, <span class="keywordtype">bool</span> stop = <span class="keyword">false</span>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span> <span class="comment"></span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span> <span class="comment">    /**  Ends all scopes starting from current scope.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span> <span class="comment">     *   Consumes everything until the scope's stop tag is found, then</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span> <span class="comment">     *   goes to next scope until response scope is ending.</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span> <span class="comment">     *   URC match is checked during response scope ending,</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span> <span class="comment">     *   for every new line / CRLF.</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span> <span class="comment">     *</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span> <span class="comment">     *</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span> <span class="comment">     *   Possible sequence:</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span> <span class="comment">     *   element scope -&gt; information response scope -&gt; response scope</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span> <span class="comment">     */</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>     <span class="keywordtype">void</span> resp_stop();</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span> <span class="comment"></span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span> <span class="comment">    /**  Looks for matching the prefix given to resp_start() call.</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span> <span class="comment">     *   If needed, it ends the scope of a previous information response.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span> <span class="comment">     *   Sets the information response scope if new prefix is found and response scope if prefix is not found.</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span> <span class="comment">     *</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span> <span class="comment">     *  @return true if prefix defined for information response is not empty string and is found,</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span> <span class="comment">     *          false otherwise.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span> <span class="comment">     */</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>     <span class="keywordtype">bool</span> info_resp();</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span> <span class="comment"></span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span> <span class="comment">    /**  Looks for matching the start tag.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span> <span class="comment">     *   If needed, it ends the scope of a previous element.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span> <span class="comment">     *   Sets the element scope if start tag is found and information response scope if start tag is not found.</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span> <span class="comment">     *</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span> <span class="comment">     *  @param start_tag tag to be matched to begin parsing an element of an information response</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span> <span class="comment">     *  @return true if new element is found, false otherwise</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span> <span class="comment">     */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>     <span class="keywordtype">bool</span> info_elem(<span class="keywordtype">char</span> start_tag);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span> <span class="comment"></span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span> <span class="comment">    /**  Consumes the received content until current stop tag is found.</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span> <span class="comment">     *</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span> <span class="comment">     *  @return true if stop tag is found, false otherwise</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span> <span class="comment">     */</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>     <span class="keywordtype">bool</span> consume_to_stop_tag();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span> <span class="comment"></span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span> <span class="comment">    /** Return the last 3GPP error code.</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span> <span class="comment">     *  @return last 3GPP error code</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span> <span class="comment">     */</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>     <span class="keywordtype">int</span> get_3gpp_error();</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span> </div><div class="line"><a name="l00416"></a><span class="lineno">  416</span> <span class="keyword">public</span>: <span class="comment">// just for debugging</span><span class="comment"></span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span> <span class="comment">    /**</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span> <span class="comment">     * AT debugging, when enabled will print all data read and written,</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span> <span class="comment">     * non-printable chars are printed as "[%d]".</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span> <span class="comment">     *</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span> <span class="comment">     * AT debug can be enabled at compile time using MBED_CONF_CELLULAR_DEBUG_AT flag or at runtime</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span> <span class="comment">     * calling set_debug(). Note that MBED_CONF_MBED_TRACE_ENABLE must also be enabled.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span> <span class="comment">     *</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span> <span class="comment">     *  @param debug_on Enable/disable debugging</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span> <span class="comment">     */</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>     <span class="keywordtype">void</span> set_debug(<span class="keywordtype">bool</span> debug_on);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span> <span class="comment"></span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span> <span class="comment">    /**</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span> <span class="comment">     * Get degug state set by @ref set_debug</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span> <span class="comment">     *</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span> <span class="comment">     *  @return current state of debug</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span> <span class="comment">     */</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>     <span class="keywordtype">bool</span> get_debug() <span class="keyword">const</span>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span> </div><div class="line"><a name="l00435"></a><span class="lineno">  435</span> <span class="keyword">private</span>: <span class="comment">//Private structs &amp; enums</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>     <span class="keyword">struct </span>tag_t {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>         <span class="keywordtype">char</span> tag[7];</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>         <span class="keywordtype">size_t</span> len;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>         <span class="keywordtype">bool</span> found;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>     };</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span> </div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>     <span class="keyword">struct </span>oob_t {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>         <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>         <span class="keywordtype">int</span> prefix_len;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>         <a class="code" href="classmbed_1_1_callback.html">Callback&lt;void()&gt;</a> cb;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>         oob_t *next;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>     };</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span> </div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>     <span class="comment">// resp_type: the part of the response that doesn't include the information response (+CMD1,+CMD2..)</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>     <span class="comment">//            ends with OK or (CME)(CMS)ERROR</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>     <span class="comment">// info_type: the information response part of the response: starts with +CMD1 and ends with CRLF</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>     <span class="comment">//            information response contains parameters or subsets of parameters (elements), both separated by comma</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>     <span class="comment">// elem_type: subsets of parameters that are part of information response, its parameters are separated by comma</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>     <span class="keyword">enum</span> ScopeType {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>         RespType,</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>         InfoType,</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>         ElemType,</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>         NotSet</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>     };</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span> </div><div class="line"><a name="l00461"></a><span class="lineno">  461</span> <span class="keyword">private</span>: <span class="comment">//Private functions</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>     <span class="keywordtype">void</span> event();</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span> <span class="comment"></span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span> <span class="comment">    /** Increase reference count. Used for counting references to this instance.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span> <span class="comment">     *  Note that this should be used with care, if the ATHandler was taken into use</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span> <span class="comment">     *  with get_instance()</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span> <span class="comment">     */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>     <span class="keywordtype">void</span> inc_ref_count();</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span> <span class="comment"></span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span> <span class="comment">    /** Decrease reference count. Used for counting references to this instance.</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span> <span class="comment">     *  Note that this should be used with care, if the ATHandler was taken into use</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span> <span class="comment">     *  with get_instance()</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span> <span class="comment">     */</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>     <span class="keywordtype">void</span> dec_ref_count();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span> <span class="comment"></span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span> <span class="comment">    /** Get the current reference count. Used for counting references to this instance.</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span> <span class="comment">     *</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span> <span class="comment">     *  @return current reference count</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span> <span class="comment">     */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>     <span class="keywordtype">int</span> get_ref_count();</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span> <span class="comment"></span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span> <span class="comment">    /** Remove urc handler from linked list of urc's</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span> <span class="comment">     *</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span> <span class="comment">     *  @param prefix   Register urc prefix for callback. Urc could be for example "+CMTI: "</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span> <span class="comment">     */</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>     <span class="keywordtype">void</span> remove_urc_handler(<span class="keyword">const</span> <span class="keywordtype">char</span> *prefix);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span> </div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>     <span class="keywordtype">void</span> set_error(<a class="code" href="group__netsocket.html#ga67a8f07758d2ee2a1809293fa52bdf14">nsapi_error_t</a> err);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span> </div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>     <span class="comment">//Handles the arguments from given variadic list</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>     <span class="keywordtype">void</span> handle_args(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, std::va_list <a class="code" href="structlist.html">list</a>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span> </div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>     <span class="comment">//Starts an AT command based on given parameters</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>     <span class="keywordtype">void</span> handle_start(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, <span class="keyword">const</span> <span class="keywordtype">char</span> *cmd_chr);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span> </div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>     <span class="comment">//Checks that ATHandler does not have a pending error condition and filehandle is usable</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>     <span class="keywordtype">bool</span> ok_to_proceed();</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span> </div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>     <span class="comment">// Gets char from receiving buffer.</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>     <span class="comment">// Resets and fills the buffer if all are already read (receiving position equals receiving length).</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>     <span class="comment">// Returns a next char or -1 on failure (also sets error flag)</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>     <span class="keywordtype">int</span> get_char();</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>     <span class="comment">// Sets to 0 the reading position, reading length and the whole buffer content.</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>     <span class="keywordtype">void</span> reset_buffer();</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>     <span class="comment">// Reading position set to 0 and buffer's unread content moved to beginning</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>     <span class="keywordtype">void</span> rewind_buffer();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>     <span class="comment">// Calculate remaining time for polling based on request start time and AT timeout.</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>     <span class="comment">// Returns 0 or time in ms for polling.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>     <span class="keywordtype">int</span> poll_timeout(<span class="keywordtype">bool</span> wait_for_timeout = <span class="keyword">true</span>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>     <span class="comment">// Reads from serial to receiving buffer.</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>     <span class="comment">// Returns true on successful read OR false on timeout.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>     <span class="keywordtype">bool</span> fill_buffer(<span class="keywordtype">bool</span> wait_for_timeout = <span class="keyword">true</span>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span> </div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>     <span class="keywordtype">void</span> set_tag(tag_t *tag_dest, <span class="keyword">const</span> <span class="keywordtype">char</span> *tag_seq);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span> </div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>     <span class="comment">// Rewinds the receiving buffer and compares it against given str.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>     <span class="keywordtype">bool</span> match(<span class="keyword">const</span> <span class="keywordtype">char</span> *str, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>     <span class="comment">// Iterates URCs and checks if they match the receiving buffer content.</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>     <span class="comment">// If URC match sets the scope to information response and after urc's cb returns</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>     <span class="comment">// finishes the information response scope(consumes to CRLF).</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>     <span class="keywordtype">bool</span> match_urc();</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>     <span class="comment">// Checks if any of the error strings are matching the receiving buffer content.</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>     <span class="keywordtype">bool</span> match_error();</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>     <span class="comment">// Checks if current char in buffer matches ch and consumes it,</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>     <span class="comment">// if no match lets the buffer unchanged.</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>     <span class="keywordtype">bool</span> consume_char(<span class="keywordtype">char</span> ch);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>     <span class="comment">// Consumes the received content until tag is found.</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>     <span class="comment">// Consumes the tag only if consume_tag flag is true.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>     <span class="keywordtype">bool</span> consume_to_tag(<span class="keyword">const</span> <span class="keywordtype">char</span> *tag, <span class="keywordtype">bool</span> consume_tag);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>     <span class="comment">// Checks if receiving buffer contains OK, ERROR, URC or given prefix.</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>     <span class="keywordtype">void</span> resp(<span class="keyword">const</span> <span class="keywordtype">char</span> *prefix, <span class="keywordtype">bool</span> check_urc);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span> </div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>     <span class="keywordtype">void</span> set_scope(ScopeType scope_type);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span> </div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>     ScopeType get_scope();</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span> </div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>     <span class="comment">// Consumes to information response stop tag which is CRLF. Sets scope to response.</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>     <span class="keywordtype">void</span> information_response_stop();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>     <span class="comment">// Consumes to element stop tag. Sets scope to information response</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>     <span class="keywordtype">void</span> information_response_element_stop();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span> </div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>     <span class="comment">// Reads the error code if expected and sets it as last error.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>     <span class="keywordtype">void</span> at_error(<span class="keywordtype">bool</span> error_code, DeviceErrorType error_type);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span> <span class="comment"></span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span> <span class="comment">    /** Convert AT error code to 3GPP error codes</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span> <span class="comment">     *  @param err AT error code read from CME/CMS ERROR responses</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span> <span class="comment">     *  @param error_type error type (CMS/CME/ERROR)</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span> <span class="comment">     */</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>     <span class="keywordtype">void</span> set_3gpp_error(<span class="keywordtype">int</span> err, DeviceErrorType error_type);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span> </div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>     <span class="keywordtype">bool</span> check_cmd_send();</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>     <span class="keywordtype">size_t</span> write(<span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> len);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span> <span class="comment"></span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span> <span class="comment">    /** Finds occurrence of one char buffer inside another char buffer.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span> <span class="comment">     *</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span> <span class="comment">     * @param dest                  destination char buffer</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span> <span class="comment">     * @param dest_len              length of dest</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span> <span class="comment">     * @param src                   string to be searched for</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span> <span class="comment">     * @param src_len               length of string to be searched for</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span> <span class="comment">     *</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span> <span class="comment">     * @return pointer to first occurrence of src in dest</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span> <span class="comment">     */</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>     <span class="keyword">const</span> <span class="keywordtype">char</span> *mem_str(<span class="keyword">const</span> <span class="keywordtype">char</span> *dest, <span class="keywordtype">size_t</span> dest_len, <span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keywordtype">size_t</span> src_len);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span> </div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>     <span class="comment">// check is urc is already added</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>     <span class="keywordtype">bool</span> find_urc_handler(<span class="keyword">const</span> <span class="keywordtype">char</span> *prefix);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span> </div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>     <span class="comment">// print contents of a buffer to trace log</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>     <span class="keyword">enum</span> ATType {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>         AT_ERR,</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>         AT_RX,</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>         AT_TX</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>     };</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span> </div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>     <span class="keywordtype">void</span> debug_print(<span class="keyword">const</span> <span class="keywordtype">char</span> *p, <span class="keywordtype">int</span> len, ATType type);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span> </div><div class="line"><a name="l00577"></a><span class="lineno">  577</span> <span class="keyword">private</span>: <span class="comment">//Member variables</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span> </div><div class="line"><a name="l00579"></a><span class="lineno">  579</span> <span class="preprocessor">#if defined AT_HANDLER_MUTEX &amp;&amp; defined MBED_CONF_RTOS_PRESENT</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>     <a class="code" href="classrtos_1_1_mutex.html">rtos::Mutex</a> _fileHandleMutex;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>     <a class="code" href="classrtos_1_1_condition_variable.html">rtos::ConditionVariable</a> _oobCv;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>     <a class="code" href="classmbed_1_1_file_handle.html">FileHandle</a> *_fileHandle;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span> </div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>     <a class="code" href="classevents_1_1_event_queue.html">events::EventQueue</a> &amp;_queue;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>     <a class="code" href="group__netsocket.html#ga67a8f07758d2ee2a1809293fa52bdf14">nsapi_error_t</a> _last_err;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>     <span class="keywordtype">int</span> _last_3gpp_error;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>     <a class="code" href="structmbed_1_1device__err__t.html">device_err_t</a>  _last_at_err;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>     uint16_t _oob_string_max_length;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>     <span class="keywordtype">char</span> *_output_delimiter;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span> </div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>     oob_t *_oobs;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>     mbed::chrono::milliseconds_u32 _at_timeout;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>     mbed::chrono::milliseconds_u32 _previous_at_timeout;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span> </div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>     std::chrono::duration&lt;uint16_t, std::milli&gt; _at_send_delay;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>     rtos::Kernel::Clock::time_point _last_response_stop;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span> </div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>     int32_t _ref_count;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>     <span class="keywordtype">bool</span> _is_fh_usable;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span> </div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>     <span class="comment">// should fit any prefix and int</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>     <span class="keywordtype">char</span> _recv_buff[MBED_CONF_CELLULAR_AT_HANDLER_BUFFER_SIZE];</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>     <span class="comment">// reading position</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>     <span class="keywordtype">size_t</span> _recv_len;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>     <span class="comment">// reading length</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>     <span class="keywordtype">size_t</span> _recv_pos;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span> </div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>     ScopeType _current_scope;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span> </div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>     <span class="comment">// tag to stop response scope</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>     tag_t _resp_stop;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>     <span class="comment">// tag to stop information response scope</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>     tag_t _info_stop;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>     <span class="comment">// tag to stop element scope</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>     tag_t _elem_stop;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>     <span class="comment">// reference to the stop tag of current scope (resp/info/elem)</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>     tag_t *_stop_tag;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span> </div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>     <span class="comment">// delimiter between parameters and also used for delimiting elements of information response</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>     <span class="keywordtype">char</span> _delimiter;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>     <span class="comment">// set true on prefix match -&gt; indicates start of an information response or of an element</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>     <span class="keywordtype">bool</span> _prefix_matched;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>     <span class="comment">// set true on urc match</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>     <span class="keywordtype">bool</span> _urc_matched;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>     <span class="comment">// set true on (CME)(CMS)ERROR</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>     <span class="keywordtype">bool</span> _error_found;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>     <span class="comment">// Max length of OK,(CME)(CMS)ERROR and URCs</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>     <span class="keywordtype">size_t</span> _max_resp_length;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span> </div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>     <span class="comment">// prefix set during resp_start and used to try matching possible information responses</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>     <span class="keywordtype">char</span> _info_resp_prefix[MBED_CONF_CELLULAR_AT_HANDLER_BUFFER_SIZE];</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>     <span class="keywordtype">bool</span> _debug_on;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>     <span class="keywordtype">bool</span> _cmd_start;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>     <span class="keywordtype">bool</span> _use_delimiter;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span> </div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>     <span class="comment">// time when a command or an URC processing was started</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>     rtos::Kernel::Clock::time_point _start_time;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>     <span class="comment">// eventqueue event id</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>     <span class="keywordtype">int</span> _event_id;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span> </div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>     <span class="keywordtype">char</span> _cmd_buffer[MBED_CONF_CELLULAR_AT_HANDLER_BUFFER_SIZE];</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span> };</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span> </div><div class="line"><a name="l00645"></a><span class="lineno">  645</span> } <span class="comment">// namespace mbed</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span> </div><div class="line"><a name="l00647"></a><span class="lineno">  647</span> <span class="preprocessor">#endif //AT_HANDLER_H_</span></div><div class="ttc" id="classevents_1_1_event_queue_html"><div class="ttname"><a href="classevents_1_1_event_queue.html">events::EventQueue</a></div><div class="ttdoc">EventQueue. </div><div class="ttdef"><b>Definition:</b> <a href="_event_queue_8h_source.html#l00062">EventQueue.h:62</a></div></div>
<div class="ttc" id="group__netsocket_html_ga67a8f07758d2ee2a1809293fa52bdf14"><div class="ttname"><a href="group__netsocket.html#ga67a8f07758d2ee2a1809293fa52bdf14">nsapi_error_t</a></div><div class="ttdeci">signed int nsapi_error_t</div><div class="ttdoc">Type used to represent error codes. </div><div class="ttdef"><b>Definition:</b> <a href="nsapi__types_8h_source.html#l00142">nsapi_types.h:142</a></div></div>
<div class="ttc" id="classmbed_1_1_file_handle_html"><div class="ttname"><a href="classmbed_1_1_file_handle.html">mbed::FileHandle</a></div><div class="ttdoc">Class FileHandle. </div><div class="ttdef"><b>Definition:</b> <a href="_file_handle_8h_source.html#l00046">FileHandle.h:46</a></div></div>
<div class="ttc" id="group__platform___callback_html_ga1104a807bfce1d1dc38e4d1eeba6ed17"><div class="ttname"><a href="group__platform___callback.html#ga1104a807bfce1d1dc38e4d1eeba6ed17">mbed::callback</a></div><div class="ttdeci">Callback&lt; R(ArgTs...)&gt; callback(R(*func)(ArgTs...)=nullptr) noexcept</div><div class="ttdoc">Create a callback class with type inferred from the arguments. </div><div class="ttdef"><b>Definition:</b> <a href="_callback_8h_source.html#l00678">Callback.h:678</a></div></div>
<div class="ttc" id="classrtos_1_1_mutex_html"><div class="ttname"><a href="classrtos_1_1_mutex.html">rtos::Mutex</a></div><div class="ttdoc">The Mutex class is used to synchronize the execution of threads. </div><div class="ttdef"><b>Definition:</b> <a href="_mutex_8h_source.html#l00070">Mutex.h:70</a></div></div>
<div class="ttc" id="structmbed_1_1device__err__t_html"><div class="ttname"><a href="structmbed_1_1device__err__t.html">mbed::device_err_t</a></div><div class="ttdoc">AT response error with error code and type. </div><div class="ttdef"><b>Definition:</b> <a href="_a_t_handler_8h_source.html#l00062">ATHandler.h:62</a></div></div>
<div class="ttc" id="classrtos_1_1_condition_variable_html"><div class="ttname"><a href="classrtos_1_1_condition_variable.html">rtos::ConditionVariable</a></div><div class="ttdoc">The ConditionVariable class is a synchronization primitive that allows threads to wait until a partic...</div><div class="ttdef"><b>Definition:</b> <a href="_condition_variable_8h_source.html#l00168">ConditionVariable.h:168</a></div></div>
<div class="ttc" id="structlist_html"><div class="ttname"><a href="structlist.html">list</a></div><div class="ttdoc">Connected isochronous stream linked list. </div><div class="ttdef"><b>Definition:</b> <a href="lctr__int__cis_8h_source.html#l00306">lctr_int_cis.h:306</a></div></div>
<div class="ttc" id="classmbed_1_1_callback_html"><div class="ttname"><a href="classmbed_1_1_callback.html">mbed::Callback</a></div><div class="ttdoc">Callback class based on template specialization. </div><div class="ttdef"><b>Definition:</b> <a href="_callback_8h_source.html#l00053">Callback.h:53</a></div></div>
<div class="ttc" id="namespacembed_html"><div class="ttname"><a href="namespacembed.html">mbed</a></div><div class="ttdef"><b>Definition:</b> <a href="_a_t_handler_8h_source.html#l00046">ATHandler.h:46</a></div></div>
<div class="ttc" id="classmbed_1_1_a_t_handler_html"><div class="ttname"><a href="classmbed_1_1_a_t_handler.html">mbed::ATHandler</a></div><div class="ttdoc">Class for sending AT commands and parsing AT responses. </div><div class="ttdef"><b>Definition:</b> <a href="_a_t_handler_8h_source.html#l00068">ATHandler.h:68</a></div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/_a_t_handler_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:21:19 GMT -->
</html>
