<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/ip_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:24:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | ip.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="ip_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/ip_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/ip_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_656714f9000830b7293277f30e3fdca8.html">lwipstack</a></li><li class="navelem"><a class="el" href="dir_51bed4128c7c35e28f2b56d9a4d3889d.html">lwip</a></li><li class="navelem"><a class="el" href="dir_a2f77adba6621efb54744c8be588cd6c.html">src</a></li><li class="navelem"><a class="el" href="dir_d881691941f72a257ee32ad5471a029d.html">include</a></li><li class="navelem"><a class="el" href="dir_3fb69e7ecf761e536af7cd2ef4e3092c.html">lwip</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ip.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ip_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment">/**</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment"> * @file</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment"> * IP API</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment"> */</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> </div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> <span class="comment">/*</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment"> * Copyright (c) 2001-2004 Swedish Institute of Computer Science.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment"> * All rights reserved.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment"> * Redistribution and use in source and binary forms, with or without modification,</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment"> * are permitted provided that the following conditions are met:</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment"> * 1. Redistributions of source code must retain the above copyright notice,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment"> *    this list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright notice,</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> <span class="comment"> *    this list of conditions and the following disclaimer in the documentation</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> <span class="comment"> *    and/or other materials provided with the distribution.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> <span class="comment"> * 3. The name of the author may not be used to endorse or promote products</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> <span class="comment"> *    derived from this software without specific prior written permission.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> <span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="comment"> * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> <span class="comment"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="comment"> * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> <span class="comment"> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> <span class="comment"> * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> <span class="comment"> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> <span class="comment"> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> <span class="comment"> * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="comment"> * OF SUCH DAMAGE.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> <span class="comment"> *</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="comment"> * This file is part of the lwIP TCP/IP stack.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> <span class="comment"> *</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="comment"> * Author: Adam Dunkels &lt;adam@sics.se&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> <span class="comment"> *</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> <span class="comment"> */</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> <span class="preprocessor">#ifndef LWIP_HDR_IP_H</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="preprocessor">#define LWIP_HDR_IP_H</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> </div><div class="line"><a name="l00040"></a><span class="lineno">   40</span> <span class="preprocessor">#include "<a class="code" href="opt_8h.html">lwip/opt.h</a>"</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> </div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> <span class="preprocessor">#include "<a class="code" href="def_8h.html">lwip/def.h</a>"</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span> <span class="preprocessor">#include "<a class="code" href="pbuf_8h.html">lwip/pbuf.h</a>"</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> <span class="preprocessor">#include "<a class="code" href="ip__addr_8h.html">lwip/ip_addr.h</a>"</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> <span class="preprocessor">#include "<a class="code" href="err_8h.html">lwip/err.h</a>"</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> <span class="preprocessor">#include "<a class="code" href="netif_8h.html">lwip/netif.h</a>"</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span> <span class="preprocessor">#include "<a class="code" href="ip4_8h.html">lwip/ip4.h</a>"</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span> <span class="preprocessor">#include "<a class="code" href="ip6_8h.html">lwip/ip6.h</a>"</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span> <span class="preprocessor">#include "<a class="code" href="prot_2ip_8h.html">lwip/prot/ip.h</a>"</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span> </div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span> <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> </div><div class="line"><a name="l00055"></a><span class="lineno">   55</span> <span class="comment">/* This is passed as the destination address to ip_output_if (not</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span> <span class="comment">   to ip_output), meaning that an IP header already is constructed</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span> <span class="comment">   in the pbuf. This is used when TCP retransmits. */</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span> <span class="preprocessor">#define LWIP_IP_HDRINCL  NULL</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span> <span class="comment"></span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span> <span class="comment">/** pbufs passed to IP must have a ref-count of 1 as their payload pointer</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span> <span class="comment">    gets altered as the packet is passed down the stack */</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span> <span class="preprocessor">#ifndef LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="ip_8h.html#a355679dba1c0d8ef07ce3abcd28e3063">   63</a></span> <span class="preprocessor">#define LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX(p) LWIP_ASSERT("p-&gt;ref == 1", (p)-&gt;ref == 1)</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span> </div><div class="line"><a name="l00066"></a><span class="lineno">   66</span> <span class="preprocessor">#if LWIP_NETIF_USE_HINTS</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span> <span class="preprocessor">#define IP_PCB_NETIFHINT ;struct netif_hint netif_hints</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span> <span class="preprocessor">#else </span><span class="comment">/* LWIP_NETIF_USE_HINTS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span> <span class="preprocessor">#define IP_PCB_NETIFHINT</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_NETIF_USE_HINTS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> <span class="comment"></span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span> <span class="comment">/** This is the common part of all PCB types. It needs to be at the</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span> <span class="comment">   beginning of a PCB type definition. It is located here so that</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span> <span class="comment">   changes to this common part are made in one location instead of</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span> <span class="comment">   having to change all PCB structs. */</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="ip_8h.html#a8bdf4b5f674375e76cdd968826d80e53">   76</a></span> <span class="preprocessor">#define IP_PCB                             \</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span> <span class="preprocessor">  </span><span class="comment">/* ip addresses in network byte order */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span> <span class="preprocessor">  ip_addr_t local_ip;                      \</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span> <span class="preprocessor">  ip_addr_t remote_ip;                     \</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span> <span class="preprocessor">  </span><span class="comment">/* Bound netif index */</span><span class="preprocessor">                  \</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span> <span class="preprocessor">  u8_t netif_idx;                          \</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span> <span class="preprocessor">  </span><span class="comment">/* Socket options */</span><span class="preprocessor">                     \</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span> <span class="preprocessor">  u8_t so_options;                         \</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span> <span class="preprocessor">  </span><span class="comment">/* Type Of Service */</span><span class="preprocessor">                    \</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span> <span class="preprocessor">  u8_t tos;                                \</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span> <span class="preprocessor">  </span><span class="comment">/* Time To Live */</span><span class="preprocessor">                       \</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> <span class="preprocessor">  u8_t ttl                                 \</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span> <span class="preprocessor">  </span><span class="comment">/* link layer address resolution hint */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span> <span class="preprocessor">  IP_PCB_NETIFHINT</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span> </div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structip__pcb.html">   91</a></span> <span class="keyword">struct </span><a class="code" href="structip__pcb.html">ip_pcb</a> {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>   <span class="comment">/* Common members of all PCB types */</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>   <a class="code" href="ip_8h.html#a8bdf4b5f674375e76cdd968826d80e53">IP_PCB</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span> };</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span> </div><div class="line"><a name="l00096"></a><span class="lineno">   96</span> <span class="comment">/*</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span> <span class="comment"> * Option flags per-socket. These are the same like SO_XXX in sockets.h</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span> <span class="comment"> */</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span> <span class="preprocessor">#define SOF_REUSEADDR     0x04U  </span><span class="comment">/* allow local address reuse */</span><span class="preprocessor"></span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span> <span class="preprocessor">#define SOF_KEEPALIVE     0x08U  </span><span class="comment">/* keep connections alive */</span><span class="preprocessor"></span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span> <span class="preprocessor">#define SOF_BROADCAST     0x20U  </span><span class="comment">/* permit to send and to receive broadcast messages (see IP_SOF_BROADCAST option) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span> </div><div class="line"><a name="l00103"></a><span class="lineno">  103</span> <span class="comment">/* These flags are inherited (e.g. from a listen-pcb to a connection-pcb): */</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span> <span class="preprocessor">#define SOF_INHERITED   (SOF_REUSEADDR|SOF_KEEPALIVE)</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span> <span class="comment"></span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span> <span class="comment">/** Global variables of this module, kept in a struct for efficient access using base+index. */</span></div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structip__globals.html">  107</a></span> <span class="keyword">struct </span><a class="code" href="structip__globals.html">ip_globals</a></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span> {<span class="comment"></span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span> <span class="comment">  /** The interface that accepted the packet for the current callback invocation. */</span></div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structip__globals.html#aabce496c19c6ae4000174c8af8a4a913">  110</a></span>   <span class="keyword">struct </span><a class="code" href="structnetif.html">netif</a> *<a class="code" href="structip__globals.html#aabce496c19c6ae4000174c8af8a4a913">current_netif</a>;<span class="comment"></span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span> <span class="comment">  /** The interface that received the packet for the current callback invocation. */</span></div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structip__globals.html#a6c88f1e982cd25410d2b7a63b52b3360">  112</a></span>   <span class="keyword">struct </span><a class="code" href="structnetif.html">netif</a> *<a class="code" href="structip__globals.html#a6c88f1e982cd25410d2b7a63b52b3360">current_input_netif</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span> <span class="preprocessor">#if LWIP_IPV4</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span> <span class="comment">  /** Header of the input packet currently being processed. */</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structip__hdr.html">ip_hdr</a> *current_ip4_header;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_IPV4 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span> <span class="preprocessor">#if LWIP_IPV6</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span> <span class="comment">  /** Header of the input IPv6 packet currently being processed. */</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>   <span class="keyword">struct </span><a class="code" href="structip6__hdr.html">ip6_hdr</a> *current_ip6_header;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span> <span class="comment">  /** Total header length of current_ip4/6_header (i.e. after this, the UDP/TCP header starts) */</span></div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structip__globals.html#abed5b6e2fca2ed67a37e699560117e59">  122</a></span>   u16_t <a class="code" href="structip__globals.html#abed5b6e2fca2ed67a37e699560117e59">current_ip_header_tot_len</a>;<span class="comment"></span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span> <span class="comment">  /** Source IP address of current_header */</span></div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structip__globals.html#a312380e254b06dd3041065a3ec27264b">  124</a></span>   <a class="code" href="structnsapi__addr.html">ip_addr_t</a> <a class="code" href="structip__globals.html#a312380e254b06dd3041065a3ec27264b">current_iphdr_src</a>;<span class="comment"></span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span> <span class="comment">  /** Destination IP address of current_header */</span></div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structip__globals.html#a63c0914cf407e33af9b47061bd6ae40d">  126</a></span>   <a class="code" href="structnsapi__addr.html">ip_addr_t</a> <a class="code" href="structip__globals.html#a63c0914cf407e33af9b47061bd6ae40d">current_iphdr_dest</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span> };</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span> <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structip__globals.html">ip_globals</a> ip_data;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span> </div><div class="line"><a name="l00130"></a><span class="lineno">  130</span> <span class="comment"></span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span> <span class="comment">/** Get the interface that accepted the current packet.</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span> <span class="comment"> * This may or may not be the receiving netif, depending on your netif/network setup.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span> <span class="comment"> * This function must only be called from a receive callback (udp_recv,</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span> <span class="comment"> * raw_recv, tcp_accept). It will return NULL otherwise. */</span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="ip_8h.html#acc693fd70370a3d84f985eeb38713de2">  135</a></span> <span class="preprocessor">#define ip_current_netif()      (ip_data.current_netif)</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span> <span class="comment">/** Get the interface that received the current packet.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span> <span class="comment"> * This function must only be called from a receive callback (udp_recv,</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span> <span class="comment"> * raw_recv, tcp_accept). It will return NULL otherwise. */</span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="ip_8h.html#ae214afa9d3f1b26fc8d538436b8fa3c4">  139</a></span> <span class="preprocessor">#define ip_current_input_netif() (ip_data.current_input_netif)</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span> <span class="comment">/** Total header length of ip(6)_current_header() (i.e. after this, the UDP/TCP header starts) */</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="ip_8h.html#a2ca15ea285a10982294378cd7b8e83e2">  141</a></span> <span class="preprocessor">#define ip_current_header_tot_len() (ip_data.current_ip_header_tot_len)</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span> <span class="comment">/** Source IP address of current_header */</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span> <span class="preprocessor">#define ip_current_src_addr()   (&amp;ip_data.current_iphdr_src)</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span> <span class="comment">/** Destination IP address of current_header */</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span> <span class="preprocessor">#define ip_current_dest_addr()  (&amp;ip_data.current_iphdr_dest)</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span> </div><div class="line"><a name="l00147"></a><span class="lineno">  147</span> <span class="preprocessor">#if LWIP_IPV4 &amp;&amp; LWIP_IPV6</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span> <span class="comment">/** Get the IPv4 header of the current packet.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span> <span class="comment"> * This function must only be called from a receive callback (udp_recv,</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span> <span class="comment"> * raw_recv, tcp_accept). It will return NULL otherwise. */</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span> <span class="preprocessor">#define ip4_current_header()     ip_data.current_ip4_header</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span> <span class="comment">/** Get the IPv6 header of the current packet.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span> <span class="comment"> * This function must only be called from a receive callback (udp_recv,</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span> <span class="comment"> * raw_recv, tcp_accept). It will return NULL otherwise. */</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span> <span class="preprocessor">#define ip6_current_header()      ((const struct ip6_hdr*)(ip_data.current_ip6_header))</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span> <span class="comment">/** Returns TRUE if the current IP input packet is IPv6, FALSE if it is IPv4 */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span> <span class="preprocessor">#define ip_current_is_v6()        (ip6_current_header() != NULL)</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span> <span class="comment">/** Source IPv6 address of current_header */</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span> <span class="preprocessor">#define ip6_current_src_addr()    (ip_2_ip6(&amp;ip_data.current_iphdr_src))</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span> <span class="comment">/** Destination IPv6 address of current_header */</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span> <span class="preprocessor">#define ip6_current_dest_addr()   (ip_2_ip6(&amp;ip_data.current_iphdr_dest))</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span> <span class="comment">/** Get the transport layer protocol */</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span> <span class="preprocessor">#define ip_current_header_proto() (ip_current_is_v6() ? \</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span> <span class="preprocessor">                                   IP6H_NEXTH(ip6_current_header()) :\</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span> <span class="preprocessor">                                   IPH_PROTO(ip4_current_header()))</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span> <span class="comment">/** Get the transport layer header */</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span> <span class="preprocessor">#define ip_next_header_ptr()     ((const void*)((ip_current_is_v6() ? \</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span> <span class="preprocessor">  (const u8_t*)ip6_current_header() : (const u8_t*)ip4_current_header())  + ip_current_header_tot_len()))</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span> <span class="comment"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span> <span class="comment">/** Source IP4 address of current_header */</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span> <span class="preprocessor">#define ip4_current_src_addr()     (ip_2_ip4(&amp;ip_data.current_iphdr_src))</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span> <span class="comment">/** Destination IP4 address of current_header */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span> <span class="preprocessor">#define ip4_current_dest_addr()    (ip_2_ip4(&amp;ip_data.current_iphdr_dest))</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span> </div><div class="line"><a name="l00175"></a><span class="lineno">  175</span> <span class="preprocessor">#elif LWIP_IPV4 </span><span class="comment">/* LWIP_IPV4 &amp;&amp; LWIP_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span> <span class="comment"></span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span> <span class="comment">/** Get the IPv4 header of the current packet.</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span> <span class="comment"> * This function must only be called from a receive callback (udp_recv,</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span> <span class="comment"> * raw_recv, tcp_accept). It will return NULL otherwise. */</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span> <span class="preprocessor">#define ip4_current_header()     ip_data.current_ip4_header</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span> <span class="comment">/** Always returns FALSE when only supporting IPv4 only */</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span> <span class="preprocessor">#define ip_current_is_v6()        0</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span> <span class="comment">/** Get the transport layer protocol */</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span> <span class="preprocessor">#define ip_current_header_proto() IPH_PROTO(ip4_current_header())</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span> <span class="comment">/** Get the transport layer header */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span> <span class="preprocessor">#define ip_next_header_ptr()     ((const void*)((const u8_t*)ip4_current_header() + ip_current_header_tot_len()))</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span> <span class="comment">/** Source IP4 address of current_header */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span> <span class="preprocessor">#define ip4_current_src_addr()     (&amp;ip_data.current_iphdr_src)</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span> <span class="comment">/** Destination IP4 address of current_header */</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> <span class="preprocessor">#define ip4_current_dest_addr()    (&amp;ip_data.current_iphdr_dest)</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span> </div><div class="line"><a name="l00192"></a><span class="lineno">  192</span> <span class="preprocessor">#elif LWIP_IPV6 </span><span class="comment">/* LWIP_IPV4 &amp;&amp; LWIP_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span> <span class="comment"></span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span> <span class="comment">/** Get the IPv6 header of the current packet.</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span> <span class="comment"> * This function must only be called from a receive callback (udp_recv,</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span> <span class="comment"> * raw_recv, tcp_accept). It will return NULL otherwise. */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span> <span class="preprocessor">#define ip6_current_header()      ((const struct ip6_hdr*)(ip_data.current_ip6_header))</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span> <span class="comment">/** Always returns TRUE when only supporting IPv6 only */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span> <span class="preprocessor">#define ip_current_is_v6()        1</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span> <span class="comment">/** Get the transport layer protocol */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span> <span class="preprocessor">#define ip_current_header_proto() IP6H_NEXTH(ip6_current_header())</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span> <span class="comment">/** Get the transport layer header */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span> <span class="preprocessor">#define ip_next_header_ptr()     ((const void*)(((const u8_t*)ip6_current_header()) + ip_current_header_tot_len()))</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span> <span class="comment">/** Source IP6 address of current_header */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span> <span class="preprocessor">#define ip6_current_src_addr()    (&amp;ip_data.current_iphdr_src)</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span> <span class="comment">/** Destination IP6 address of current_header */</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span> <span class="preprocessor">#define ip6_current_dest_addr()   (&amp;ip_data.current_iphdr_dest)</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span> </div><div class="line"><a name="l00209"></a><span class="lineno">  209</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span> <span class="comment"></span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span> <span class="comment">/** Union source address of current_header */</span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="ip_8h.html#a31dfcab241758a26dad005424d8dc2f3">  212</a></span> <span class="preprocessor">#define ip_current_src_addr()    (&amp;ip_data.current_iphdr_src)</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span> <span class="comment">/** Union destination address of current_header */</span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="ip_8h.html#a399b972d80f022269f61d91ea1335554">  214</a></span> <span class="preprocessor">#define ip_current_dest_addr()   (&amp;ip_data.current_iphdr_dest)</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span> <span class="comment"></span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span> <span class="comment">/** Gets an IP pcb option (SOF_* flags) */</span></div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="ip_8h.html#a4c356110b23cf625197006c5aa156108">  217</a></span> <span class="preprocessor">#define ip_get_option(pcb, opt)   ((pcb)-&gt;so_options &amp; (opt))</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span> <span class="comment">/** Sets an IP pcb option (SOF_* flags) */</span></div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="ip_8h.html#a54d1ecf442b3cf065955bff108b4a589">  219</a></span> <span class="preprocessor">#define ip_set_option(pcb, opt)   ((pcb)-&gt;so_options = (u8_t)((pcb)-&gt;so_options | (opt)))</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span> <span class="comment">/** Resets an IP pcb option (SOF_* flags) */</span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="ip_8h.html#a441c63f00c4b0cb69fc34ca6b55307cc">  221</a></span> <span class="preprocessor">#define ip_reset_option(pcb, opt) ((pcb)-&gt;so_options = (u8_t)((pcb)-&gt;so_options &amp; ~(opt)))</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span> </div><div class="line"><a name="l00223"></a><span class="lineno">  223</span> <span class="preprocessor">#if LWIP_IPV4 &amp;&amp; LWIP_IPV6</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span> <span class="comment">/**</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span> <span class="comment"> * @ingroup ip</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span> <span class="comment"> * Output IP packet, netif is selected by source address</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span> <span class="comment"> */</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span> <span class="preprocessor">#define ip_output(p, src, dest, ttl, tos, proto) \</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span> <span class="preprocessor">        (IP_IS_V6(dest) ? \</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span> <span class="preprocessor">        ip6_output(p, ip_2_ip6(src), ip_2_ip6(dest), ttl, tos, proto) : \</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span> <span class="preprocessor">        ip4_output(p, ip_2_ip4(src), ip_2_ip4(dest), ttl, tos, proto))</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span> <span class="comment">/**</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span> <span class="comment"> * @ingroup ip</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span> <span class="comment"> * Output IP packet to specified interface</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span> <span class="comment"> */</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span> <span class="preprocessor">#define ip_output_if(p, src, dest, ttl, tos, proto, netif) \</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span> <span class="preprocessor">        (IP_IS_V6(dest) ? \</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span> <span class="preprocessor">        ip6_output_if(p, ip_2_ip6(src), ip_2_ip6(dest), ttl, tos, proto, netif) : \</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span> <span class="preprocessor">        ip4_output_if(p, ip_2_ip4(src), ip_2_ip4(dest), ttl, tos, proto, netif))</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span> <span class="comment">/**</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span> <span class="comment"> * @ingroup ip</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span> <span class="comment"> * Output IP packet to interface specifying source address</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span> <span class="comment"> */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span> <span class="preprocessor">#define ip_output_if_src(p, src, dest, ttl, tos, proto, netif) \</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span> <span class="preprocessor">        (IP_IS_V6(dest) ? \</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span> <span class="preprocessor">        ip6_output_if_src(p, ip_2_ip6(src), ip_2_ip6(dest), ttl, tos, proto, netif) : \</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span> <span class="preprocessor">        ip4_output_if_src(p, ip_2_ip4(src), ip_2_ip4(dest), ttl, tos, proto, netif))</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span> <span class="comment">/** Output IP packet that already includes an IP header. */</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span> <span class="preprocessor">#define ip_output_if_hdrincl(p, src, dest, netif) \</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span> <span class="preprocessor">        (IP_IS_V6(dest) ? \</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span> <span class="preprocessor">        ip6_output_if(p, ip_2_ip6(src), LWIP_IP_HDRINCL, 0, 0, 0, netif) : \</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span> <span class="preprocessor">        ip4_output_if(p, ip_2_ip4(src), LWIP_IP_HDRINCL, 0, 0, 0, netif))</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span> <span class="comment">/** Output IP packet with netif_hint */</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="preprocessor">#define ip_output_hinted(p, src, dest, ttl, tos, proto, netif_hint) \</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span> <span class="preprocessor">        (IP_IS_V6(dest) ? \</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span> <span class="preprocessor">        ip6_output_hinted(p, ip_2_ip6(src), ip_2_ip6(dest), ttl, tos, proto, netif_hint) : \</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span> <span class="preprocessor">        ip4_output_hinted(p, ip_2_ip4(src), ip_2_ip4(dest), ttl, tos, proto, netif_hint))</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span> <span class="comment">/**</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span> <span class="comment"> * @ingroup ip</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="comment"> * Get netif for address combination. See \ref ip6_route and \ref ip4_route</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span> <span class="comment"> */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span> <span class="preprocessor">#define ip_route(src, dest) \</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span> <span class="preprocessor">        (IP_IS_V6(dest) ? \</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span> <span class="preprocessor">        ip6_route(ip_2_ip6(src), ip_2_ip6(dest)) : \</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span> <span class="preprocessor">        ip4_route_src(ip_2_ip4(src), ip_2_ip4(dest)))</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span> <span class="comment">/**</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span> <span class="comment"> * @ingroup ip</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span> <span class="comment"> * Get netif for IP.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span> <span class="comment"> */</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span> <span class="preprocessor">#define ip_netif_get_local_ip(netif, dest) (IP_IS_V6(dest) ? \</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span> <span class="preprocessor">        ip6_netif_get_local_ip(netif, ip_2_ip6(dest)) : \</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span> <span class="preprocessor">        ip4_netif_get_local_ip(netif))</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span> <span class="preprocessor">#define ip_debug_print(is_ipv6, p) ((is_ipv6) ? ip6_debug_print(p) : ip4_debug_print(p))</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span> </div><div class="line"><a name="l00275"></a><span class="lineno">  275</span> err_t ip_input(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, <span class="keyword">struct</span> <a class="code" href="structnetif.html">netif</a> *inp);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span> </div><div class="line"><a name="l00277"></a><span class="lineno">  277</span> <span class="preprocessor">#elif LWIP_IPV4 </span><span class="comment">/* LWIP_IPV4 &amp;&amp; LWIP_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span> </div><div class="line"><a name="l00279"></a><span class="lineno">  279</span> <span class="preprocessor">#define ip_output(p, src, dest, ttl, tos, proto) \</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span> <span class="preprocessor">        ip4_output(p, src, dest, ttl, tos, proto)</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span> <span class="preprocessor">#define ip_output_if(p, src, dest, ttl, tos, proto, netif) \</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span> <span class="preprocessor">        ip4_output_if(p, src, dest, ttl, tos, proto, netif)</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span> <span class="preprocessor">#define ip_output_if_src(p, src, dest, ttl, tos, proto, netif) \</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span> <span class="preprocessor">        ip4_output_if_src(p, src, dest, ttl, tos, proto, netif)</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span> <span class="preprocessor">#define ip_output_hinted(p, src, dest, ttl, tos, proto, netif_hint) \</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span> <span class="preprocessor">        ip4_output_hinted(p, src, dest, ttl, tos, proto, netif_hint)</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span> <span class="preprocessor">#define ip_output_if_hdrincl(p, src, dest, netif) \</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span> <span class="preprocessor">        ip4_output_if(p, src, LWIP_IP_HDRINCL, 0, 0, 0, netif)</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span> <span class="preprocessor">#define ip_route(src, dest) \</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span> <span class="preprocessor">        ip4_route_src(src, dest)</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span> <span class="preprocessor">#define ip_netif_get_local_ip(netif, dest) \</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span> <span class="preprocessor">        ip4_netif_get_local_ip(netif)</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span> <span class="preprocessor">#define ip_debug_print(is_ipv6, p) ip4_debug_print(p)</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span> </div><div class="line"><a name="l00295"></a><span class="lineno">  295</span> <span class="preprocessor">#define ip_input ip4_input</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span> </div><div class="line"><a name="l00297"></a><span class="lineno">  297</span> <span class="preprocessor">#elif LWIP_IPV6 </span><span class="comment">/* LWIP_IPV4 &amp;&amp; LWIP_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span> </div><div class="line"><a name="l00299"></a><span class="lineno">  299</span> <span class="preprocessor">#define ip_output(p, src, dest, ttl, tos, proto) \</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span> <span class="preprocessor">        ip6_output(p, src, dest, ttl, tos, proto)</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span> <span class="preprocessor">#define ip_output_if(p, src, dest, ttl, tos, proto, netif) \</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span> <span class="preprocessor">        ip6_output_if(p, src, dest, ttl, tos, proto, netif)</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> <span class="preprocessor">#define ip_output_if_src(p, src, dest, ttl, tos, proto, netif) \</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span> <span class="preprocessor">        ip6_output_if_src(p, src, dest, ttl, tos, proto, netif)</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span> <span class="preprocessor">#define ip_output_hinted(p, src, dest, ttl, tos, proto, netif_hint) \</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span> <span class="preprocessor">        ip6_output_hinted(p, src, dest, ttl, tos, proto, netif_hint)</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span> <span class="preprocessor">#define ip_output_if_hdrincl(p, src, dest, netif) \</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span> <span class="preprocessor">        ip6_output_if(p, src, LWIP_IP_HDRINCL, 0, 0, 0, netif)</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span> <span class="preprocessor">#define ip_route(src, dest) \</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span> <span class="preprocessor">        ip6_route(src, dest)</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span> <span class="preprocessor">#define ip_netif_get_local_ip(netif, dest) \</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span> <span class="preprocessor">        ip6_netif_get_local_ip(netif, dest)</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span> <span class="preprocessor">#define ip_debug_print(is_ipv6, p) ip6_debug_print(p)</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span> </div><div class="line"><a name="l00315"></a><span class="lineno">  315</span> <span class="preprocessor">#define ip_input ip6_input</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span> </div><div class="line"><a name="l00317"></a><span class="lineno">  317</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_IPV6 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span> </div><div class="line"><a name="l00319"></a><span class="lineno">  319</span> <span class="preprocessor">#define ip_route_get_local_ip(src, dest, netif, ipaddr) do { \</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span> <span class="preprocessor">  (netif) = ip_route(src, dest); \</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span> <span class="preprocessor">  (ipaddr) = ip_netif_get_local_ip(netif, dest); \</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span> <span class="preprocessor">}while(0)</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span> </div><div class="line"><a name="l00324"></a><span class="lineno">  324</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span> }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span> </div><div class="line"><a name="l00328"></a><span class="lineno">  328</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_HDR_IP_H */</span><span class="preprocessor"></span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span> </div><div class="line"><a name="l00330"></a><span class="lineno">  330</span> </div><div class="ttc" id="def_8h_html"><div class="ttname"><a href="def_8h.html">def.h</a></div><div class="ttdoc">various utility macros </div></div>
<div class="ttc" id="ip6_8h_html"><div class="ttname"><a href="ip6_8h.html">ip6.h</a></div><div class="ttdoc">IPv6 layer. </div></div>
<div class="ttc" id="prot_2ip_8h_html"><div class="ttname"><a href="prot_2ip_8h.html">ip.h</a></div><div class="ttdoc">IP protocol definitions. </div></div>
<div class="ttc" id="structip__globals_html_a63c0914cf407e33af9b47061bd6ae40d"><div class="ttname"><a href="structip__globals.html#a63c0914cf407e33af9b47061bd6ae40d">ip_globals::current_iphdr_dest</a></div><div class="ttdeci">ip_addr_t current_iphdr_dest</div><div class="ttdoc">Destination IP address of current_header. </div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00126">ip.h:126</a></div></div>
<div class="ttc" id="ip_8h_html_a8bdf4b5f674375e76cdd968826d80e53"><div class="ttname"><a href="ip_8h.html#a8bdf4b5f674375e76cdd968826d80e53">IP_PCB</a></div><div class="ttdeci">#define IP_PCB</div><div class="ttdoc">This is the common part of all PCB types. </div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00076">ip.h:76</a></div></div>
<div class="ttc" id="opt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div><div class="ttdoc">lwIP Options Configuration </div></div>
<div class="ttc" id="structip__globals_html_abed5b6e2fca2ed67a37e699560117e59"><div class="ttname"><a href="structip__globals.html#abed5b6e2fca2ed67a37e699560117e59">ip_globals::current_ip_header_tot_len</a></div><div class="ttdeci">u16_t current_ip_header_tot_len</div><div class="ttdoc">Total header length of current_ip4/6_header (i.e. </div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00122">ip.h:122</a></div></div>
<div class="ttc" id="structip__globals_html_a312380e254b06dd3041065a3ec27264b"><div class="ttname"><a href="structip__globals.html#a312380e254b06dd3041065a3ec27264b">ip_globals::current_iphdr_src</a></div><div class="ttdeci">ip_addr_t current_iphdr_src</div><div class="ttdoc">Source IP address of current_header. </div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00124">ip.h:124</a></div></div>
<div class="ttc" id="structip__globals_html_aabce496c19c6ae4000174c8af8a4a913"><div class="ttname"><a href="structip__globals.html#aabce496c19c6ae4000174c8af8a4a913">ip_globals::current_netif</a></div><div class="ttdeci">struct netif * current_netif</div><div class="ttdoc">The interface that accepted the packet for the current callback invocation. </div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00110">ip.h:110</a></div></div>
<div class="ttc" id="netif_8h_html"><div class="ttname"><a href="netif_8h.html">netif.h</a></div><div class="ttdoc">netif API (to be used from TCPIP thread) </div></div>
<div class="ttc" id="structpbuf_html"><div class="ttname"><a href="structpbuf.html">pbuf</a></div><div class="ttdoc">Main packet buffer struct. </div><div class="ttdef"><b>Definition:</b> <a href="ppp__service__if_8h_source.html#l00136">ppp_service_if.h:136</a></div></div>
<div class="ttc" id="err_8h_html"><div class="ttname"><a href="err_8h.html">err.h</a></div><div class="ttdoc">lwIP Error codes </div></div>
<div class="ttc" id="structnetif_html"><div class="ttname"><a href="structnetif.html">netif</a></div><div class="ttdoc">Generic data structure used for all lwIP network interfaces. </div><div class="ttdef"><b>Definition:</b> <a href="ppp__service__if_8h_source.html#l00157">ppp_service_if.h:157</a></div></div>
<div class="ttc" id="structip__globals_html"><div class="ttname"><a href="structip__globals.html">ip_globals</a></div><div class="ttdoc">Global variables of this module, kept in a struct for efficient access using base+index. </div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00107">ip.h:107</a></div></div>
<div class="ttc" id="pbuf_8h_html"><div class="ttname"><a href="pbuf_8h.html">pbuf.h</a></div><div class="ttdoc">pbuf API </div></div>
<div class="ttc" id="structip__hdr_html"><div class="ttname"><a href="structip__hdr.html">ip_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="prot_2ip4_8h_source.html#l00073">prot/ip4.h:73</a></div></div>
<div class="ttc" id="structnsapi__addr_html"><div class="ttname"><a href="structnsapi__addr.html">nsapi_addr</a></div><div class="ttdoc">IP address structure for passing IP addresses by value. </div><div class="ttdef"><b>Definition:</b> <a href="nsapi__types_8h_source.html#l00237">nsapi_types.h:237</a></div></div>
<div class="ttc" id="ip__addr_8h_html"><div class="ttname"><a href="ip__addr_8h.html">ip_addr.h</a></div><div class="ttdoc">IP address API (common IPv4 and IPv6) </div></div>
<div class="ttc" id="structip__globals_html_a6c88f1e982cd25410d2b7a63b52b3360"><div class="ttname"><a href="structip__globals.html#a6c88f1e982cd25410d2b7a63b52b3360">ip_globals::current_input_netif</a></div><div class="ttdeci">struct netif * current_input_netif</div><div class="ttdoc">The interface that received the packet for the current callback invocation. </div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00112">ip.h:112</a></div></div>
<div class="ttc" id="structip6__hdr_html"><div class="ttname"><a href="structip6__hdr.html">ip6_hdr</a></div><div class="ttdoc">The IPv6 header. </div><div class="ttdef"><b>Definition:</b> <a href="prot_2ip6_8h_source.html#l00080">prot/ip6.h:80</a></div></div>
<div class="ttc" id="structip__pcb_html"><div class="ttname"><a href="structip__pcb.html">ip_pcb</a></div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00091">ip.h:91</a></div></div>
<div class="ttc" id="ip4_8h_html"><div class="ttname"><a href="ip4_8h.html">ip4.h</a></div><div class="ttdoc">IPv4 API. </div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/ip_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:24:06 GMT -->
</html>
