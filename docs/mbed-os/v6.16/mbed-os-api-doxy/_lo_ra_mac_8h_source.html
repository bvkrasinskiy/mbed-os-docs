<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/_lo_ra_mac_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:24:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | LoRaMac.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="_lo_ra_mac_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/_lo_ra_mac_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/_lo_ra_mac_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_03e0d7500ed01a30062a4d0646c4f30f.html">lorawan</a></li><li class="navelem"><a class="el" href="dir_4e3e7d134340108d8ff3ba6aaca96370.html">lorastack</a></li><li class="navelem"><a class="el" href="dir_228645f8268abbb292c55d2ab6305b0e.html">mac</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">LoRaMac.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_lo_ra_mac_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment">/**</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment"> * \file      LoRaMac.h</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment"> * \brief     LoRa MAC layer implementation</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> <span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> <span class="comment"> * \copyright Revised BSD License, see LICENSE.TXT file include in the project</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment"> * \code</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment"> *                ______                              _</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment"> *               / _____)             _              | |</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment"> *              ( (____  _____ ____ _| |_ _____  ____| |__</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment"> *               \____ \| ___ |    (_   _) ___ |/ ___)  _ \</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment"> *               _____) ) ____| | | || |_| ____( (___| | | |</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment"> *              (______/|_____)_|_|_| \__)_____)\____)_| |_|</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment"> *              (C)2013 Semtech</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> <span class="comment"> *</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> <span class="comment"> *               ___ _____ _   ___ _  _____ ___  ___  ___ ___</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> <span class="comment"> *              / __|_   _/_\ / __| |/ / __/ _ \| _ \/ __| __|</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> <span class="comment"> *              \__ \ | |/ _ \ (__| ' &lt;| _| (_) |   / (__| _|</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> <span class="comment"> *              |___/ |_/_/ \_\___|_|\_\_| \___/|_|_\\___|___|</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> <span class="comment"> *              embedded.connectivity.solutions===============</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="comment"> *</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> <span class="comment"> * \endcode</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="comment"> *</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> <span class="comment"> * \author    Miguel Luis ( Semtech )</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> <span class="comment"> *</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> <span class="comment"> * \author    Gregory Cristian ( Semtech )</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> <span class="comment"> *</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> <span class="comment"> * \author    Daniel Jaeckle ( STACKFORCE )</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="comment"> *</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> <span class="comment"> * \defgroup  LORAMAC LoRa MAC layer implementation</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="comment"> *            This module specifies the API implementation of the LoRaMAC layer.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> <span class="comment"> *            This is a placeholder for a detailed description of the LoRaMac</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="comment"> *            layer and the supported features.</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> <span class="comment"> *</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> <span class="comment"> * Copyright (c) 2017, Arm Limited and affiliates.</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> <span class="comment"> * SPDX-License-Identifier: BSD-3-Clause</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="comment"> *</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> <span class="comment"> */</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span> <span class="preprocessor">#ifndef MBED_LORAWAN_MAC_H__</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> <span class="preprocessor">#define MBED_LORAWAN_MAC_H__</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> </div><div class="line"><a name="l00043"></a><span class="lineno">   43</span> <span class="preprocessor">#include "events/EventQueue.h"</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> </div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> <span class="preprocessor">#include "<a class="code" href="_lo_ra_p_h_y_8h.html">lorastack/phy/LoRaPHY.h</a>"</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> </div><div class="line"><a name="l00047"></a><span class="lineno">   47</span> <span class="preprocessor">#include "system/LoRaWANTimer.h"</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span> <span class="preprocessor">#include "<a class="code" href="lorawan__data__structures_8h.html">system/lorawan_data_structures.h</a>"</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span> </div><div class="line"><a name="l00050"></a><span class="lineno">   50</span> <span class="preprocessor">#include "LoRaMacChannelPlan.h"</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> <span class="preprocessor">#include "<a class="code" href="_lo_ra_mac_command_8h.html">LoRaMacCommand.h</a>"</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span> <span class="preprocessor">#include "LoRaMacCrypto.h"</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> <span class="preprocessor">#if MBED_CONF_RTOS_PRESENT</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> <span class="preprocessor">#include "rtos/Mutex.h"</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span> </div><div class="line"><a name="l00057"></a><span class="lineno">   57</span> <span class="preprocessor">#include "platform/ScopedLock.h"</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span> <span class="comment"></span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span> <span class="comment">/** LoRaMac Class</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span> <span class="comment"> * Implementation of LoRaWAN MAC layer</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span> <span class="comment"> */</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="class_lo_ra_mac.html">   62</a></span> <span class="keyword">class </span><a class="code" href="class_lo_ra_mac.html">LoRaMac</a> {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span> </div><div class="line"><a name="l00064"></a><span class="lineno">   64</span> <span class="keyword">public</span>:</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span> <span class="comment"></span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span> <span class="comment">    /**</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span> <span class="comment">     * Constructor</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span> <span class="comment">     */</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>     <a class="code" href="class_lo_ra_mac.html#acd84c5aa93cd07e63762435dfc0fb0d3">LoRaMac</a>();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span> <span class="comment"></span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> <span class="comment">    /**</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span> <span class="comment">     * Destructor</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span> <span class="comment">     */</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>     <a class="code" href="class_lo_ra_mac.html#af9d8dff9f484b7bab692ca737626881d">~LoRaMac</a>();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span> <span class="comment"></span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span> <span class="comment">    /**</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span> <span class="comment">     * @brief   LoRaMAC layer initialization</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span> <span class="comment">     *</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span> <span class="comment">     * @details Initializes the LoRaMAC layer,</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span> <span class="comment">     *</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span> <span class="comment">     *</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span> <span class="comment">     * @param   queue [in]        A pointer to the application provided EventQueue.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span> <span class="comment">     *</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span> <span class="comment">     * @param   scheduling_failure_handler    A callback to inform upper layer if a deferred</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span> <span class="comment">     *                                        transmission (after backoff or retry) fails to schedule.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span> <span class="comment">     *</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> <span class="comment">     * @return  `lorawan_status_t` The status of the operation. The possible values are:</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span> <span class="comment">     *          \ref LORAWAN_STATUS_OK</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span> <span class="comment">     *          \ref LORAWAN_STATUS_PARAMETER_INVALID</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span> <span class="comment">     */</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a7a679fe13c70a5c0deba99ab979d5c5d">initialize</a>(<a class="code" href="classevents_1_1_event_queue.html">events::EventQueue</a> *queue,</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>                                 <a class="code" href="classmbed_1_1_callback.html">mbed::Callback</a>&lt;<span class="keywordtype">void</span>(<span class="keywordtype">void</span>)&gt;scheduling_failure_handler);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span> <span class="comment"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span> <span class="comment">    /**</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span> <span class="comment">     * @brief   Disconnect LoRaMac layer</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span> <span class="comment">     *</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span> <span class="comment">     * @details Cancels all outstanding requests and sets LoRaMac's</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span> <span class="comment">     *          internal state to idle.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span> <span class="comment">     */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a888a5acf1fe3a8902f7cb2f5039cb334">disconnect</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span> <span class="comment"></span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span> <span class="comment">    /**</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span> <span class="comment">     * @brief nwk_joined Checks if device has joined to network</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span> <span class="comment">     * @return True if joined to network, false otherwise</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span> <span class="comment">     */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>     <span class="keywordtype">bool</span> <a class="code" href="class_lo_ra_mac.html#abb5b04c34a3fe04fe487f0879a8c8806">nwk_joined</a>();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span> <span class="comment"></span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span> <span class="comment">    /**</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span> <span class="comment">     * @brief   Adds a channel plan to the system.</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span> <span class="comment">     *</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span> <span class="comment">     * @details Adds a whole channel plan or a single new channel if the plan</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span> <span class="comment">     *          contains only one channel and 'plan.nb_channels' is set to 1.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span> <span class="comment">     *          Please note that this functionality is not available in all regions.</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span> <span class="comment">     *          Information on the allowed ranges is available at the</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span> <span class="comment">     *          LoRaWAN Regional Parameters V1.0.2rB.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span> <span class="comment">     *</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span> <span class="comment">     * @param   plan [in]    A reference to application provided channel plan.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span> <span class="comment">     *</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span> <span class="comment">     * @return  `lorawan_status_t` The status of the operation. The possible values are:</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span> <span class="comment">     *          \ref LORAWAN_STATUS_OK</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span> <span class="comment">     *          \ref LORAWAN_STATUS_BUSY</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span> <span class="comment">     *          \ref LORAWAN_STATUS_PARAMETER_INVALID</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span> <span class="comment">     */</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#af14aafa1ff9571e92f0008120f6a1858">add_channel_plan</a>(<span class="keyword">const</span> <a class="code" href="structlora__channelplan.html">lorawan_channelplan_t</a> &amp;plan);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span> <span class="comment"></span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span> <span class="comment">    /**</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span> <span class="comment">     * @brief   Removes a channel plan from the system.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span> <span class="comment">     *</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span> <span class="comment">     * @details Removes the whole active channel plan except the 'Default Channels'.</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span> <span class="comment">     *          Please note that this functionality is not available in all regions.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span> <span class="comment">     *          Information on the allowed ranges is available at the</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span> <span class="comment">     *          LoRaWAN Regional Parameters V1.0.2rB.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span> <span class="comment">     *</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span> <span class="comment">     * @return  `lorawan_status_t` The status of the operation. The possible values are:</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span> <span class="comment">     *          \ref LORAWAN_STATUS_OK</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span> <span class="comment">     *          \ref LORAWAN_STATUS_BUSY</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span> <span class="comment">     *          \ref LORAWAN_STATUS_PARAMETER_INVALID</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span> <span class="comment">     */</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a25703faa73d11427e2ef4cc3a037d3ac">remove_channel_plan</a>();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span> <span class="comment"></span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span> <span class="comment">    /**</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span> <span class="comment">     * @brief   Access active channel plan.</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span> <span class="comment">     *</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span> <span class="comment">     * @details Provides access to the current active channel plan.</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span> <span class="comment">     *</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span> <span class="comment">     * @param   plan [out]    A reference to application provided channel plan data</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span> <span class="comment">     *                        structure which will be filled in with active channel</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span> <span class="comment">     *                        plan.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span> <span class="comment">     *</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span> <span class="comment">     * @return  `lorawan_status_t` The status of the operation. The possible values are:</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span> <span class="comment">     *          \ref LORAWAN_STATUS_OK</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span> <span class="comment">     *          \ref LORAWAN_STATUS_BUSY</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span> <span class="comment">     *          \ref LORAWAN_STATUS_PARAMETER_INVALID</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span> <span class="comment">     */</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a0e774304d7955fba4fb54ef6f2b98318">get_channel_plan</a>(<a class="code" href="structlora__channelplan.html">lorawan_channelplan_t</a> &amp;plan);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span> <span class="comment"></span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span> <span class="comment">    /**</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span> <span class="comment">     * @brief   Remove a given channel from the active plan.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span> <span class="comment">     *</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span> <span class="comment">     * @details Deactivates the given channel.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span> <span class="comment">     *</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span> <span class="comment">     * @param id    Id of the channel.</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span> <span class="comment">     *</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span> <span class="comment">     * @return  `lorawan_status_t` The status of the operation. The possible values are:</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span> <span class="comment">     *          \ref LORAWAN_STATUS_OK</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span> <span class="comment">     *          \ref LORAWAN_STATUS_BUSY</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span> <span class="comment">     *          \ref LORAWAN_STATUS_PARAMETER_INVALID</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span> <span class="comment">     */</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a09fb473c457b5636e21ef910bd8993b4">remove_single_channel</a>(uint8_t <span class="keywordtype">id</span>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span> <span class="comment"></span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span> <span class="comment">    /**</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span> <span class="comment">     * @brief   LoRaMAC multicast channel link service.</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span> <span class="comment">     *</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span> <span class="comment">     * @details Links a multicast channel into the linked list.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span> <span class="comment">     *</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span> <span class="comment">     * @param [in] channel_param    The multicast channel parameters to link.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span> <span class="comment">     *</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span> <span class="comment">     * @return  `lorawan_status_t` The  status of the operation. The possible values are:</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span> <span class="comment">     *          \ref LORAWAN_STATUS_OK</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span> <span class="comment">     *          \ref LORAWAN_STATUS_BUSY</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span> <span class="comment">     *          \ref LORAWAN_STATUS_PARAMETER_INVALID</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span> <span class="comment">     */</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a5e5b810bd7d93e141a825fdbbce1c088">multicast_channel_link</a>(<a class="code" href="structmulticast__params__s.html">multicast_params_t</a> *channel_param);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span> <span class="comment"></span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span> <span class="comment">    /**</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span> <span class="comment">     * @brief   LoRaMAC multicast channel unlink service.</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span> <span class="comment">     *</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span> <span class="comment">     * @details Unlinks a multicast channel from the linked list.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span> <span class="comment">     *</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> <span class="comment">     * @param [in] channel_param    The multicast channel parameters to unlink.</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span> <span class="comment">     *</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span> <span class="comment">     * @return  `lorawan_status_t` The status of the operation. The possible values are:</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span> <span class="comment">     *          \ref LORAWAN_STATUS_OK</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span> <span class="comment">     *          \ref LORAWAN_STATUS_BUSY</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span> <span class="comment">     *          \ref LORAWAN_STATUS_PARAMETER_INVALID</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span> <span class="comment">     */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a2f3cf44f4c18d6fc00899ca34ee081e9">multicast_channel_unlink</a>(<a class="code" href="structmulticast__params__s.html">multicast_params_t</a> *channel_param);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span> <span class="comment"></span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span> <span class="comment">    /** Binds phy layer to MAC.</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span> <span class="comment">     *</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span> <span class="comment">     * @param phy   LoRaPHY object</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span> <span class="comment">     */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#acd267244379ccbaae092bd992278199d">bind_phy</a>(<a class="code" href="class_lo_ra_p_h_y.html">LoRaPHY</a> &amp;phy);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span> <span class="comment"></span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span> <span class="comment">    /**</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span> <span class="comment">     * @brief Schedules the frame for sending.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span> <span class="comment">     *</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span> <span class="comment">     * @details Prepares a full MAC frame and schedules it for physical</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span> <span class="comment">     *          transmission.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span> <span class="comment">     *</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span> <span class="comment">     * @param [in] mac_hdr      MAC frame header field</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span> <span class="comment">     * @param [in] fport        Payload port</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span> <span class="comment">     * @param [in] fbuffer      MAC frame data buffer to be sent</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span> <span class="comment">     * @param [in] fbuffer_size MAC frame data buffer size</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span> <span class="comment">     *</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span> <span class="comment">     * @return status          Status of the operation. LORAWAN_STATUS_OK in case</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span> <span class="comment">     *                         of success and a negative error code in case of</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span> <span class="comment">     *                         failure.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span> <span class="comment">     */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a0f280d1c1ee799f45cc31787ff452ae0">send</a>(<a class="code" href="unionloramac__mhdr__t.html">loramac_mhdr_t</a> *mac_hdr, <span class="keyword">const</span> uint8_t fport,</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>                           <span class="keyword">const</span> <span class="keywordtype">void</span> *fbuffer, uint16_t fbuffer_size);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span> <span class="comment"></span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span> <span class="comment">    /**</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span> <span class="comment">     * @brief get_default_tx_datarate Gets the default TX datarate</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span> <span class="comment">     * @return default TX datarate.</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span> <span class="comment">     */</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>     uint8_t <a class="code" href="class_lo_ra_mac.html#a1a5157c1820fdd238b85ca9b43bb48fc">get_default_tx_datarate</a>();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span> <span class="comment"></span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span> <span class="comment">    /**</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span> <span class="comment">     * @brief enable_adaptive_datarate Enables or disables adaptive datarate.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span> <span class="comment">     * @param adr_enabled Flag indicating is adr enabled or disabled.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span> <span class="comment">     */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a82550f3db9020f5826681900243bfaa4">enable_adaptive_datarate</a>(<span class="keywordtype">bool</span> adr_enabled);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span> <span class="comment"></span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span> <span class="comment">    /** Sets up the data rate.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span> <span class="comment">     *</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span> <span class="comment">     * `set_datarate()` first verifies whether the data rate given is valid or not.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span> <span class="comment">     * If it is valid, the system sets the given data rate to the channel.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span> <span class="comment">     *</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span> <span class="comment">     * @param data_rate   The intended data rate, for example DR_0 or DR_1.</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span> <span class="comment">     *                    Note that the macro DR_* can mean different</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span> <span class="comment">     *                    things in different regions.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span> <span class="comment">     *</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span> <span class="comment">     * @return            LORAWAN_STATUS_OK if everything goes well, otherwise</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span> <span class="comment">     *                    a negative error code.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span> <span class="comment">     */</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a5d9ce4a64d4cac42e3cec688486ca4b9">set_channel_data_rate</a>(uint8_t data_rate);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span> <span class="comment"></span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span> <span class="comment">    /**</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span> <span class="comment">     * @brief tx_ongoing Check whether a prepare is done or not.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span> <span class="comment">     * @return True if prepare_ongoing_tx is called, false otherwise.</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span> <span class="comment">     */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>     <span class="keywordtype">bool</span> <a class="code" href="class_lo_ra_mac.html#ab5b8e466c7005a2faa83957c5b805adf">tx_ongoing</a>();</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="comment"></span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span> <span class="comment">    /**</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span> <span class="comment">     * @brief set_tx_ongoing Changes the ongoing status for prepared message.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span> <span class="comment">     * @param ongoing The value indicating the status.</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span> <span class="comment">     */</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#ae452089d10becb7f7bfe518197e62413">set_tx_ongoing</a>(<span class="keywordtype">bool</span> ongoing);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="comment"></span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span> <span class="comment">    /**</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span> <span class="comment">     * @brief reset_ongoing_tx Resets _ongoing_tx_msg.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span> <span class="comment">     * @param reset_pending If true resets pending size also.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span> <span class="comment">     */</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a6cd4ac89517ce5f79d44480e8202edc1">reset_ongoing_tx</a>(<span class="keywordtype">bool</span> reset_pending = <span class="keyword">false</span>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span> <span class="comment"></span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span> <span class="comment">    /**</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span> <span class="comment">     * @brief prepare_ongoing_tx This will prepare (and override) ongoing_tx_msg.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span> <span class="comment">     * @param port                          The application port number.</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span> <span class="comment">     *</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span> <span class="comment">     * @param data                          A pointer to the data being sent. The ownership of the</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span> <span class="comment">     *                                      buffer is not transferred.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span> <span class="comment">     *</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span> <span class="comment">     * @param length                        The size of data in bytes.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span> <span class="comment">     *</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span> <span class="comment">     * @param flags                         A flag used to determine what type of</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span> <span class="comment">     *                                      message is being sent.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span> <span class="comment">     *</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span> <span class="comment">     * @param num_retries                   Number of retries for a confirmed type message</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span> <span class="comment">     *</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span> <span class="comment">     * @return The number of bytes prepared for sending.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span> <span class="comment">     */</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>     int16_t <a class="code" href="class_lo_ra_mac.html#a06f20e5d0eba983326fda64875b5d235">prepare_ongoing_tx</a>(<span class="keyword">const</span> uint8_t port, <span class="keyword">const</span> uint8_t *data,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>                                uint16_t length, uint8_t flags, uint8_t num_retries);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span> <span class="comment"></span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span> <span class="comment">    /**</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span> <span class="comment">     * @brief send_ongoing_tx Sends the ongoing_tx_msg</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span> <span class="comment">     * @return LORAWAN_STATUS_OK or a negative error code on failure.</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span> <span class="comment">     */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a4fe9f0859505fdc6ec73513d550218c2">send_ongoing_tx</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span> <span class="comment"></span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span> <span class="comment">    /**</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span> <span class="comment">     * @brief device_class Returns active device class</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span> <span class="comment">     * @return Device class in use.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span> <span class="comment">     */</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>     <a class="code" href="lorawan__types_8h.html#a594f261dd34319dca9994f181ff1c087">device_class_t</a> <a class="code" href="class_lo_ra_mac.html#a8e1bac5c060ab8db0699e9ca73ba574a">get_device_class</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span> <span class="comment"></span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span> <span class="comment">    /**</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span> <span class="comment">     * @brief set_device_class Sets active device class.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span> <span class="comment">     * @param device_class Device class to use.</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span> <span class="comment">     * @param rx2_would_be_closure_handler callback function to inform about</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span> <span class="comment">     *        would be closure of RX2 window</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> <span class="comment">     */</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a412901d0f5dfbafd5bde5557b7557b17">set_device_class</a>(<span class="keyword">const</span> <a class="code" href="lorawan__types_8h.html#a594f261dd34319dca9994f181ff1c087">device_class_t</a> &amp;device_class,</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>                           <a class="code" href="classmbed_1_1_callback.html">mbed::Callback</a>&lt;<span class="keywordtype">void</span>(<span class="keywordtype">void</span>)&gt;rx2_would_be_closure_handler);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span> <span class="comment"></span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span> <span class="comment">    /**</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span> <span class="comment">     * @brief setup_link_check_request Adds link check request command</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span> <span class="comment">     * to be put on next outgoing message (when it fits)</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span> <span class="comment">     */</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a42b0e7d244636f6ed145708affb24a09">setup_link_check_request</a>();</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span> <span class="comment"></span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span> <span class="comment">    /**</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span> <span class="comment">     * @brief prepare_join prepares arguments to be ready for join() call.</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span> <span class="comment">     * @param params Join parameters to use, if NULL, the default will be used.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span> <span class="comment">     * @param is_otaa True if joining is to be done using OTAA, false for ABP.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span> <span class="comment">     *</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span> <span class="comment">     * @return LORAWAN_STATUS_OK or a negative error code on failure.</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span> <span class="comment">     */</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#acbd8ddb46619eaf9397ff0a0f5db4bf6">prepare_join</a>(<span class="keyword">const</span> <a class="code" href="structlorawan__connect.html">lorawan_connect_t</a> *params, <span class="keywordtype">bool</span> is_otaa);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span> <span class="comment"></span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span> <span class="comment">    /**</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span> <span class="comment">     * @brief join Joins the network.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span> <span class="comment">     * @param is_otaa True if joining is to be done using OTAA, false for ABP.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span> <span class="comment">     * @return LORAWAN_STATUS_OK or a negative error code on failure.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span> <span class="comment">     */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a3de66c510a666058550a6b2530e132be">join</a>(<span class="keywordtype">bool</span> is_otaa);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span> <span class="comment"></span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span> <span class="comment">    /**</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span> <span class="comment">     * MAC operations upon successful transmission</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span> <span class="comment">     */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#af818e92d65aabb67cb89461eac254464">on_radio_tx_done</a>(<a class="code" href="lorawan__data__structures_8h.html#ac4d7b9e2b0448787d12d6a397eb800db">lorawan_time_t</a> timestamp);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span> <span class="comment"></span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span> <span class="comment">    /**</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span> <span class="comment">     * MAC operations upon reception</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span> <span class="comment">     */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a072e15abbff87af6d493da6713cea84e">on_radio_rx_done</a>(<span class="keyword">const</span> uint8_t *<span class="keyword">const</span> payload, uint16_t size,</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>                           int16_t rssi, int8_t snr);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span> <span class="comment"></span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span> <span class="comment">    /**</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span> <span class="comment">     * MAC operations upon transmission timeout</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span> <span class="comment">     */</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a14fa7fcfa7b4de7c203826123e5c7dba">on_radio_tx_timeout</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span> <span class="comment"></span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span> <span class="comment">    /**</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span> <span class="comment">     * MAC operations upon empty reception slots</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span> <span class="comment">     *</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span> <span class="comment">     * @param is_timeout false when radio encountered an error</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span> <span class="comment">     *                   true when the an RX slot went empty</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span> <span class="comment">     *</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span> <span class="comment">     * @return current RX slot</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span> <span class="comment">     */</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a9c641a4c9144038b72e359527facce4e">on_radio_rx_timeout</a>(<span class="keywordtype">bool</span> is_timeout);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span> <span class="comment"></span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span> <span class="comment">    /**</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span> <span class="comment">     * Handles retransmissions of Join requests if an Accept</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span> <span class="comment">     * was not received.</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span> <span class="comment">     *</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span> <span class="comment">     * @returns true if a retry will be made</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span> <span class="comment">     */</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>     <span class="keywordtype">bool</span> <a class="code" href="class_lo_ra_mac.html#a198b739e767d67632450c8163cf48ed1">continue_joining_process</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span> <span class="comment"></span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span> <span class="comment">    /**</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span> <span class="comment">     * Checks if the CONFIRMED data can be sent again or not.</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span> <span class="comment">     */</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>     <span class="keywordtype">bool</span> <a class="code" href="class_lo_ra_mac.html#a64eff6a88de284bf6be04429fb024c13">continue_sending_process</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span> <span class="comment"></span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span> <span class="comment">    /**</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span> <span class="comment">     * Read-only access to MAC primitive blocks</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span> <span class="comment">     */</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>     <span class="keyword">const</span> <a class="code" href="structloramac__mcps__confirm__t.html">loramac_mcps_confirm_t</a> *<a class="code" href="class_lo_ra_mac.html#a544bfe06be72265bd5597f8d16c6a4b7">get_mcps_confirmation</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>     <span class="keyword">const</span> <a class="code" href="structloramac__mcps__indication__t.html">loramac_mcps_indication_t</a> *get_mcps_indication() <span class="keyword">const</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>     <span class="keyword">const</span> <a class="code" href="structloramac__mlme__confirm__t.html">loramac_mlme_confirm_t</a> *get_mlme_confirmation() <span class="keyword">const</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>     <span class="keyword">const</span> <a class="code" href="structloramac__mlme__indication__t.html">loramac_mlme_indication_t</a> *get_mlme_indication() <span class="keyword">const</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span> <span class="comment"></span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span> <span class="comment">    /**</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span> <span class="comment">     * Post processing steps in response to actions carried out</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span> <span class="comment">     * by controller layer and Mac</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span> <span class="comment">     */</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a8eab051cf9c87e831cb331200d87a5b0">post_process_mcps_req</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>     <span class="keywordtype">void</span> post_process_mcps_ind(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>     <span class="keywordtype">void</span> post_process_mlme_request(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>     <span class="keywordtype">void</span> post_process_mlme_ind(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span> <span class="comment"></span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span> <span class="comment">    /**</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span> <span class="comment">     * Set battery level query callback</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span> <span class="comment">     */</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#a02b4a3a4240745ee436433ead0e8bc62">set_batterylevel_callback</a>(<a class="code" href="classmbed_1_1_callback.html">mbed::Callback</a>&lt;uint8_t(<span class="keywordtype">void</span>)&gt; battery_level);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span> <span class="comment"></span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span> <span class="comment">    /**</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span> <span class="comment">     * Returns the event ID of backoff timer.</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span> <span class="comment">     */</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>     <span class="keywordtype">int</span> <a class="code" href="class_lo_ra_mac.html#a451933d955e89c460d5fe4c58080af0d">get_backoff_timer_event_id</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span> <span class="comment"></span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span> <span class="comment">    /**</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span> <span class="comment">     * Clears out the TX pipe by discarding any outgoing message if the backoff</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span> <span class="comment">     * timer is still running.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span> <span class="comment">     */</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> <a class="code" href="class_lo_ra_mac.html#a9af36fbaa1c406a8d3bf45a51d93d60c">clear_tx_pipe</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span> <span class="comment"></span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span> <span class="comment">    /**</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span> <span class="comment">     * Gets the current time</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span> <span class="comment">     */</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>     <a class="code" href="lorawan__data__structures_8h.html#ac4d7b9e2b0448787d12d6a397eb800db">lorawan_time_t</a> <a class="code" href="class_lo_ra_mac.html#aefed50b16175dd8aa820ea9821895759">get_current_time</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span> <span class="comment"></span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span> <span class="comment">    /**</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span> <span class="comment">     * Gets the current receive slot</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span> <span class="comment">     */</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>     <a class="code" href="lorawan__data__structures_8h.html#acaf8d265498751ffdce0c27358d38f89">rx_slot_t</a> <a class="code" href="class_lo_ra_mac.html#a6cde4df86f91f95f81b108a4baed454e">get_current_slot</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span> <span class="comment"></span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span> <span class="comment">    /**</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span> <span class="comment">     * Indicates what level of QOS is set by network server. QOS level is set</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span> <span class="comment">     * in response to a LinkADRReq for UNCONFIRMED messages</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span> <span class="comment">     */</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>     uint8_t <a class="code" href="class_lo_ra_mac.html#a55280e9b7d2a58cd90fcdccc5c48082b">get_QOS_level</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span> <span class="comment"></span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span> <span class="comment">    /**</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span> <span class="comment">     *Indicates level of QOS used for the previous outgoing message</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span> <span class="comment">     */</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>     uint8_t <a class="code" href="class_lo_ra_mac.html#ac3ab4792fb0bda15e1b7a387f089e8a6">get_prev_QOS_level</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span> <span class="comment"></span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span> <span class="comment">    /**</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span> <span class="comment">     * These locks trample through to the upper layers and make</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span> <span class="comment">     * the stack thread safe.</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span> <span class="comment">     */</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span> <span class="preprocessor">#if MBED_CONF_RTOS_PRESENT</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#aeb99ff49b4a6d5157416f9b5bd0d9c2c">lock</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>     {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>         _mutex.lock();</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>     }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>     <span class="keywordtype">void</span> unlock(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>     {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>         _mutex.unlock();</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>     }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span> <span class="preprocessor">#else</span></div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="class_lo_ra_mac.html#aeb99ff49b4a6d5157416f9b5bd0d9c2c">  436</a></span>     <span class="keywordtype">void</span> <a class="code" href="class_lo_ra_mac.html#aeb99ff49b4a6d5157416f9b5bd0d9c2c">lock</a>(<span class="keywordtype">void</span>) { }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>     <span class="keywordtype">void</span> unlock(<span class="keywordtype">void</span>) { }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span> </div><div class="line"><a name="l00440"></a><span class="lineno">  440</span> <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span> <span class="comment">    /**</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span> <span class="comment">     * @brief   Queries the LoRaMAC the maximum possible FRMPayload size to send.</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span> <span class="comment">     *          The LoRaMAC takes the scheduled MAC commands into account and returns</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span> <span class="comment">     *          corresponding value.</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span> <span class="comment">     *</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span> <span class="comment">     * @param   fopts_len     [in]    Number of mac commands in the queue pending.</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span> <span class="comment">     *</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span> <span class="comment">     * @return  Size of the biggest packet that can be sent.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span> <span class="comment">     *          Please note that if the size of the MAC commands in the queue do</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span> <span class="comment">     *          not fit into the payload size on the related datarate, the LoRaMAC will</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span> <span class="comment">     *          omit the MAC commands.</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span> <span class="comment">     */</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>     uint8_t get_max_possible_tx_size(uint8_t fopts_len);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span> <span class="comment"></span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span> <span class="comment">    /**</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span> <span class="comment">     * @brief set_nwk_joined This is used for ABP mode for which real joining does not happen</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span> <span class="comment">     * @param joined True if device has joined in network, false otherwise</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span> <span class="comment">     */</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>     <span class="keywordtype">void</span> set_nwk_joined(<span class="keywordtype">bool</span> joined);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span> <span class="comment"></span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span> <span class="comment">    /**</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span> <span class="comment">     * @brief Configures the events to trigger an MLME-Indication with</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span> <span class="comment">     *        a MLME type of MLME_SCHEDULE_UPLINK.</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span> <span class="comment">     */</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>     <span class="keywordtype">void</span> set_mlme_schedule_ul_indication(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span> <span class="comment"></span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span> <span class="comment">    /**</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span> <span class="comment">     * @brief Resets MAC specific parameters to default</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span> <span class="comment">     */</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>     <span class="keywordtype">void</span> reset_mac_parameters(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span> <span class="comment"></span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span> <span class="comment">    /**</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span> <span class="comment">     * Handles a Join Accept frame</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span> <span class="comment">     */</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>     <span class="keywordtype">void</span> handle_join_accept_frame(<span class="keyword">const</span> uint8_t *payload, uint16_t size);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span> <span class="comment"></span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span> <span class="comment">    /**</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span> <span class="comment">     * Handles data frames</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span> <span class="comment">     */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>     <span class="keywordtype">void</span> handle_data_frame(<span class="keyword">const</span> uint8_t *payload,  uint16_t size, uint8_t ptr_pos,</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>                            uint8_t msg_type, int16_t rssi, int8_t snr);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span> <span class="comment"></span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span> <span class="comment">    /**</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span> <span class="comment">     * Send a Join Request</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span> <span class="comment">     */</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> send_join_request();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span> <span class="comment"></span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span> <span class="comment">    /**</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span> <span class="comment">     * Handles retransmissions</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span> <span class="comment">     */</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> handle_retransmission();</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span> <span class="comment"></span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span> <span class="comment">    /**</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span> <span class="comment">     * Checks if the frame is valid</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span> <span class="comment">     */</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>     <span class="keywordtype">void</span> check_frame_size(uint16_t size);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span> <span class="comment"></span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span> <span class="comment">    /**</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span> <span class="comment">     * Performs MIC</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span> <span class="comment">     */</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>     <span class="keywordtype">bool</span> message_integrity_check(<span class="keyword">const</span> uint8_t *payload, uint16_t size,</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>                                  uint8_t *ptr_pos, uint32_t address,</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>                                  uint32_t *downlink_counter, <span class="keyword">const</span> uint8_t *nwk_skey);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span> <span class="comment"></span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span> <span class="comment">    /**</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span> <span class="comment">     * Decrypts and extracts data and MAC commands from the received encrypted</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span> <span class="comment">     * payload</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span> <span class="comment">     */</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>     <span class="keywordtype">void</span> extract_data_and_mac_commands(<span class="keyword">const</span> uint8_t *payload, uint16_t size,</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>                                        uint8_t fopts_len, uint8_t *nwk_skey,</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>                                        uint8_t *app_skey, uint32_t address,</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>                                        uint32_t downlink_frame_counter,</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>                                        int16_t rssi, int8_t snr);<span class="comment"></span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span> <span class="comment">    /**</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span> <span class="comment">     * Decrypts and extracts MAC commands from the received encrypted</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span> <span class="comment">     * payload if there is no data</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span> <span class="comment">     */</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>     <span class="keywordtype">void</span> extract_mac_commands_only(<span class="keyword">const</span> uint8_t *payload, int8_t snr, uint8_t fopts_len);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span> <span class="comment"></span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span> <span class="comment">    /**</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span> <span class="comment">     * Callback function to be executed when the DC backoff timer expires</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span> <span class="comment">     */</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>     <span class="keywordtype">void</span> on_backoff_timer_expiry(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span> <span class="comment"></span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span> <span class="comment">    /**</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span> <span class="comment">     * At the end of an RX1 window timer, an RX1 window is opened using this method.</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span> <span class="comment">     */</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>     <span class="keywordtype">void</span> open_rx1_window(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span> <span class="comment"></span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span> <span class="comment">    /**</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span> <span class="comment">     * At the end of an RX2 window timer, an RX2 window is opened using this method.</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span> <span class="comment">     */</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>     <span class="keywordtype">void</span> open_rx2_window(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span> <span class="comment"></span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span> <span class="comment">    /**</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span> <span class="comment">     * A method to retry a CONFIRMED message after a particular time period</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span> <span class="comment">     * (ACK_TIMEOUT = TIME_IN_MS) if the ack was not received</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span> <span class="comment">     */</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>     <span class="keywordtype">void</span> on_ack_timeout_timer_event(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span> <span class="comment"></span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span> <span class="comment">    /*!</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span> <span class="comment">     * \brief Check if the OnAckTimeoutTimer has do be disabled. If so, the</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span> <span class="comment">     *        function disables it.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span> <span class="comment">     *</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span> <span class="comment">     * \param [in] node_ack_requested Set to true, if the node has requested an ACK</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span> <span class="comment">     * \param [in] dev_class The device class</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span> <span class="comment">     * \param [in] ack_received Set to true, if the node has received an ACK</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span> <span class="comment">     * \param [in] ack_timeout_retries_counter Retries counter for confirmed uplinks</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span> <span class="comment">     * \param [in] ack_timeout_retries Maximum retries for confirmed uplinks</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span> <span class="comment">     */</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>     <span class="keywordtype">void</span> check_to_disable_ack_timeout(<span class="keywordtype">bool</span> node_ack_requested,</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>                                       <a class="code" href="lorawan__types_8h.html#a594f261dd34319dca9994f181ff1c087">device_class_t</a> dev_class,</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>                                       <span class="keywordtype">bool</span> ack_received,</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>                                       uint8_t ack_timeout_retries_counter,</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>                                       uint8_t ack_timeout_retries);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span> <span class="comment"></span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span> <span class="comment">    /**</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span> <span class="comment">     * Validates if the payload fits into the frame, taking the datarate</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span> <span class="comment">     * into account.</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span> <span class="comment">     *</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span> <span class="comment">     * Please Refer to chapter 4.3.2 of the LoRaWAN specification, v1.0.2</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span> <span class="comment">     */</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>     <span class="keywordtype">bool</span> validate_payload_length(uint16_t length, int8_t datarate, uint8_t fopts_len);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span> <span class="comment"></span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span> <span class="comment">    /**</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span> <span class="comment">     * Prepares MAC frame on the behest of send() API.</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span> <span class="comment">     */</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> prepare_frame(<a class="code" href="unionloramac__mhdr__t.html">loramac_mhdr_t</a> *mac_hdr,</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>                                    <a class="code" href="unionloramac__frame__ctrl__t.html">loramac_frame_ctrl_t</a> *fctrl, <span class="keyword">const</span> uint8_t fport,</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>                                    <span class="keyword">const</span> <span class="keywordtype">void</span> *fbuffer, uint16_t fbuffer_size);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span> <span class="comment"></span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span> <span class="comment">    /**</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span> <span class="comment">     * Schedules a transmission on the behest of send() API.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span> <span class="comment">     */</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> schedule_tx();</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span> <span class="comment"></span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span> <span class="comment">    /**</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span> <span class="comment">     * Calculates the back-off time for the band of a channel.</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span> <span class="comment">     * Takes in the last used channel id as a parameter.</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span> <span class="comment">     */</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>     <span class="keywordtype">void</span> calculate_backOff(uint8_t channel_id);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span> <span class="comment"></span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span> <span class="comment">    /**</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span> <span class="comment">     * Hands over the MAC frame to PHY layer.</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span> <span class="comment">     */</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>     <a class="code" href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a> send_frame_on_channel(uint8_t channel);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span> <span class="comment"></span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span> <span class="comment">    /**</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span> <span class="comment">     * Resets MAC primitive blocks</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span> <span class="comment">     */</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>     <span class="keywordtype">void</span> reset_mcps_confirmation(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>     <span class="keywordtype">void</span> reset_mlme_confirmation(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>     <span class="keywordtype">void</span> reset_mcps_indication(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span> <span class="comment"></span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span> <span class="comment">    /**</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span> <span class="comment">     * @brief set_tx_continuous_wave Puts the system in continuous transmission mode</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span> <span class="comment">     * @param [in] channel A Channel to use</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span> <span class="comment">     * @param [in] datarate A datarate to use</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span> <span class="comment">     * @param [in] tx_power A RF output power to use</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span> <span class="comment">     * @param [in] max_eirp A maximum possible EIRP to use</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span> <span class="comment">     * @param [in] antenna_gain Antenna gain to use</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span> <span class="comment">     * @param [in] timeout Time in seconds while the radio is kept in continuous wave mode</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span> <span class="comment">     */</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>     <span class="keywordtype">void</span> set_tx_continuous_wave(uint8_t channel, int8_t datarate, int8_t tx_power,</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>                                 <span class="keywordtype">float</span> max_eirp, <span class="keywordtype">float</span> antenna_gain, uint16_t timeout);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span> </div><div class="line"><a name="l00607"></a><span class="lineno">  607</span> <span class="keyword">private</span>:</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>     <span class="keyword">typedef</span> <a class="code" href="classmbed_1_1_scoped_lock.html">mbed::ScopedLock&lt;LoRaMac&gt;</a> <a class="code" href="classmbed_1_1_scoped_lock.html">Lock</a>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span> <span class="preprocessor">#if MBED_CONF_RTOS_PRESENT</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>     <a class="code" href="classrtos_1_1_mutex.html">rtos::Mutex</a> _mutex;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span> <span class="comment"></span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span> <span class="comment">    /**</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span> <span class="comment">     * Timer subsystem handle</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span> <span class="comment">     */</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>     <a class="code" href="class_lo_ra_w_a_n_time_handler.html">LoRaWANTimeHandler</a> _lora_time;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span> <span class="comment"></span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span> <span class="comment">    /**</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span> <span class="comment">     * LoRa PHY layer object storage</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span> <span class="comment">     */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>     <a class="code" href="class_lo_ra_p_h_y.html">LoRaPHY</a> *_lora_phy;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span> <span class="comment"></span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span> <span class="comment">    /**</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span> <span class="comment">     * MAC command handle</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span> <span class="comment">     */</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>     <a class="code" href="class_lo_ra_mac_command.html">LoRaMacCommand</a> _mac_commands;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span> <span class="comment"></span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span> <span class="comment">    /**</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span> <span class="comment">     * Channel planning subsystem</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span> <span class="comment">     */</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>     <a class="code" href="class_lo_ra_mac_channel_plan.html">LoRaMacChannelPlan</a> _channel_plan;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span> <span class="comment"></span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span> <span class="comment">    /**</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span> <span class="comment">     * Crypto handling subsystem</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span> <span class="comment">     */</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>     <a class="code" href="class_lo_ra_mac_crypto.html">LoRaMacCrypto</a> _lora_crypto;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span> <span class="comment"></span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span> <span class="comment">    /**</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span> <span class="comment">     * Central MAC layer data storage</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span> <span class="comment">     */</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>     <a class="code" href="structloramac__protocol__params.html">loramac_protocol_params</a> _params;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span> <span class="comment"></span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span> <span class="comment">    /**</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span> <span class="comment">     * EventQueue object storage</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span> <span class="comment">     */</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>     <a class="code" href="classevents_1_1_event_queue.html">events::EventQueue</a> *_ev_queue;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span> <span class="comment"></span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span> <span class="comment">    /**</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span> <span class="comment">     * Class C doesn't timeout in RX2 window as it is a continuous window.</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span> <span class="comment">     * We use this callback to inform the LoRaWANStack controller that we did</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span> <span class="comment">     * not receive a downlink in a time equal to normal Class A type RX2</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span> <span class="comment">     * window timeout. This marks a 'would-be' closure for RX2, actual RX2 is</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span> <span class="comment">     * not closed. Mostly network servers will send right at the beginning of</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span> <span class="comment">     * RX2 window if they have something to send. So if we didn't receive anything</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span> <span class="comment">     * in the time period equal to would be RX2 delay (which is a function of</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span> <span class="comment">     * uplink message length and data rate), we will invoke this callback to let</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span> <span class="comment">     * the upper layer know.</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span> <span class="comment">     */</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>     <a class="code" href="classmbed_1_1_callback.html">mbed::Callback&lt;void(void)&gt;</a> _rx2_would_be_closure_for_class_c;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span> <span class="comment"></span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span> <span class="comment">    /**</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span> <span class="comment">     * Transmission is async, i.e., a call to schedule_tx() may be deferred to</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span> <span class="comment">     * a time after a certain back off. We use this callback to inform the</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span> <span class="comment">     * controller layer that a specific TX transaction failed to schedule after</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span> <span class="comment">     * backoff or retry.</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span> <span class="comment">     */</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>     <a class="code" href="classmbed_1_1_callback.html">mbed::Callback&lt;void(void)&gt;</a> _scheduling_failure_handler;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span> </div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>     <a class="code" href="structtimer__event__t.html">timer_event_t</a> _rx2_closure_timer_for_class_c;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span> <span class="comment"></span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span> <span class="comment">    /**</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span> <span class="comment">     * Structure to hold MCPS indication data.</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span> <span class="comment">     */</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>     <a class="code" href="structloramac__mcps__indication__t.html">loramac_mcps_indication_t</a> _mcps_indication;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span> <span class="comment"></span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span> <span class="comment">    /**</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span> <span class="comment">     * Structure to hold MCPS confirm data.</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span> <span class="comment">     */</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>     <a class="code" href="structloramac__mcps__confirm__t.html">loramac_mcps_confirm_t</a> _mcps_confirmation;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span> <span class="comment"></span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span> <span class="comment">    /**</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span> <span class="comment">     * Structure to hold MLME indication data.</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span> <span class="comment">     */</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>     <a class="code" href="structloramac__mlme__indication__t.html">loramac_mlme_indication_t</a> _mlme_indication;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span> <span class="comment"></span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span> <span class="comment">    /**</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span> <span class="comment">     * Structure to hold MLME confirm data.</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span> <span class="comment">     */</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>     <a class="code" href="structloramac__mlme__confirm__t.html">loramac_mlme_confirm_t</a> _mlme_confirmation;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span> </div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>     <a class="code" href="structloramac__tx__message__t.html">loramac_tx_message_t</a> _ongoing_tx_msg;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span> </div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>     <span class="keywordtype">bool</span> _is_nwk_joined;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span> </div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>     <span class="keywordtype">bool</span> _can_cancel_tx;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span> </div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>     <span class="keywordtype">bool</span> _continuous_rx2_window_open;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span> </div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>     <a class="code" href="lorawan__types_8h.html#a594f261dd34319dca9994f181ff1c087">device_class_t</a> _device_class;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span> </div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>     uint8_t _prev_qos_level;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span> </div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>     <span class="keywordtype">bool</span> _demod_ongoing;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span> };</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span> </div><div class="line"><a name="l00706"></a><span class="lineno">  706</span> <span class="preprocessor">#endif // MBED_LORAWAN_MAC_H__</span></div><div class="ttc" id="class_lo_ra_mac_html_a8e1bac5c060ab8db0699e9ca73ba574a"><div class="ttname"><a href="class_lo_ra_mac.html#a8e1bac5c060ab8db0699e9ca73ba574a">LoRaMac::get_device_class</a></div><div class="ttdeci">device_class_t get_device_class() const </div><div class="ttdoc">device_class Returns active device class </div></div>
<div class="ttc" id="_lo_ra_mac_command_8h_html"><div class="ttname"><a href="_lo_ra_mac_command_8h.html">LoRaMacCommand.h</a></div><div class="ttdoc">LoRa MAC layer implementation. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a64eff6a88de284bf6be04429fb024c13"><div class="ttname"><a href="class_lo_ra_mac.html#a64eff6a88de284bf6be04429fb024c13">LoRaMac::continue_sending_process</a></div><div class="ttdeci">bool continue_sending_process(void)</div><div class="ttdoc">Checks if the CONFIRMED data can be sent again or not. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a9c641a4c9144038b72e359527facce4e"><div class="ttname"><a href="class_lo_ra_mac.html#a9c641a4c9144038b72e359527facce4e">LoRaMac::on_radio_rx_timeout</a></div><div class="ttdeci">void on_radio_rx_timeout(bool is_timeout)</div><div class="ttdoc">MAC operations upon empty reception slots. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a0e774304d7955fba4fb54ef6f2b98318"><div class="ttname"><a href="class_lo_ra_mac.html#a0e774304d7955fba4fb54ef6f2b98318">LoRaMac::get_channel_plan</a></div><div class="ttdeci">lorawan_status_t get_channel_plan(lorawan_channelplan_t &amp;plan)</div><div class="ttdoc">Access active channel plan. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a6cd4ac89517ce5f79d44480e8202edc1"><div class="ttname"><a href="class_lo_ra_mac.html#a6cd4ac89517ce5f79d44480e8202edc1">LoRaMac::reset_ongoing_tx</a></div><div class="ttdeci">void reset_ongoing_tx(bool reset_pending=false)</div><div class="ttdoc">reset_ongoing_tx Resets _ongoing_tx_msg. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a198b739e767d67632450c8163cf48ed1"><div class="ttname"><a href="class_lo_ra_mac.html#a198b739e767d67632450c8163cf48ed1">LoRaMac::continue_joining_process</a></div><div class="ttdeci">bool continue_joining_process(void)</div><div class="ttdoc">Handles retransmissions of Join requests if an Accept was not received. </div></div>
<div class="ttc" id="classmbed_1_1_scoped_lock_html"><div class="ttname"><a href="classmbed_1_1_scoped_lock.html">mbed::ScopedLock</a></div><div class="ttdoc">RAII-style mechanism for owning a lock of Lockable object for the duration of a scoped block...</div><div class="ttdef"><b>Definition:</b> <a href="_scoped_lock_8h_source.html#l00063">ScopedLock.h:63</a></div></div>
<div class="ttc" id="_lo_ra_p_h_y_8h_html"><div class="ttname"><a href="_lo_ra_p_h_y_8h.html">LoRaPHY.h</a></div><div class="ttdoc">An abstract class providing radio object to children and provide base for implementing LoRa PHY layer...</div></div>
<div class="ttc" id="structloramac__mcps__confirm__t_html"><div class="ttname"><a href="structloramac__mcps__confirm__t.html">loramac_mcps_confirm_t</a></div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00578">lorawan_data_structures.h:578</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_af14aafa1ff9571e92f0008120f6a1858"><div class="ttname"><a href="class_lo_ra_mac.html#af14aafa1ff9571e92f0008120f6a1858">LoRaMac::add_channel_plan</a></div><div class="ttdeci">lorawan_status_t add_channel_plan(const lorawan_channelplan_t &amp;plan)</div><div class="ttdoc">Adds a channel plan to the system. </div></div>
<div class="ttc" id="class_lo_ra_mac_html"><div class="ttname"><a href="class_lo_ra_mac.html">LoRaMac</a></div><div class="ttdoc">LoRaMac Class Implementation of LoRaWAN MAC layer. </div><div class="ttdef"><b>Definition:</b> <a href="_lo_ra_mac_8h_source.html#l00062">LoRaMac.h:62</a></div></div>
<div class="ttc" id="classevents_1_1_event_queue_html"><div class="ttname"><a href="classevents_1_1_event_queue.html">events::EventQueue</a></div><div class="ttdoc">EventQueue. </div><div class="ttdef"><b>Definition:</b> <a href="_event_queue_8h_source.html#l00062">EventQueue.h:62</a></div></div>
<div class="ttc" id="structloramac__mlme__indication__t_html"><div class="ttname"><a href="structloramac__mlme__indication__t.html">loramac_mlme_indication_t</a></div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00826">lorawan_data_structures.h:826</a></div></div>
<div class="ttc" id="structloramac__mcps__indication__t_html"><div class="ttname"><a href="structloramac__mcps__indication__t.html">loramac_mcps_indication_t</a></div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00621">lorawan_data_structures.h:621</a></div></div>
<div class="ttc" id="lorawan__types_8h_html_a594f261dd34319dca9994f181ff1c087"><div class="ttname"><a href="lorawan__types_8h.html#a594f261dd34319dca9994f181ff1c087">device_class_t</a></div><div class="ttdeci">device_class_t</div><div class="ttdoc">LoRaWAN device classes definition. </div><div class="ttdef"><b>Definition:</b> <a href="lorawan__types_8h_source.html#l00059">lorawan_types.h:59</a></div></div>
<div class="ttc" id="structloramac__mlme__confirm__t_html"><div class="ttname"><a href="structloramac__mlme__confirm__t.html">loramac_mlme_confirm_t</a></div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00790">lorawan_data_structures.h:790</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_abb5b04c34a3fe04fe487f0879a8c8806"><div class="ttname"><a href="class_lo_ra_mac.html#abb5b04c34a3fe04fe487f0879a8c8806">LoRaMac::nwk_joined</a></div><div class="ttdeci">bool nwk_joined()</div><div class="ttdoc">nwk_joined Checks if device has joined to network </div></div>
<div class="ttc" id="class_lo_ra_mac_html_af9d8dff9f484b7bab692ca737626881d"><div class="ttname"><a href="class_lo_ra_mac.html#af9d8dff9f484b7bab692ca737626881d">LoRaMac::~LoRaMac</a></div><div class="ttdeci">~LoRaMac()</div><div class="ttdoc">Destructor. </div></div>
<div class="ttc" id="structloramac__tx__message__t_html"><div class="ttname"><a href="structloramac__tx__message__t.html">loramac_tx_message_t</a></div><div class="ttdoc">Stack level TX message structure. </div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00855">lorawan_data_structures.h:855</a></div></div>
<div class="ttc" id="lorawan__data__structures_8h_html_acaf8d265498751ffdce0c27358d38f89"><div class="ttname"><a href="lorawan__data__structures_8h.html#acaf8d265498751ffdce0c27358d38f89">rx_slot_t</a></div><div class="ttdeci">rx_slot_t</div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00137">lorawan_data_structures.h:137</a></div></div>
<div class="ttc" id="structtimer__event__t_html"><div class="ttname"><a href="structtimer__event__t.html">timer_event_t</a></div><div class="ttdoc">Timer object description. </div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l01054">lorawan_data_structures.h:1054</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a06f20e5d0eba983326fda64875b5d235"><div class="ttname"><a href="class_lo_ra_mac.html#a06f20e5d0eba983326fda64875b5d235">LoRaMac::prepare_ongoing_tx</a></div><div class="ttdeci">int16_t prepare_ongoing_tx(const uint8_t port, const uint8_t *data, uint16_t length, uint8_t flags, uint8_t num_retries)</div><div class="ttdoc">prepare_ongoing_tx This will prepare (and override) ongoing_tx_msg. </div></div>
<div class="ttc" id="lorawan__data__structures_8h_html_ac4d7b9e2b0448787d12d6a397eb800db"><div class="ttname"><a href="lorawan__data__structures_8h.html#ac4d7b9e2b0448787d12d6a397eb800db">lorawan_time_t</a></div><div class="ttdeci">uint32_t lorawan_time_t</div><div class="ttdoc">Timer time variable definition. </div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00044">lorawan_data_structures.h:44</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a3de66c510a666058550a6b2530e132be"><div class="ttname"><a href="class_lo_ra_mac.html#a3de66c510a666058550a6b2530e132be">LoRaMac::join</a></div><div class="ttdeci">lorawan_status_t join(bool is_otaa)</div><div class="ttdoc">join Joins the network. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a5e5b810bd7d93e141a825fdbbce1c088"><div class="ttname"><a href="class_lo_ra_mac.html#a5e5b810bd7d93e141a825fdbbce1c088">LoRaMac::multicast_channel_link</a></div><div class="ttdeci">lorawan_status_t multicast_channel_link(multicast_params_t *channel_param)</div><div class="ttdoc">LoRaMAC multicast channel link service. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a25703faa73d11427e2ef4cc3a037d3ac"><div class="ttname"><a href="class_lo_ra_mac.html#a25703faa73d11427e2ef4cc3a037d3ac">LoRaMac::remove_channel_plan</a></div><div class="ttdeci">lorawan_status_t remove_channel_plan()</div><div class="ttdoc">Removes a channel plan from the system. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a1a5157c1820fdd238b85ca9b43bb48fc"><div class="ttname"><a href="class_lo_ra_mac.html#a1a5157c1820fdd238b85ca9b43bb48fc">LoRaMac::get_default_tx_datarate</a></div><div class="ttdeci">uint8_t get_default_tx_datarate()</div><div class="ttdoc">get_default_tx_datarate Gets the default TX datarate </div></div>
<div class="ttc" id="class_lo_ra_mac_html_ac3ab4792fb0bda15e1b7a387f089e8a6"><div class="ttname"><a href="class_lo_ra_mac.html#ac3ab4792fb0bda15e1b7a387f089e8a6">LoRaMac::get_prev_QOS_level</a></div><div class="ttdeci">uint8_t get_prev_QOS_level(void)</div><div class="ttdoc">Indicates level of QOS used for the previous outgoing message. </div></div>
<div class="ttc" id="class_lo_ra_p_h_y_html"><div class="ttname"><a href="class_lo_ra_p_h_y.html">LoRaPHY</a></div><div class="ttdoc">LoRaPHY Class Parent class for LoRa regional PHY implementations. </div><div class="ttdef"><b>Definition:</b> <a href="_lo_ra_p_h_y_8h_source.html#l00046">LoRaPHY.h:46</a></div></div>
<div class="ttc" id="class_lo_ra_w_a_n_time_handler_html"><div class="ttname"><a href="class_lo_ra_w_a_n_time_handler.html">LoRaWANTimeHandler</a></div><div class="ttdoc">/ _____) _ | | ( (____ _____ ____ _| |_ _____ ____| |__ ____ | ___ | (_ _) ___ |/ ___) _ \ _____) ) _...</div><div class="ttdef"><b>Definition:</b> <a href="_lo_ra_w_a_n_timer_8h_source.html#l00029">LoRaWANTimer.h:29</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a451933d955e89c460d5fe4c58080af0d"><div class="ttname"><a href="class_lo_ra_mac.html#a451933d955e89c460d5fe4c58080af0d">LoRaMac::get_backoff_timer_event_id</a></div><div class="ttdeci">int get_backoff_timer_event_id(void)</div><div class="ttdoc">Returns the event ID of backoff timer. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a5d9ce4a64d4cac42e3cec688486ca4b9"><div class="ttname"><a href="class_lo_ra_mac.html#a5d9ce4a64d4cac42e3cec688486ca4b9">LoRaMac::set_channel_data_rate</a></div><div class="ttdeci">lorawan_status_t set_channel_data_rate(uint8_t data_rate)</div><div class="ttdoc">Sets up the data rate. </div></div>
<div class="ttc" id="class_lo_ra_mac_channel_plan_html"><div class="ttname"><a href="class_lo_ra_mac_channel_plan.html">LoRaMacChannelPlan</a></div><div class="ttdef"><b>Definition:</b> <a href="_lo_ra_mac_channel_plan_8h_source.html#l00034">LoRaMacChannelPlan.h:34</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_ab5b8e466c7005a2faa83957c5b805adf"><div class="ttname"><a href="class_lo_ra_mac.html#ab5b8e466c7005a2faa83957c5b805adf">LoRaMac::tx_ongoing</a></div><div class="ttdeci">bool tx_ongoing()</div><div class="ttdoc">tx_ongoing Check whether a prepare is done or not. </div></div>
<div class="ttc" id="lorawan__types_8h_html_a9efa78377307e6772301c80921b56872"><div class="ttname"><a href="lorawan__types_8h.html#a9efa78377307e6772301c80921b56872">lorawan_status_t</a></div><div class="ttdeci">enum lorawan_status lorawan_status_t</div><div class="ttdoc">lorawan_status_t contains status codes in response to stack operations </div></div>
<div class="ttc" id="structlorawan__connect_html"><div class="ttname"><a href="structlorawan__connect.html">lorawan_connect</a></div><div class="ttdoc">lorawan_connect_t structure </div><div class="ttdef"><b>Definition:</b> <a href="lorawan__types_8h_source.html#l00171">lorawan_types.h:171</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a072e15abbff87af6d493da6713cea84e"><div class="ttname"><a href="class_lo_ra_mac.html#a072e15abbff87af6d493da6713cea84e">LoRaMac::on_radio_rx_done</a></div><div class="ttdeci">void on_radio_rx_done(const uint8_t *const payload, uint16_t size, int16_t rssi, int8_t snr)</div><div class="ttdoc">MAC operations upon reception. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a9af36fbaa1c406a8d3bf45a51d93d60c"><div class="ttname"><a href="class_lo_ra_mac.html#a9af36fbaa1c406a8d3bf45a51d93d60c">LoRaMac::clear_tx_pipe</a></div><div class="ttdeci">lorawan_status_t clear_tx_pipe(void)</div><div class="ttdoc">Clears out the TX pipe by discarding any outgoing message if the backoff timer is still running...</div></div>
<div class="ttc" id="class_lo_ra_mac_html_a544bfe06be72265bd5597f8d16c6a4b7"><div class="ttname"><a href="class_lo_ra_mac.html#a544bfe06be72265bd5597f8d16c6a4b7">LoRaMac::get_mcps_confirmation</a></div><div class="ttdeci">const loramac_mcps_confirm_t * get_mcps_confirmation() const </div><div class="ttdoc">Read-only access to MAC primitive blocks. </div></div>
<div class="ttc" id="class_lo_ra_mac_crypto_html"><div class="ttname"><a href="class_lo_ra_mac_crypto.html">LoRaMacCrypto</a></div><div class="ttdef"><b>Definition:</b> <a href="_lo_ra_mac_crypto_8h_source.html#l00037">LoRaMacCrypto.h:37</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a4fe9f0859505fdc6ec73513d550218c2"><div class="ttname"><a href="class_lo_ra_mac.html#a4fe9f0859505fdc6ec73513d550218c2">LoRaMac::send_ongoing_tx</a></div><div class="ttdeci">lorawan_status_t send_ongoing_tx(void)</div><div class="ttdoc">send_ongoing_tx Sends the ongoing_tx_msg </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a82550f3db9020f5826681900243bfaa4"><div class="ttname"><a href="class_lo_ra_mac.html#a82550f3db9020f5826681900243bfaa4">LoRaMac::enable_adaptive_datarate</a></div><div class="ttdeci">void enable_adaptive_datarate(bool adr_enabled)</div><div class="ttdoc">enable_adaptive_datarate Enables or disables adaptive datarate. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_acbd8ddb46619eaf9397ff0a0f5db4bf6"><div class="ttname"><a href="class_lo_ra_mac.html#acbd8ddb46619eaf9397ff0a0f5db4bf6">LoRaMac::prepare_join</a></div><div class="ttdeci">lorawan_status_t prepare_join(const lorawan_connect_t *params, bool is_otaa)</div><div class="ttdoc">prepare_join prepares arguments to be ready for join() call. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_aeb99ff49b4a6d5157416f9b5bd0d9c2c"><div class="ttname"><a href="class_lo_ra_mac.html#aeb99ff49b4a6d5157416f9b5bd0d9c2c">LoRaMac::lock</a></div><div class="ttdeci">void lock(void)</div><div class="ttdoc">These locks trample through to the upper layers and make the stack thread safe. </div><div class="ttdef"><b>Definition:</b> <a href="_lo_ra_mac_8h_source.html#l00436">LoRaMac.h:436</a></div></div>
<div class="ttc" id="classrtos_1_1_mutex_html"><div class="ttname"><a href="classrtos_1_1_mutex.html">rtos::Mutex</a></div><div class="ttdoc">The Mutex class is used to synchronize the execution of threads. </div><div class="ttdef"><b>Definition:</b> <a href="_mutex_8h_source.html#l00070">Mutex.h:70</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a42b0e7d244636f6ed145708affb24a09"><div class="ttname"><a href="class_lo_ra_mac.html#a42b0e7d244636f6ed145708affb24a09">LoRaMac::setup_link_check_request</a></div><div class="ttdeci">void setup_link_check_request()</div><div class="ttdoc">setup_link_check_request Adds link check request command to be put on next outgoing message (when it ...</div></div>
<div class="ttc" id="unionloramac__frame__ctrl__t_html"><div class="ttname"><a href="unionloramac__frame__ctrl__t.html">loramac_frame_ctrl_t</a></div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00444">lorawan_data_structures.h:444</a></div></div>
<div class="ttc" id="structlora__channelplan_html"><div class="ttname"><a href="structlora__channelplan.html">lora_channelplan</a></div><div class="ttdoc">DO NOT MODIFY, WILL BREAK THE API! </div><div class="ttdef"><b>Definition:</b> <a href="lorawan__types_8h_source.html#l00349">lorawan_types.h:349</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a0f280d1c1ee799f45cc31787ff452ae0"><div class="ttname"><a href="class_lo_ra_mac.html#a0f280d1c1ee799f45cc31787ff452ae0">LoRaMac::send</a></div><div class="ttdeci">lorawan_status_t send(loramac_mhdr_t *mac_hdr, const uint8_t fport, const void *fbuffer, uint16_t fbuffer_size)</div><div class="ttdoc">Schedules the frame for sending. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_af818e92d65aabb67cb89461eac254464"><div class="ttname"><a href="class_lo_ra_mac.html#af818e92d65aabb67cb89461eac254464">LoRaMac::on_radio_tx_done</a></div><div class="ttdeci">void on_radio_tx_done(lorawan_time_t timestamp)</div><div class="ttdoc">MAC operations upon successful transmission. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_ae452089d10becb7f7bfe518197e62413"><div class="ttname"><a href="class_lo_ra_mac.html#ae452089d10becb7f7bfe518197e62413">LoRaMac::set_tx_ongoing</a></div><div class="ttdeci">void set_tx_ongoing(bool ongoing)</div><div class="ttdoc">set_tx_ongoing Changes the ongoing status for prepared message. </div></div>
<div class="ttc" id="class_lo_ra_mac_command_html"><div class="ttname"><a href="class_lo_ra_mac_command.html">LoRaMacCommand</a></div><div class="ttdoc">LoRaMacCommand Class Helper class for LoRaMac layer to handle any MAC commands. </div><div class="ttdef"><b>Definition:</b> <a href="_lo_ra_mac_command_8h_source.html#l00057">LoRaMacCommand.h:57</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a2f3cf44f4c18d6fc00899ca34ee081e9"><div class="ttname"><a href="class_lo_ra_mac.html#a2f3cf44f4c18d6fc00899ca34ee081e9">LoRaMac::multicast_channel_unlink</a></div><div class="ttdeci">lorawan_status_t multicast_channel_unlink(multicast_params_t *channel_param)</div><div class="ttdoc">LoRaMAC multicast channel unlink service. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_acd267244379ccbaae092bd992278199d"><div class="ttname"><a href="class_lo_ra_mac.html#acd267244379ccbaae092bd992278199d">LoRaMac::bind_phy</a></div><div class="ttdeci">void bind_phy(LoRaPHY &amp;phy)</div><div class="ttdoc">Binds phy layer to MAC. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a55280e9b7d2a58cd90fcdccc5c48082b"><div class="ttname"><a href="class_lo_ra_mac.html#a55280e9b7d2a58cd90fcdccc5c48082b">LoRaMac::get_QOS_level</a></div><div class="ttdeci">uint8_t get_QOS_level(void)</div><div class="ttdoc">Indicates what level of QOS is set by network server. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_aefed50b16175dd8aa820ea9821895759"><div class="ttname"><a href="class_lo_ra_mac.html#aefed50b16175dd8aa820ea9821895759">LoRaMac::get_current_time</a></div><div class="ttdeci">lorawan_time_t get_current_time(void)</div><div class="ttdoc">Gets the current time. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a7a679fe13c70a5c0deba99ab979d5c5d"><div class="ttname"><a href="class_lo_ra_mac.html#a7a679fe13c70a5c0deba99ab979d5c5d">LoRaMac::initialize</a></div><div class="ttdeci">lorawan_status_t initialize(events::EventQueue *queue, mbed::Callback&lt; void(void)&gt;scheduling_failure_handler)</div><div class="ttdoc">LoRaMAC layer initialization. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_acd84c5aa93cd07e63762435dfc0fb0d3"><div class="ttname"><a href="class_lo_ra_mac.html#acd84c5aa93cd07e63762435dfc0fb0d3">LoRaMac::LoRaMac</a></div><div class="ttdeci">LoRaMac()</div><div class="ttdoc">Constructor. </div></div>
<div class="ttc" id="lorawan__data__structures_8h_html"><div class="ttname"><a href="lorawan__data__structures_8h.html">lorawan_data_structures.h</a></div><div class="ttdoc">Contains common data structures used by Mbed-OS LoRaWAN mplementation. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a14fa7fcfa7b4de7c203826123e5c7dba"><div class="ttname"><a href="class_lo_ra_mac.html#a14fa7fcfa7b4de7c203826123e5c7dba">LoRaMac::on_radio_tx_timeout</a></div><div class="ttdeci">void on_radio_tx_timeout(void)</div><div class="ttdoc">MAC operations upon transmission timeout. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a09fb473c457b5636e21ef910bd8993b4"><div class="ttname"><a href="class_lo_ra_mac.html#a09fb473c457b5636e21ef910bd8993b4">LoRaMac::remove_single_channel</a></div><div class="ttdeci">lorawan_status_t remove_single_channel(uint8_t id)</div><div class="ttdoc">Remove a given channel from the active plan. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a6cde4df86f91f95f81b108a4baed454e"><div class="ttname"><a href="class_lo_ra_mac.html#a6cde4df86f91f95f81b108a4baed454e">LoRaMac::get_current_slot</a></div><div class="ttdeci">rx_slot_t get_current_slot(void)</div><div class="ttdoc">Gets the current receive slot. </div></div>
<div class="ttc" id="unionloramac__mhdr__t_html"><div class="ttname"><a href="unionloramac__mhdr__t.html">loramac_mhdr_t</a></div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00415">lorawan_data_structures.h:415</a></div></div>
<div class="ttc" id="structmulticast__params__s_html"><div class="ttname"><a href="structmulticast__params__s.html">multicast_params_s</a></div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l00237">lorawan_data_structures.h:237</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a888a5acf1fe3a8902f7cb2f5039cb334"><div class="ttname"><a href="class_lo_ra_mac.html#a888a5acf1fe3a8902f7cb2f5039cb334">LoRaMac::disconnect</a></div><div class="ttdeci">void disconnect(void)</div><div class="ttdoc">Disconnect LoRaMac layer. </div></div>
<div class="ttc" id="structloramac__protocol__params_html"><div class="ttname"><a href="structloramac__protocol__params.html">loramac_protocol_params</a></div><div class="ttdef"><b>Definition:</b> <a href="lorawan__data__structures_8h_source.html#l01135">lorawan_data_structures.h:1135</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a412901d0f5dfbafd5bde5557b7557b17"><div class="ttname"><a href="class_lo_ra_mac.html#a412901d0f5dfbafd5bde5557b7557b17">LoRaMac::set_device_class</a></div><div class="ttdeci">void set_device_class(const device_class_t &amp;device_class, mbed::Callback&lt; void(void)&gt;rx2_would_be_closure_handler)</div><div class="ttdoc">set_device_class Sets active device class. </div></div>
<div class="ttc" id="classmbed_1_1_callback_html"><div class="ttname"><a href="classmbed_1_1_callback.html">mbed::Callback</a></div><div class="ttdoc">Callback class based on template specialization. </div><div class="ttdef"><b>Definition:</b> <a href="_callback_8h_source.html#l00053">Callback.h:53</a></div></div>
<div class="ttc" id="class_lo_ra_mac_html_a02b4a3a4240745ee436433ead0e8bc62"><div class="ttname"><a href="class_lo_ra_mac.html#a02b4a3a4240745ee436433ead0e8bc62">LoRaMac::set_batterylevel_callback</a></div><div class="ttdeci">void set_batterylevel_callback(mbed::Callback&lt; uint8_t(void)&gt; battery_level)</div><div class="ttdoc">Set battery level query callback. </div></div>
<div class="ttc" id="class_lo_ra_mac_html_a8eab051cf9c87e831cb331200d87a5b0"><div class="ttname"><a href="class_lo_ra_mac.html#a8eab051cf9c87e831cb331200d87a5b0">LoRaMac::post_process_mcps_req</a></div><div class="ttdeci">void post_process_mcps_req(void)</div><div class="ttdoc">Post processing steps in response to actions carried out by controller layer and Mac. </div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/_lo_ra_mac_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:24:41 GMT -->
</html>
