<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/pbuf_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:25:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | pbuf.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="pbuf_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/pbuf_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/pbuf_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_656714f9000830b7293277f30e3fdca8.html">lwipstack</a></li><li class="navelem"><a class="el" href="dir_51bed4128c7c35e28f2b56d9a4d3889d.html">lwip</a></li><li class="navelem"><a class="el" href="dir_a2f77adba6621efb54744c8be588cd6c.html">src</a></li><li class="navelem"><a class="el" href="dir_d881691941f72a257ee32ad5471a029d.html">include</a></li><li class="navelem"><a class="el" href="dir_3fb69e7ecf761e536af7cd2ef4e3092c.html">lwip</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">pbuf.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="pbuf_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment">/**</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment"> * @file</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment"> * pbuf API</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment"> */</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> </div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> <span class="comment">/*</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment"> * Copyright (c) 2001-2004 Swedish Institute of Computer Science.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment"> * All rights reserved.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment"> * Redistribution and use in source and binary forms, with or without modification,</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment"> * are permitted provided that the following conditions are met:</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment"> * 1. Redistributions of source code must retain the above copyright notice,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment"> *    this list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright notice,</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> <span class="comment"> *    this list of conditions and the following disclaimer in the documentation</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> <span class="comment"> *    and/or other materials provided with the distribution.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> <span class="comment"> * 3. The name of the author may not be used to endorse or promote products</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> <span class="comment"> *    derived from this software without specific prior written permission.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> <span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="comment"> * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> <span class="comment"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="comment"> * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> <span class="comment"> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> <span class="comment"> * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> <span class="comment"> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> <span class="comment"> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> <span class="comment"> * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="comment"> * OF SUCH DAMAGE.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> <span class="comment"> *</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="comment"> * This file is part of the lwIP TCP/IP stack.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> <span class="comment"> *</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="comment"> * Author: Adam Dunkels &lt;adam@sics.se&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> <span class="comment"> *</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> <span class="comment"> */</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> </div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="preprocessor">#ifndef LWIP_HDR_PBUF_H</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> <span class="preprocessor">#define LWIP_HDR_PBUF_H</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span> </div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> <span class="preprocessor">#include "<a class="code" href="opt_8h.html">lwip/opt.h</a>"</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> <span class="preprocessor">#include "<a class="code" href="err_8h.html">lwip/err.h</a>"</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span> </div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span> <span class="comment"></span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span> <span class="comment">/** LWIP_SUPPORT_CUSTOM_PBUF==1: Custom pbufs behave much like their pbuf type</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span> <span class="comment"> * but they are allocated by external code (initialised by calling</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span> <span class="comment"> * pbuf_alloced_custom()) and when pbuf_free gives up their last reference, they</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> <span class="comment"> * are freed by calling pbuf_custom-&gt;custom_free_function().</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span> <span class="comment"> * Currently, the pbuf_custom code is only needed for one specific configuration</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> <span class="comment"> * of IP_FRAG, unless required by external driver/application code. */</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> <span class="preprocessor">#ifndef LWIP_SUPPORT_CUSTOM_PBUF</span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a64174c5169b48dc17674324afd9c63b9">   55</a></span> <span class="preprocessor">#define LWIP_SUPPORT_CUSTOM_PBUF ((IP_FRAG &amp;&amp; !LWIP_NETIF_TX_SINGLE_PBUF) || (LWIP_IPV6 &amp;&amp; LWIP_IPV6_FRAG))</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span> <span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span> <span class="comment">/** @ingroup pbuf </span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span> <span class="comment"> * PBUF_NEEDS_COPY(p): return a boolean value indicating whether the given</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span> <span class="comment"> * pbuf needs to be copied in order to be kept around beyond the current call</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span> <span class="comment"> * stack without risking being corrupted. The default setting provides safety:</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span> <span class="comment"> * it will make a copy iof any pbuf chain that does not consist entirely of</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span> <span class="comment"> * PBUF_ROM type pbufs. For setups with zero-copy support, it may be redefined</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span> <span class="comment"> * to evaluate to true in all cases, for example. However, doing so also has an</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span> <span class="comment"> * effect on the application side: any buffers that are *not* copied must also</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span> <span class="comment"> * *not* be reused by the application after passing them to lwIP. For example,</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span> <span class="comment"> * when setting PBUF_NEEDS_COPY to (0), after using udp_send() with a PBUF_RAM</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span> <span class="comment"> * pbuf, the application must free the pbuf immediately, rather than reusing it</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span> <span class="comment"> * for other purposes. For more background information on this, see tasks #6735</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span> <span class="comment"> * and #7896, and bugs #11400 and #49914. */</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> <span class="preprocessor">#ifndef PBUF_NEEDS_COPY</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a894d91d811fd986f3cc3da828fa7beb3">   72</a></span> <span class="preprocessor">#define PBUF_NEEDS_COPY(p)  ((p)-&gt;type_internal &amp; PBUF_TYPE_FLAG_DATA_VOLATILE)</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span> <span class="preprocessor">#endif </span><span class="comment">/* PBUF_NEEDS_COPY */</span><span class="preprocessor"></span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span> </div><div class="line"><a name="l00075"></a><span class="lineno">   75</span> <span class="comment">/* @todo: We need a mechanism to prevent wasting memory in every pbuf</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span> <span class="comment">   (TCP vs. UDP, IPv4 vs. IPv6: UDP/IPv4 packets may waste up to 28 bytes) */</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span> </div><div class="line"><a name="l00078"></a><span class="lineno">   78</span> <span class="preprocessor">#define PBUF_TRANSPORT_HLEN 20</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span> <span class="preprocessor">#if LWIP_IPV6</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span> <span class="preprocessor">#define PBUF_IP_HLEN        40</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span> <span class="preprocessor">#else</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span> <span class="preprocessor">#define PBUF_IP_HLEN        20</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span> <span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span> <span class="comment">/**</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span> <span class="comment"> * @ingroup pbuf</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> <span class="comment"> * Enumeration of pbuf layers</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span> <span class="comment"> */</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebf">   89</a></span> <span class="keyword">typedef</span> <span class="keyword">enum</span> {<span class="comment"></span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span> <span class="comment">  /** Includes spare room for transport layer header, e.g. UDP header.</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span> <span class="comment">   * Use this if you intend to pass the pbuf to functions like udp_send().</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span> <span class="comment">   */</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfa2ded3594a3977f8bf9cf09552be327b5">   93</a></span>   <a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfa2ded3594a3977f8bf9cf09552be327b5">PBUF_TRANSPORT</a> = <a class="code" href="group__lwip__opts__pbuf.html#ga6e1ba1875ae5168a17b53d83597bc1de">PBUF_LINK_ENCAPSULATION_HLEN</a> + <a class="code" href="group__lwip__opts__pbuf.html#ga35998a3d56af9940e6a80bb372597685">PBUF_LINK_HLEN</a> + PBUF_IP_HLEN + PBUF_TRANSPORT_HLEN,<span class="comment"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span> <span class="comment">  /** Includes spare room for IP header.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span> <span class="comment">   * Use this if you intend to pass the pbuf to functions like raw_send().</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span> <span class="comment">   */</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfafcc1e506061ba69dfa142eb6b3da5f13">   97</a></span>   <a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfafcc1e506061ba69dfa142eb6b3da5f13">PBUF_IP</a> = <a class="code" href="group__lwip__opts__pbuf.html#ga6e1ba1875ae5168a17b53d83597bc1de">PBUF_LINK_ENCAPSULATION_HLEN</a> + <a class="code" href="group__lwip__opts__pbuf.html#ga35998a3d56af9940e6a80bb372597685">PBUF_LINK_HLEN</a> + PBUF_IP_HLEN,<span class="comment"></span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span> <span class="comment">  /** Includes spare room for link layer header (ethernet header).</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span> <span class="comment">   * Use this if you intend to pass the pbuf to functions like ethernet_output().</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span> <span class="comment">   * @see PBUF_LINK_HLEN</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span> <span class="comment">   */</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfab4de441e737330558b609a990cd17346">  102</a></span>   <a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfab4de441e737330558b609a990cd17346">PBUF_LINK</a> = <a class="code" href="group__lwip__opts__pbuf.html#ga6e1ba1875ae5168a17b53d83597bc1de">PBUF_LINK_ENCAPSULATION_HLEN</a> + <a class="code" href="group__lwip__opts__pbuf.html#ga35998a3d56af9940e6a80bb372597685">PBUF_LINK_HLEN</a>,<span class="comment"></span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span> <span class="comment">  /** Includes spare room for additional encapsulation header before ethernet</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span> <span class="comment">   * headers (e.g. 802.11).</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span> <span class="comment">   * Use this if you intend to pass the pbuf to functions like netif-&gt;linkoutput().</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span> <span class="comment">   * @see PBUF_LINK_ENCAPSULATION_HLEN</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span> <span class="comment">   */</span></div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfa0ff039585f05f9208bcb66c2d37783e2">  108</a></span>   <a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfa0ff039585f05f9208bcb66c2d37783e2">PBUF_RAW_TX</a> = <a class="code" href="group__lwip__opts__pbuf.html#ga6e1ba1875ae5168a17b53d83597bc1de">PBUF_LINK_ENCAPSULATION_HLEN</a>,<span class="comment"></span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span> <span class="comment">  /** Use this for input packets in a netif driver when calling netif-&gt;input()</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span> <span class="comment">   * in the most common case - ethernet-layer netif driver. */</span></div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfa21116654fbab6d5a4dfeb87a1bb8f0ba">  111</a></span>   <a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfa21116654fbab6d5a4dfeb87a1bb8f0ba">PBUF_RAW</a> = 0</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span> } <a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebf">pbuf_layer</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span> </div><div class="line"><a name="l00114"></a><span class="lineno">  114</span> </div><div class="line"><a name="l00115"></a><span class="lineno">  115</span> <span class="comment">/* Base flags for pbuf_type definitions: */</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span> <span class="comment"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span> <span class="comment">/** Indicates that the payload directly follows the struct pbuf.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span> <span class="comment"> *  This makes @ref pbuf_header work in both directions. */</span></div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a49ab2c0662378f268ed8209bd54aaedf">  119</a></span> <span class="preprocessor">#define PBUF_TYPE_FLAG_STRUCT_DATA_CONTIGUOUS       0x80</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span> <span class="comment">/** Indicates the data stored in this pbuf can change. If this pbuf needs</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span> <span class="comment"> * to be queued, it must be copied/duplicated. */</span></div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a02789ca67766def65000b58f7fe7d03b">  122</a></span> <span class="preprocessor">#define PBUF_TYPE_FLAG_DATA_VOLATILE                0x40</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span> <span class="comment">/** 4 bits are reserved for 16 allocation sources (e.g. heap, pool1, pool2, etc)</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span> <span class="comment"> * Internally, we use: 0=heap, 1=MEMP_PBUF, 2=MEMP_PBUF_POOL -&gt; 13 types free*/</span></div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a97d4db8e0f127f61af0016c184c865ca">  125</a></span> <span class="preprocessor">#define PBUF_TYPE_ALLOC_SRC_MASK                    0x0F</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span> <span class="comment">/** Indicates this pbuf is used for RX (if not set, indicates use for TX).</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span> <span class="comment"> * This information can be used to keep some spare RX buffers e.g. for</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span> <span class="comment"> * receiving TCP ACKs to unblock a connection) */</span></div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a567a0dfa01b0e5540f9416a200ed163f">  129</a></span> <span class="preprocessor">#define PBUF_ALLOC_FLAG_RX                          0x0100</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span> <span class="comment">/** Indicates the application needs the pbuf payload to be in one piece */</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a426883d928f8f3e8fd066e616159d78f">  131</a></span> <span class="preprocessor">#define PBUF_ALLOC_FLAG_DATA_CONTIGUOUS             0x0200</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span> </div><div class="line"><a name="l00133"></a><span class="lineno">  133</span> <span class="preprocessor">#define PBUF_TYPE_ALLOC_SRC_MASK_STD_HEAP           0x00</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span> <span class="preprocessor">#define PBUF_TYPE_ALLOC_SRC_MASK_STD_MEMP_PBUF      0x01</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span> <span class="preprocessor">#define PBUF_TYPE_ALLOC_SRC_MASK_STD_MEMP_PBUF_POOL 0x02</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span> <span class="comment">/** First pbuf allocation type for applications */</span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="pbuf_8h.html#aa1f62ba9dc5d462e67e33c4be64c601a">  137</a></span> <span class="preprocessor">#define PBUF_TYPE_ALLOC_SRC_MASK_APP_MIN            0x03</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span> <span class="comment">/** Last pbuf allocation type for applications */</span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="pbuf_8h.html#aad686ef346759a221abdb45f64649816">  139</a></span> <span class="preprocessor">#define PBUF_TYPE_ALLOC_SRC_MASK_APP_MAX            PBUF_TYPE_ALLOC_SRC_MASK</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span> <span class="comment"></span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span> <span class="comment">/**</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span> <span class="comment"> * @ingroup pbuf</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span> <span class="comment"> * Enumeration of pbuf types</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span> <span class="comment"> */</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fb">  145</a></span> <span class="keyword">typedef</span> <span class="keyword">enum</span> {<span class="comment"></span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span> <span class="comment">  /** pbuf data is stored in RAM, used for TX mostly, struct pbuf and its payload</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span> <span class="comment">      are allocated in one piece of contiguous memory (so the first payload byte</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span> <span class="comment">      can be calculated from struct pbuf).</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span> <span class="comment">      pbuf_alloc() allocates PBUF_RAM pbufs as unchained pbufs (although that might</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span> <span class="comment">      change in future versions).</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span> <span class="comment">      This should be used for all OUTGOING packets (TX).*/</span></div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbac5e9f28455bca98944a030d4b84ecfab">  152</a></span>   <a class="code" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbac5e9f28455bca98944a030d4b84ecfab">PBUF_RAM</a> = (<a class="code" href="pbuf_8h.html#a426883d928f8f3e8fd066e616159d78f">PBUF_ALLOC_FLAG_DATA_CONTIGUOUS</a> | <a class="code" href="pbuf_8h.html#a49ab2c0662378f268ed8209bd54aaedf">PBUF_TYPE_FLAG_STRUCT_DATA_CONTIGUOUS</a> | PBUF_TYPE_ALLOC_SRC_MASK_STD_HEAP),<span class="comment"></span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span> <span class="comment">  /** pbuf data is stored in ROM, i.e. struct pbuf and its payload are located in</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span> <span class="comment">      totally different memory areas. Since it points to ROM, payload does not</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span> <span class="comment">      have to be copied when queued for transmission. */</span></div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbac120b0fe39efe35bb682e4aa3b82e2c9">  156</a></span>   <a class="code" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbac120b0fe39efe35bb682e4aa3b82e2c9">PBUF_ROM</a> = PBUF_TYPE_ALLOC_SRC_MASK_STD_MEMP_PBUF,<span class="comment"></span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span> <span class="comment">  /** pbuf comes from the pbuf pool. Much like PBUF_ROM but payload might change</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span> <span class="comment">      so it has to be duplicated when queued before transmitting, depending on</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span> <span class="comment">      who has a 'ref' to it. */</span></div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbac9b6ba960fdea6f2e8f35c8313b77e4e">  160</a></span>   <a class="code" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbac9b6ba960fdea6f2e8f35c8313b77e4e">PBUF_REF</a> = (<a class="code" href="pbuf_8h.html#a02789ca67766def65000b58f7fe7d03b">PBUF_TYPE_FLAG_DATA_VOLATILE</a> | PBUF_TYPE_ALLOC_SRC_MASK_STD_MEMP_PBUF),<span class="comment"></span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span> <span class="comment">  /** pbuf payload refers to RAM. This one comes from a pool and should be used</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span> <span class="comment">      for RX. Payload can be chained (scatter-gather RX) but like PBUF_RAM, struct</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span> <span class="comment">      pbuf and its payload are allocated in one piece of contiguous memory (so</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span> <span class="comment">      the first payload byte can be calculated from struct pbuf).</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span> <span class="comment">      Don't use this for TX, if the pool becomes empty e.g. because of TCP queuing,</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span> <span class="comment">      you are unable to receive TCP acks! */</span></div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbae969347127387b9b59a23ccd24b76d21">  167</a></span>   <a class="code" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbae969347127387b9b59a23ccd24b76d21">PBUF_POOL</a> = (<a class="code" href="pbuf_8h.html#a567a0dfa01b0e5540f9416a200ed163f">PBUF_ALLOC_FLAG_RX</a> | <a class="code" href="pbuf_8h.html#a49ab2c0662378f268ed8209bd54aaedf">PBUF_TYPE_FLAG_STRUCT_DATA_CONTIGUOUS</a> | PBUF_TYPE_ALLOC_SRC_MASK_STD_MEMP_PBUF_POOL)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span> } <a class="code" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fb">pbuf_type</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span> </div><div class="line"><a name="l00170"></a><span class="lineno">  170</span> <span class="comment"></span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span> <span class="comment">/** indicates this packet's data should be immediately passed to the application */</span></div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a018a6499e357f8a1373321f802a82930">  172</a></span> <span class="preprocessor">#define PBUF_FLAG_PUSH      0x01U</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span> <span class="comment">/** indicates this is a custom pbuf: pbuf_free calls pbuf_custom-&gt;custom_free_function()</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span> <span class="comment">    when the last reference is released (plus custom PBUF_RAM cannot be trimmed) */</span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="pbuf_8h.html#af78a7e1815dc0e31884d095b666d997f">  175</a></span> <span class="preprocessor">#define PBUF_FLAG_IS_CUSTOM 0x02U</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span> <span class="comment">/** indicates this pbuf is UDP multicast to be looped back */</span></div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="pbuf_8h.html#ab8ad153151a8c157335d9c0cedc007e6">  177</a></span> <span class="preprocessor">#define PBUF_FLAG_MCASTLOOP 0x04U</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span> <span class="comment">/** indicates this pbuf was received as link-level broadcast */</span></div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a6772c16662bbb78597399add086500c0">  179</a></span> <span class="preprocessor">#define PBUF_FLAG_LLBCAST   0x08U</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span> <span class="comment">/** indicates this pbuf was received as link-level multicast */</span></div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="pbuf_8h.html#ac0d56cde47aca24ef410d730d7c89887">  181</a></span> <span class="preprocessor">#define PBUF_FLAG_LLMCAST   0x10U</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span> <span class="comment">/** indicates this pbuf includes a TCP FIN flag */</span></div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="pbuf_8h.html#a36a915aa2f6a188baa2862881407971e">  183</a></span> <span class="preprocessor">#define PBUF_FLAG_TCP_FIN   0x20U</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span> <span class="comment"></span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span> <span class="comment">/** Main packet buffer struct */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span> <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> {<span class="comment"></span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span> <span class="comment">  /** next pbuf in singly linked pbuf chain */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>   <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *<a class="code" href="structpbuf.html#adf45152a385b4c7b400865c91b73a1fe">next</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span> <span class="comment"></span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> <span class="comment">  /** pointer to the actual data in the buffer */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>   <span class="keywordtype">void</span> *<a class="code" href="structpbuf.html#a88b241bc1bbde99841ceb456313814e0">payload</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span> <span class="comment"></span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span> <span class="comment">  /**</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span> <span class="comment">   * total length of this buffer and all next buffers in chain</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span> <span class="comment">   * belonging to the same packet.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span> <span class="comment">   *</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span> <span class="comment">   * For non-queue packet chains this is the invariant:</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span> <span class="comment">   * p-&gt;tot_len == p-&gt;len + (p-&gt;next? p-&gt;next-&gt;tot_len: 0)</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span> <span class="comment">   */</span></div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structpbuf.html#a0da5e2fdea39b8b93fed9c9dfbf4ed3a">  200</a></span>   u16_t <a class="code" href="structpbuf.html#a0da5e2fdea39b8b93fed9c9dfbf4ed3a">tot_len</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span> <span class="comment"></span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span> <span class="comment">  /** length of this buffer */</span></div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="structpbuf.html#a8ce64dec181e5de8d865dee387e25f76">  203</a></span>   u16_t <a class="code" href="structpbuf.html#a8ce64dec181e5de8d865dee387e25f76">len</a>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span> <span class="comment"></span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span> <span class="comment">  /** a bit field indicating pbuf type and allocation sources</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span> <span class="comment">      (see PBUF_TYPE_FLAG_*, PBUF_ALLOC_FLAG_* and PBUF_TYPE_ALLOC_SRC_MASK)</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span> <span class="comment">    */</span></div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="structpbuf.html#a176b75c79d2e9e14cd31f12a84a361d2">  208</a></span>   u8_t <a class="code" href="structpbuf.html#a176b75c79d2e9e14cd31f12a84a361d2">type_internal</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span> <span class="comment"></span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span> <span class="comment">  /** misc flags */</span></div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="structpbuf.html#acdbb1031079f6bcd67096ea22e82edb4">  211</a></span>   u8_t <a class="code" href="structpbuf.html#acdbb1031079f6bcd67096ea22e82edb4">flags</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span> <span class="comment"></span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span> <span class="comment">  /**</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span> <span class="comment">   * the reference count always equals the number of pointers</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span> <span class="comment">   * that refer to this pbuf. This can be pointers from an application,</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span> <span class="comment">   * the stack itself, or pbuf-&gt;next pointers from a chain.</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span> <span class="comment">   */</span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structpbuf.html#a219ea4d7c344b7d080d883e412291459">  218</a></span>   <a class="code" href="group__lwip__opts__pbuf.html#gaaefb80d6bf9257c0f4322c36e1272c38">LWIP_PBUF_REF_T</a> <a class="code" href="structpbuf.html#a219ea4d7c344b7d080d883e412291459">ref</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span> <span class="comment"></span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span> <span class="comment">  /** For incoming packets, this contains the input netif's index */</span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="structpbuf.html#a1660c3be24992add89afe62eb0e1c062">  221</a></span>   u8_t <a class="code" href="structpbuf.html#a1660c3be24992add89afe62eb0e1c062">if_idx</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span> };</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span> </div><div class="line"><a name="l00224"></a><span class="lineno">  224</span> <span class="comment"></span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span> <span class="comment">/** Helper struct for const-correctness only.</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span> <span class="comment"> * The only meaning of this one is to provide a const payload pointer</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span> <span class="comment"> * for PBUF_ROM type.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span> <span class="comment"> */</span></div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structpbuf__rom.html">  229</a></span> <span class="keyword">struct </span><a class="code" href="structpbuf__rom.html">pbuf_rom</a> {<span class="comment"></span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span> <span class="comment">  /** next pbuf in singly linked pbuf chain */</span></div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structpbuf__rom.html#a31ec1ec7a950f5c2d04b7982e43569a4">  231</a></span>   <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *<a class="code" href="structpbuf__rom.html#a31ec1ec7a950f5c2d04b7982e43569a4">next</a>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span> <span class="comment"></span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span> <span class="comment">  /** pointer to the actual data in the buffer */</span></div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structpbuf__rom.html#ab558ffccace0b535c8ab0e15b1134f24">  234</a></span>   <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="structpbuf__rom.html#ab558ffccace0b535c8ab0e15b1134f24">payload</a>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span> };</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span> </div><div class="line"><a name="l00237"></a><span class="lineno">  237</span> <span class="preprocessor">#if LWIP_SUPPORT_CUSTOM_PBUF</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span> <span class="comment">/** Prototype for a function to free a custom pbuf */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span> <span class="keyword">typedef</span> void (*pbuf_free_custom_fn)(<span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *p);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span> <span class="comment"></span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span> <span class="comment">/** A custom pbuf: like a pbuf, but following a function pointer to free it. */</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span> <span class="keyword">struct </span>pbuf_custom {<span class="comment"></span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span> <span class="comment">  /** The actual pbuf */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>   <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> pbuf;<span class="comment"></span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span> <span class="comment">  /** This function is called when pbuf_free deallocates this pbuf(_custom) */</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>   pbuf_free_custom_fn custom_free_function;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span> };</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_SUPPORT_CUSTOM_PBUF */</span><span class="preprocessor"></span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span> <span class="comment"></span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span> <span class="comment">/** Define this to 0 to prevent freeing ooseq pbufs when the PBUF_POOL is empty */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span> <span class="preprocessor">#ifndef PBUF_POOL_FREE_OOSEQ</span></div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="pbuf_8h.html#ac54b0f161128a32c7419c33b893a5106">  252</a></span> <span class="preprocessor">#define PBUF_POOL_FREE_OOSEQ 1</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span> <span class="preprocessor">#endif </span><span class="comment">/* PBUF_POOL_FREE_OOSEQ */</span><span class="preprocessor"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="preprocessor">#if LWIP_TCP &amp;&amp; TCP_QUEUE_OOSEQ &amp;&amp; NO_SYS &amp;&amp; PBUF_POOL_FREE_OOSEQ</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span> <span class="keyword">extern</span> <span class="keyword">volatile</span> u8_t pbuf_free_ooseq_pending;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span> <span class="keywordtype">void</span> pbuf_free_ooseq(<span class="keywordtype">void</span>);<span class="comment"></span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span> <span class="comment">/** When not using sys_check_timeouts(), call PBUF_CHECK_FREE_OOSEQ()</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span> <span class="comment">    at regular intervals from main level to check if ooseq pbufs need to be</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span> <span class="comment">    freed! */</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="preprocessor">#define PBUF_CHECK_FREE_OOSEQ() do { if(pbuf_free_ooseq_pending) { \</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span> <span class="preprocessor">  </span><span class="comment">/* pbuf_alloc() reported PBUF_POOL to be empty -&gt; try to free some \</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span> <span class="comment">     ooseq queued pbufs now */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span> <span class="preprocessor">  pbuf_free_ooseq(); }}while(0)</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span> <span class="preprocessor">#else </span><span class="comment">/* LWIP_TCP &amp;&amp; TCP_QUEUE_OOSEQ &amp;&amp; NO_SYS &amp;&amp; PBUF_POOL_FREE_OOSEQ */</span><span class="preprocessor"></span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>   <span class="comment">/* Otherwise declare an empty PBUF_CHECK_FREE_OOSEQ */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span> <span class="preprocessor">  #define PBUF_CHECK_FREE_OOSEQ()</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_TCP &amp;&amp; TCP_QUEUE_OOSEQ &amp;&amp; NO_SYS &amp;&amp; PBUF_POOL_FREE_OOSEQ*/</span><span class="preprocessor"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span> </div><div class="line"><a name="l00269"></a><span class="lineno">  269</span> <span class="comment">/* Initializes the pbuf module. This call is empty for now, but may not be in future. */</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span> <span class="preprocessor">#define pbuf_init()</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span> </div><div class="line"><a name="l00272"></a><span class="lineno">  272</span> <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *pbuf_alloc(<a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebf">pbuf_layer</a> l, u16_t length, <a class="code" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fb">pbuf_type</a> type);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span> <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *pbuf_alloc_reference(<span class="keywordtype">void</span> *<a class="code" href="structpbuf.html#a88b241bc1bbde99841ceb456313814e0">payload</a>, u16_t length, <a class="code" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fb">pbuf_type</a> type);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span> <span class="preprocessor">#if LWIP_SUPPORT_CUSTOM_PBUF</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span> <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *pbuf_alloced_custom(<a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebf">pbuf_layer</a> l, u16_t length, <a class="code" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fb">pbuf_type</a> type,</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>                                  <span class="keyword">struct</span> pbuf_custom *p, <span class="keywordtype">void</span> *payload_mem,</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>                                  u16_t payload_mem_len);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_SUPPORT_CUSTOM_PBUF */</span><span class="preprocessor"></span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span> <span class="keywordtype">void</span> pbuf_realloc(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, u16_t size);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span> <span class="preprocessor">#define pbuf_get_allocsrc(p)          ((p)-&gt;type_internal &amp; PBUF_TYPE_ALLOC_SRC_MASK)</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span> <span class="preprocessor">#define pbuf_match_allocsrc(p, type)  (pbuf_get_allocsrc(p) == ((type) &amp; PBUF_TYPE_ALLOC_SRC_MASK))</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span> <span class="preprocessor">#define pbuf_match_type(p, type)      pbuf_match_allocsrc(p, type)</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span> u8_t pbuf_header(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, s16_t header_size);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span> u8_t pbuf_header_force(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, s16_t header_size);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span> u8_t pbuf_add_header(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, <span class="keywordtype">size_t</span> header_size_increment);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span> u8_t pbuf_add_header_force(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, <span class="keywordtype">size_t</span> header_size_increment);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span> u8_t pbuf_remove_header(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, <span class="keywordtype">size_t</span> header_size);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span> <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *pbuf_free_header(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *q, u16_t size);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span> <span class="keywordtype">void</span> pbuf_ref(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span> u8_t pbuf_free(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span> u16_t pbuf_clen(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span> <span class="keywordtype">void</span> pbuf_cat(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *head, <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *tail);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span> <span class="keywordtype">void</span> pbuf_chain(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *head, <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *tail);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span> <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *pbuf_dechain(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span> err_t pbuf_copy(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p_to, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p_from);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span> u16_t pbuf_copy_partial(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, <span class="keywordtype">void</span> *dataptr, u16_t len, u16_t offset);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span> <span class="keywordtype">void</span> *pbuf_get_contiguous(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, <span class="keywordtype">void</span> *buffer, <span class="keywordtype">size_t</span> bufsize, u16_t len, u16_t offset);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span> err_t pbuf_take(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *buf, <span class="keyword">const</span> <span class="keywordtype">void</span> *dataptr, u16_t len);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span> err_t pbuf_take_at(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *buf, <span class="keyword">const</span> <span class="keywordtype">void</span> *dataptr, u16_t len, u16_t offset);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span> <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *pbuf_skip(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a>* in, u16_t in_offset, u16_t* out_offset);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span> <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *pbuf_coalesce(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, <a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebf">pbuf_layer</a> layer);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span> <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *pbuf_clone(<a class="code" href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebf">pbuf_layer</a> l, <a class="code" href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fb">pbuf_type</a> type, <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> <span class="preprocessor">#if LWIP_CHECKSUM_ON_COPY</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span> err_t pbuf_fill_chksum(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, u16_t start_offset, <span class="keyword">const</span> <span class="keywordtype">void</span> *dataptr,</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>                        u16_t len, u16_t *chksum);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_CHECKSUM_ON_COPY */</span><span class="preprocessor"></span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span> <span class="preprocessor">#if LWIP_TCP &amp;&amp; TCP_QUEUE_OOSEQ &amp;&amp; LWIP_WND_SCALE</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span> <span class="keywordtype">void</span> pbuf_split_64k(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p, <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> **rest);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_TCP &amp;&amp; TCP_QUEUE_OOSEQ &amp;&amp; LWIP_WND_SCALE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span> </div><div class="line"><a name="l00311"></a><span class="lineno">  311</span> u8_t pbuf_get_at(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a>* p, u16_t offset);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span> <span class="keywordtype">int</span> pbuf_try_get_at(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a>* p, u16_t offset);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span> <span class="keywordtype">void</span> pbuf_put_at(<span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a>* p, u16_t offset, u8_t data);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span> u16_t pbuf_memcmp(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a>* p, u16_t offset, <span class="keyword">const</span> <span class="keywordtype">void</span>* s2, u16_t n);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span> u16_t pbuf_memfind(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a>* p, <span class="keyword">const</span> <span class="keywordtype">void</span>* mem, u16_t mem_len, u16_t start_offset);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span> u16_t pbuf_strstr(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a>* p, <span class="keyword">const</span> <span class="keywordtype">char</span>* substr);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span> </div><div class="line"><a name="l00318"></a><span class="lineno">  318</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span> }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span> </div><div class="line"><a name="l00322"></a><span class="lineno">  322</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_HDR_PBUF_H */</span><span class="preprocessor"></span></div><div class="ttc" id="structpbuf_html_a176b75c79d2e9e14cd31f12a84a361d2"><div class="ttname"><a href="structpbuf.html#a176b75c79d2e9e14cd31f12a84a361d2">pbuf::type_internal</a></div><div class="ttdeci">u8_t type_internal</div><div class="ttdoc">a bit field indicating pbuf type and allocation sources (see PBUF_TYPE_FLAG_*, PBUF_ALLOC_FLAG_* and ...</div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00208">pbuf.h:208</a></div></div>
<div class="ttc" id="structpbuf_html_a88b241bc1bbde99841ceb456313814e0"><div class="ttname"><a href="structpbuf.html#a88b241bc1bbde99841ceb456313814e0">pbuf::payload</a></div><div class="ttdeci">void * payload</div><div class="ttdoc">pointer to the actual data in the buffer </div><div class="ttdef"><b>Definition:</b> <a href="ppp__service__if_8h_source.html#l00140">ppp_service_if.h:140</a></div></div>
<div class="ttc" id="pbuf_8h_html_aee1baa59bb2f85ba575b5a8619ac1ebfa0ff039585f05f9208bcb66c2d37783e2"><div class="ttname"><a href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfa0ff039585f05f9208bcb66c2d37783e2">PBUF_RAW_TX</a></div><div class="ttdoc">Includes spare room for additional encapsulation header before ethernet headers (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00108">pbuf.h:108</a></div></div>
<div class="ttc" id="structpbuf__rom_html_ab558ffccace0b535c8ab0e15b1134f24"><div class="ttname"><a href="structpbuf__rom.html#ab558ffccace0b535c8ab0e15b1134f24">pbuf_rom::payload</a></div><div class="ttdeci">const void * payload</div><div class="ttdoc">pointer to the actual data in the buffer </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00234">pbuf.h:234</a></div></div>
<div class="ttc" id="group__lwip__opts__pbuf_html_gaaefb80d6bf9257c0f4322c36e1272c38"><div class="ttname"><a href="group__lwip__opts__pbuf.html#gaaefb80d6bf9257c0f4322c36e1272c38">LWIP_PBUF_REF_T</a></div><div class="ttdeci">#define LWIP_PBUF_REF_T</div><div class="ttdoc">LWIP_PBUF_REF_T: Refcount type in pbuf. </div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l01556">opt.h:1556</a></div></div>
<div class="ttc" id="pbuf_8h_html_a02789ca67766def65000b58f7fe7d03b"><div class="ttname"><a href="pbuf_8h.html#a02789ca67766def65000b58f7fe7d03b">PBUF_TYPE_FLAG_DATA_VOLATILE</a></div><div class="ttdeci">#define PBUF_TYPE_FLAG_DATA_VOLATILE</div><div class="ttdoc">Indicates the data stored in this pbuf can change. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00122">pbuf.h:122</a></div></div>
<div class="ttc" id="structpbuf__rom_html_a31ec1ec7a950f5c2d04b7982e43569a4"><div class="ttname"><a href="structpbuf__rom.html#a31ec1ec7a950f5c2d04b7982e43569a4">pbuf_rom::next</a></div><div class="ttdeci">struct pbuf * next</div><div class="ttdoc">next pbuf in singly linked pbuf chain </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00231">pbuf.h:231</a></div></div>
<div class="ttc" id="opt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div><div class="ttdoc">lwIP Options Configuration </div></div>
<div class="ttc" id="structpbuf_html_a219ea4d7c344b7d080d883e412291459"><div class="ttname"><a href="structpbuf.html#a219ea4d7c344b7d080d883e412291459">pbuf::ref</a></div><div class="ttdeci">LWIP_PBUF_REF_T ref</div><div class="ttdoc">the reference count always equals the number of pointers that refer to this pbuf. ...</div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00218">pbuf.h:218</a></div></div>
<div class="ttc" id="structpbuf_html_a8ce64dec181e5de8d865dee387e25f76"><div class="ttname"><a href="structpbuf.html#a8ce64dec181e5de8d865dee387e25f76">pbuf::len</a></div><div class="ttdeci">u16_t len</div><div class="ttdoc">length of this buffer </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00203">pbuf.h:203</a></div></div>
<div class="ttc" id="pbuf_8h_html_ab7e0e32fcc292c0d7107721766ed92fbac5e9f28455bca98944a030d4b84ecfab"><div class="ttname"><a href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbac5e9f28455bca98944a030d4b84ecfab">PBUF_RAM</a></div><div class="ttdoc">pbuf data is stored in RAM, used for TX mostly, struct pbuf and its payload are allocated in one piec...</div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00152">pbuf.h:152</a></div></div>
<div class="ttc" id="group__lwip__opts__pbuf_html_ga35998a3d56af9940e6a80bb372597685"><div class="ttname"><a href="group__lwip__opts__pbuf.html#ga35998a3d56af9940e6a80bb372597685">PBUF_LINK_HLEN</a></div><div class="ttdeci">#define PBUF_LINK_HLEN</div><div class="ttdoc">PBUF_LINK_HLEN: the number of bytes that should be allocated for a link level header. </div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l01530">opt.h:1530</a></div></div>
<div class="ttc" id="pbuf_8h_html_aee1baa59bb2f85ba575b5a8619ac1ebfab4de441e737330558b609a990cd17346"><div class="ttname"><a href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfab4de441e737330558b609a990cd17346">PBUF_LINK</a></div><div class="ttdoc">Includes spare room for link layer header (ethernet header). </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00102">pbuf.h:102</a></div></div>
<div class="ttc" id="structpbuf_html_acdbb1031079f6bcd67096ea22e82edb4"><div class="ttname"><a href="structpbuf.html#acdbb1031079f6bcd67096ea22e82edb4">pbuf::flags</a></div><div class="ttdeci">u8_t flags</div><div class="ttdoc">misc flags </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00211">pbuf.h:211</a></div></div>
<div class="ttc" id="structpbuf_html_adf45152a385b4c7b400865c91b73a1fe"><div class="ttname"><a href="structpbuf.html#adf45152a385b4c7b400865c91b73a1fe">pbuf::next</a></div><div class="ttdeci">struct pbuf * next</div><div class="ttdoc">next pbuf in singly linked pbuf chain </div><div class="ttdef"><b>Definition:</b> <a href="ppp__service__if_8h_source.html#l00137">ppp_service_if.h:137</a></div></div>
<div class="ttc" id="pbuf_8h_html_aee1baa59bb2f85ba575b5a8619ac1ebfa2ded3594a3977f8bf9cf09552be327b5"><div class="ttname"><a href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfa2ded3594a3977f8bf9cf09552be327b5">PBUF_TRANSPORT</a></div><div class="ttdoc">Includes spare room for transport layer header, e.g. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00093">pbuf.h:93</a></div></div>
<div class="ttc" id="structpbuf__rom_html"><div class="ttname"><a href="structpbuf__rom.html">pbuf_rom</a></div><div class="ttdoc">Helper struct for const-correctness only. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00229">pbuf.h:229</a></div></div>
<div class="ttc" id="pbuf_8h_html_aee1baa59bb2f85ba575b5a8619ac1ebfa21116654fbab6d5a4dfeb87a1bb8f0ba"><div class="ttname"><a href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfa21116654fbab6d5a4dfeb87a1bb8f0ba">PBUF_RAW</a></div><div class="ttdoc">Use this for input packets in a netif driver when calling netif-&gt;input() in the most common case - et...</div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00111">pbuf.h:111</a></div></div>
<div class="ttc" id="structpbuf_html_a1660c3be24992add89afe62eb0e1c062"><div class="ttname"><a href="structpbuf.html#a1660c3be24992add89afe62eb0e1c062">pbuf::if_idx</a></div><div class="ttdeci">u8_t if_idx</div><div class="ttdoc">For incoming packets, this contains the input netif&amp;#39;s index. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00221">pbuf.h:221</a></div></div>
<div class="ttc" id="structpbuf_html_a0da5e2fdea39b8b93fed9c9dfbf4ed3a"><div class="ttname"><a href="structpbuf.html#a0da5e2fdea39b8b93fed9c9dfbf4ed3a">pbuf::tot_len</a></div><div class="ttdeci">u16_t tot_len</div><div class="ttdoc">total length of this buffer and all next buffers in chain belonging to the same packet. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00200">pbuf.h:200</a></div></div>
<div class="ttc" id="pbuf_8h_html_a567a0dfa01b0e5540f9416a200ed163f"><div class="ttname"><a href="pbuf_8h.html#a567a0dfa01b0e5540f9416a200ed163f">PBUF_ALLOC_FLAG_RX</a></div><div class="ttdeci">#define PBUF_ALLOC_FLAG_RX</div><div class="ttdoc">Indicates this pbuf is used for RX (if not set, indicates use for TX). </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00129">pbuf.h:129</a></div></div>
<div class="ttc" id="structpbuf_html"><div class="ttname"><a href="structpbuf.html">pbuf</a></div><div class="ttdoc">Main packet buffer struct. </div><div class="ttdef"><b>Definition:</b> <a href="ppp__service__if_8h_source.html#l00136">ppp_service_if.h:136</a></div></div>
<div class="ttc" id="pbuf_8h_html_ab7e0e32fcc292c0d7107721766ed92fbae969347127387b9b59a23ccd24b76d21"><div class="ttname"><a href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbae969347127387b9b59a23ccd24b76d21">PBUF_POOL</a></div><div class="ttdoc">pbuf payload refers to RAM. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00167">pbuf.h:167</a></div></div>
<div class="ttc" id="err_8h_html"><div class="ttname"><a href="err_8h.html">err.h</a></div><div class="ttdoc">lwIP Error codes </div></div>
<div class="ttc" id="pbuf_8h_html_ab7e0e32fcc292c0d7107721766ed92fbac120b0fe39efe35bb682e4aa3b82e2c9"><div class="ttname"><a href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbac120b0fe39efe35bb682e4aa3b82e2c9">PBUF_ROM</a></div><div class="ttdoc">pbuf data is stored in ROM, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00156">pbuf.h:156</a></div></div>
<div class="ttc" id="pbuf_8h_html_a426883d928f8f3e8fd066e616159d78f"><div class="ttname"><a href="pbuf_8h.html#a426883d928f8f3e8fd066e616159d78f">PBUF_ALLOC_FLAG_DATA_CONTIGUOUS</a></div><div class="ttdeci">#define PBUF_ALLOC_FLAG_DATA_CONTIGUOUS</div><div class="ttdoc">Indicates the application needs the pbuf payload to be in one piece. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00131">pbuf.h:131</a></div></div>
<div class="ttc" id="pbuf_8h_html_a49ab2c0662378f268ed8209bd54aaedf"><div class="ttname"><a href="pbuf_8h.html#a49ab2c0662378f268ed8209bd54aaedf">PBUF_TYPE_FLAG_STRUCT_DATA_CONTIGUOUS</a></div><div class="ttdeci">#define PBUF_TYPE_FLAG_STRUCT_DATA_CONTIGUOUS</div><div class="ttdoc">Indicates that the payload directly follows the struct pbuf. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00119">pbuf.h:119</a></div></div>
<div class="ttc" id="pbuf_8h_html_ab7e0e32fcc292c0d7107721766ed92fb"><div class="ttname"><a href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fb">pbuf_type</a></div><div class="ttdeci">pbuf_type</div><div class="ttdoc">Enumeration of pbuf types. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00145">pbuf.h:145</a></div></div>
<div class="ttc" id="pbuf_8h_html_ab7e0e32fcc292c0d7107721766ed92fbac9b6ba960fdea6f2e8f35c8313b77e4e"><div class="ttname"><a href="pbuf_8h.html#ab7e0e32fcc292c0d7107721766ed92fbac9b6ba960fdea6f2e8f35c8313b77e4e">PBUF_REF</a></div><div class="ttdoc">pbuf comes from the pbuf pool. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00160">pbuf.h:160</a></div></div>
<div class="ttc" id="pbuf_8h_html_aee1baa59bb2f85ba575b5a8619ac1ebfafcc1e506061ba69dfa142eb6b3da5f13"><div class="ttname"><a href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebfafcc1e506061ba69dfa142eb6b3da5f13">PBUF_IP</a></div><div class="ttdoc">Includes spare room for IP header. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00097">pbuf.h:97</a></div></div>
<div class="ttc" id="group__lwip__opts__pbuf_html_ga6e1ba1875ae5168a17b53d83597bc1de"><div class="ttname"><a href="group__lwip__opts__pbuf.html#ga6e1ba1875ae5168a17b53d83597bc1de">PBUF_LINK_ENCAPSULATION_HLEN</a></div><div class="ttdeci">#define PBUF_LINK_ENCAPSULATION_HLEN</div><div class="ttdoc">PBUF_LINK_ENCAPSULATION_HLEN: the number of bytes that should be allocated for an additional encapsul...</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l01539">opt.h:1539</a></div></div>
<div class="ttc" id="pbuf_8h_html_aee1baa59bb2f85ba575b5a8619ac1ebf"><div class="ttname"><a href="pbuf_8h.html#aee1baa59bb2f85ba575b5a8619ac1ebf">pbuf_layer</a></div><div class="ttdeci">pbuf_layer</div><div class="ttdoc">Enumeration of pbuf layers. </div><div class="ttdef"><b>Definition:</b> <a href="pbuf_8h_source.html#l00089">pbuf.h:89</a></div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/pbuf_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:25:52 GMT -->
</html>
