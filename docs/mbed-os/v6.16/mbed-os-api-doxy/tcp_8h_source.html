<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/tcp_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:28:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | tcp.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="tcp_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/tcp_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/tcp_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_656714f9000830b7293277f30e3fdca8.html">lwipstack</a></li><li class="navelem"><a class="el" href="dir_51bed4128c7c35e28f2b56d9a4d3889d.html">lwip</a></li><li class="navelem"><a class="el" href="dir_a2f77adba6621efb54744c8be588cd6c.html">src</a></li><li class="navelem"><a class="el" href="dir_d881691941f72a257ee32ad5471a029d.html">include</a></li><li class="navelem"><a class="el" href="dir_3fb69e7ecf761e536af7cd2ef4e3092c.html">lwip</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">tcp.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="tcp_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment">/**</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment"> * @file</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment"> * TCP API (to be used from TCPIP thread)\n</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment"> * See also @ref tcp_raw</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> <span class="comment"> */</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> </div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment">/*</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment"> * Copyright (c) 2001-2004 Swedish Institute of Computer Science.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment"> * All rights reserved.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment"> * Redistribution and use in source and binary forms, with or without modification,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment"> * are permitted provided that the following conditions are met:</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment"> * 1. Redistributions of source code must retain the above copyright notice,</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment"> *    this list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright notice,</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> <span class="comment"> *    this list of conditions and the following disclaimer in the documentation</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> <span class="comment"> *    and/or other materials provided with the distribution.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> <span class="comment"> * 3. The name of the author may not be used to endorse or promote products</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> <span class="comment"> *    derived from this software without specific prior written permission.</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> <span class="comment"> *</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> <span class="comment"> * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="comment"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> <span class="comment"> * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> <span class="comment"> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> <span class="comment"> * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> <span class="comment"> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> <span class="comment"> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="comment"> * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> <span class="comment"> * OF SUCH DAMAGE.</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="comment"> *</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> <span class="comment"> * This file is part of the lwIP TCP/IP stack.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="comment"> *</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> <span class="comment"> * Author: Adam Dunkels &lt;adam@sics.se&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> <span class="comment"> *</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> <span class="comment"> */</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="preprocessor">#ifndef LWIP_HDR_TCP_H</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> <span class="preprocessor">#define LWIP_HDR_TCP_H</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span> </div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> <span class="preprocessor">#include "<a class="code" href="opt_8h.html">lwip/opt.h</a>"</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> </div><div class="line"><a name="l00043"></a><span class="lineno">   43</span> <span class="preprocessor">#if LWIP_TCP </span><span class="comment">/* don't build if not configured for use in lwipopts.h */</span><span class="preprocessor"></span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> </div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> <span class="preprocessor">#include "<a class="code" href="tcpbase_8h.html">lwip/tcpbase.h</a>"</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> <span class="preprocessor">#include "<a class="code" href="mem_8h.html">lwip/mem.h</a>"</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span> <span class="preprocessor">#include "<a class="code" href="pbuf_8h.html">lwip/pbuf.h</a>"</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span> <span class="preprocessor">#include "<a class="code" href="ip_8h.html">lwip/ip.h</a>"</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span> <span class="preprocessor">#include "<a class="code" href="icmp_8h.html">lwip/icmp.h</a>"</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span> <span class="preprocessor">#include "<a class="code" href="err_8h.html">lwip/err.h</a>"</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> <span class="preprocessor">#include "<a class="code" href="ip6_8h.html">lwip/ip6.h</a>"</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span> <span class="preprocessor">#include "<a class="code" href="ip6__addr_8h.html">lwip/ip6_addr.h</a>"</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> </div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span> <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span> </div><div class="line"><a name="l00058"></a><span class="lineno">   58</span> <span class="keyword">struct </span>tcp_pcb;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span> <span class="keyword">struct </span>tcp_pcb_listen;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span> <span class="comment"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span> <span class="comment">/** Function prototype for tcp accept callback functions. Called when a new</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span> <span class="comment"> * connection can be accepted on a listening pcb.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span> <span class="comment"> *</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span> <span class="comment"> * @param arg Additional argument to pass to the callback function (@see tcp_arg())</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span> <span class="comment"> * @param newpcb The new connection pcb</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span> <span class="comment"> * @param err An error code if there has been an error accepting.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span> <span class="comment"> *            Only return ERR_ABRT if you have called tcp_abort from within the</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span> <span class="comment"> *            callback function!</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span> <span class="comment"> */</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span> <span class="keyword">typedef</span> <a class="code" href="group__infrastructure__errors.html#gaf02d9da80fd66b4f986d2c53d7231ddb">err_t</a> (*tcp_accept_fn)(<span class="keywordtype">void</span> *arg, <span class="keyword">struct </span>tcp_pcb *newpcb, err_t err);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> <span class="comment"></span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span> <span class="comment">/** Function prototype for tcp receive callback functions. Called when data has</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span> <span class="comment"> * been received.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span> <span class="comment"> *</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span> <span class="comment"> * @param arg Additional argument to pass to the callback function (@see tcp_arg())</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span> <span class="comment"> * @param tpcb The connection pcb which received data</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span> <span class="comment"> * @param p The received data (or NULL when the connection has been closed!)</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span> <span class="comment"> * @param err An error code if there has been an error receiving</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span> <span class="comment"> *            Only return ERR_ABRT if you have called tcp_abort from within the</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span> <span class="comment"> *            callback function!</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span> <span class="comment"> */</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span> <span class="keyword">typedef</span> <a class="code" href="group__infrastructure__errors.html#gaf02d9da80fd66b4f986d2c53d7231ddb">err_t</a> (*tcp_recv_fn)(<span class="keywordtype">void</span> *arg, <span class="keyword">struct </span>tcp_pcb *tpcb,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>                              <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *p, err_t err);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span> <span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span> <span class="comment">/** Function prototype for tcp sent callback functions. Called when sent data has</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span> <span class="comment"> * been acknowledged by the remote side. Use it to free corresponding resources.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> <span class="comment"> * This also means that the pcb has now space available to send new data.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span> <span class="comment"> *</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span> <span class="comment"> * @param arg Additional argument to pass to the callback function (@see tcp_arg())</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span> <span class="comment"> * @param tpcb The connection pcb for which data has been acknowledged</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span> <span class="comment"> * @param len The amount of bytes acknowledged</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span> <span class="comment"> * @return ERR_OK: try to send some data by calling tcp_output</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span> <span class="comment"> *            Only return ERR_ABRT if you have called tcp_abort from within the</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span> <span class="comment"> *            callback function!</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span> <span class="comment"> */</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span> <span class="keyword">typedef</span> <a class="code" href="group__infrastructure__errors.html#gaf02d9da80fd66b4f986d2c53d7231ddb">err_t</a> (*tcp_sent_fn)(<span class="keywordtype">void</span> *arg, <span class="keyword">struct </span>tcp_pcb *tpcb,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>                               u16_t len);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span> <span class="comment"></span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span> <span class="comment">/** Function prototype for tcp poll callback functions. Called periodically as</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span> <span class="comment"> * specified by @see tcp_poll.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span> <span class="comment"> *</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span> <span class="comment"> * @param arg Additional argument to pass to the callback function (@see tcp_arg())</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span> <span class="comment"> * @param tpcb tcp pcb</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span> <span class="comment"> * @return ERR_OK: try to send some data by calling tcp_output</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span> <span class="comment"> *            Only return ERR_ABRT if you have called tcp_abort from within the</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span> <span class="comment"> *            callback function!</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span> <span class="comment"> */</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span> <span class="keyword">typedef</span> <a class="code" href="group__infrastructure__errors.html#gaf02d9da80fd66b4f986d2c53d7231ddb">err_t</a> (*tcp_poll_fn)(<span class="keywordtype">void</span> *arg, <span class="keyword">struct </span>tcp_pcb *tpcb);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span> <span class="comment"></span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span> <span class="comment">/** Function prototype for tcp error callback functions. Called when the pcb</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span> <span class="comment"> * receives a RST or is unexpectedly closed for any other reason.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span> <span class="comment"> *</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span> <span class="comment"> * @note The corresponding pcb is already freed when this callback is called!</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span> <span class="comment"> *</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span> <span class="comment"> * @param arg Additional argument to pass to the callback function (@see tcp_arg())</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span> <span class="comment"> * @param err Error code to indicate why the pcb has been closed</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span> <span class="comment"> *            ERR_ABRT: aborted through tcp_abort or by a TCP timer</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span> <span class="comment"> *            ERR_RST: the connection was reset by the remote host</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span> <span class="comment"> */</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span> <span class="keyword">typedef</span> void  (*tcp_err_fn)(<span class="keywordtype">void</span> *arg, err_t err);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span> <span class="comment"></span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span> <span class="comment">/** Function prototype for tcp connected callback functions. Called when a pcb</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span> <span class="comment"> * is connected to the remote side after initiating a connection attempt by</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span> <span class="comment"> * calling tcp_connect().</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span> <span class="comment"> *</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span> <span class="comment"> * @param arg Additional argument to pass to the callback function (@see tcp_arg())</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span> <span class="comment"> * @param tpcb The connection pcb which is connected</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span> <span class="comment"> * @param err An unused error code, always ERR_OK currently ;-) @todo!</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span> <span class="comment"> *            Only return ERR_ABRT if you have called tcp_abort from within the</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span> <span class="comment"> *            callback function!</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span> <span class="comment"> *</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span> <span class="comment"> * @note When a connection attempt fails, the error callback is currently called!</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span> <span class="comment"> */</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span> <span class="keyword">typedef</span> <a class="code" href="group__infrastructure__errors.html#gaf02d9da80fd66b4f986d2c53d7231ddb">err_t</a> (*tcp_connected_fn)(<span class="keywordtype">void</span> *arg, <span class="keyword">struct </span>tcp_pcb *tpcb, err_t err);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span> </div><div class="line"><a name="l00136"></a><span class="lineno">  136</span> <span class="preprocessor">#if LWIP_WND_SCALE</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span> <span class="preprocessor">#define RCV_WND_SCALE(pcb, wnd) (((wnd) &gt;&gt; (pcb)-&gt;rcv_scale))</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span> <span class="preprocessor">#define SND_WND_SCALE(pcb, wnd) (((wnd) &lt;&lt; (pcb)-&gt;snd_scale))</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span> <span class="preprocessor">#define TCPWND16(x)             ((u16_t)LWIP_MIN((x), 0xFFFF))</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span> <span class="preprocessor">#define TCP_WND_MAX(pcb)        ((tcpwnd_size_t)(((pcb)-&gt;flags &amp; TF_WND_SCALE) ? TCP_WND : TCPWND16(TCP_WND)))</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span> <span class="preprocessor">#else</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span> <span class="preprocessor">#define RCV_WND_SCALE(pcb, wnd) (wnd)</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span> <span class="preprocessor">#define SND_WND_SCALE(pcb, wnd) (wnd)</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span> <span class="preprocessor">#define TCPWND16(x)             (x)</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span> <span class="preprocessor">#define TCP_WND_MAX(pcb)        TCP_WND</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span> <span class="comment">/* Increments a tcpwnd_size_t and holds at max value rather than rollover */</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span> <span class="preprocessor">#define TCP_WND_INC(wnd, inc)   do { \</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span> <span class="preprocessor">                                  if ((tcpwnd_size_t)(wnd + inc) &gt;= wnd) { \</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span> <span class="preprocessor">                                    wnd = (tcpwnd_size_t)(wnd + inc); \</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span> <span class="preprocessor">                                  } else { \</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span> <span class="preprocessor">                                    wnd = (tcpwnd_size_t)-1; \</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span> <span class="preprocessor">                                  } \</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span> <span class="preprocessor">                                } while(0)</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span> </div><div class="line"><a name="l00156"></a><span class="lineno">  156</span> <span class="preprocessor">#if LWIP_TCP_SACK_OUT</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span> <span class="comment">/** SACK ranges to include in ACK packets.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span> <span class="comment"> * SACK entry is invalid if left==right. */</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span> <span class="keyword">struct </span>tcp_sack_range {<span class="comment"></span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span> <span class="comment">  /** Left edge of the SACK: the first acknowledged sequence number. */</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>   u32_t left;<span class="comment"></span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span> <span class="comment">  /** Right edge of the SACK: the last acknowledged sequence number +1 (so first NOT acknowledged). */</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>   u32_t right;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span> };</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_TCP_SACK_OUT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span> <span class="comment"></span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span> <span class="comment">/** Function prototype for deallocation of arguments. Called *just before* the</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span> <span class="comment"> * pcb is freed, so don't expect to be able to do anything with this pcb!</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span> <span class="comment"> *</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span> <span class="comment"> * @param id ext arg id (allocated via @ref tcp_ext_arg_alloc_id)</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span> <span class="comment"> * @param data pointer to the data (set via @ref tcp_ext_arg_set before)</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span> <span class="comment"> */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span> <span class="keyword">typedef</span> void (*tcp_extarg_callback_pcb_destroyed_fn)(u8_t id, <span class="keywordtype">void</span> *data);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span> <span class="comment"></span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span> <span class="comment">/** Function prototype to transition arguments from a listening pcb to an accepted pcb</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span> <span class="comment"> *</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span> <span class="comment"> * @param id ext arg id (allocated via @ref tcp_ext_arg_alloc_id)</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span> <span class="comment"> * @param lpcb the listening pcb accepting a connection</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span> <span class="comment"> * @param cpcb the newly allocated connection pcb</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span> <span class="comment"> * @return ERR_OK if OK, any error if connection should be dropped</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span> <span class="comment"> */</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span> <span class="keyword">typedef</span> <a class="code" href="group__infrastructure__errors.html#gaf02d9da80fd66b4f986d2c53d7231ddb">err_t</a> (*tcp_extarg_callback_passive_open_fn)(u8_t id, <span class="keyword">struct </span>tcp_pcb_listen *lpcb, <span class="keyword">struct </span>tcp_pcb *cpcb);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span> <span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span> <span class="comment">/** A table of callback functions that is invoked for ext arguments */</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span> <span class="keyword">struct </span>tcp_ext_arg_callbacks {<span class="comment"></span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span> <span class="comment">  /** @ref tcp_extarg_callback_pcb_destroyed_fn */</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>   tcp_extarg_callback_pcb_destroyed_fn destroy;<span class="comment"></span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span> <span class="comment">  /** @ref tcp_extarg_callback_passive_open_fn */</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>   tcp_extarg_callback_passive_open_fn passive_open;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> };</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span> </div><div class="line"><a name="l00192"></a><span class="lineno">  192</span> <span class="preprocessor">#define LWIP_TCP_PCB_NUM_EXT_ARG_ID_INVALID 0xFF</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span> </div><div class="line"><a name="l00194"></a><span class="lineno">  194</span> <span class="preprocessor">#if LWIP_TCP_PCB_NUM_EXT_ARGS</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span> <span class="comment">/* This is the structure for ext args in tcp pcbs (used as array) */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span> <span class="keyword">struct </span>tcp_pcb_ext_args {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>   <span class="keyword">const</span> <span class="keyword">struct </span>tcp_ext_arg_callbacks *callbacks;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>   <span class="keywordtype">void</span> *data;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span> };</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span> <span class="comment">/* This is a helper define to prevent zero size arrays if disabled */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span> <span class="preprocessor">#define TCP_PCB_EXTARGS struct tcp_pcb_ext_args ext_args[LWIP_TCP_PCB_NUM_EXT_ARGS];</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span> <span class="preprocessor">#else</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span> <span class="preprocessor">#define TCP_PCB_EXTARGS</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span> </div><div class="line"><a name="l00206"></a><span class="lineno">  206</span> <span class="keyword">typedef</span> u16_t tcpflags_t;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span> <span class="preprocessor">#define TCP_ALLFLAGS 0xffffU</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span> <span class="comment"></span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span> <span class="comment">/**</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span> <span class="comment"> * members common to struct tcp_pcb and struct tcp_listen_pcb</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span> <span class="comment"> */</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span> <span class="preprocessor">#define TCP_PCB_COMMON(type) \</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span> <span class="preprocessor">  type *next; </span><span class="comment">/* for the linked list */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span> <span class="preprocessor">  void *callback_arg; \</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span> <span class="preprocessor">  TCP_PCB_EXTARGS \</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span> <span class="preprocessor">  enum tcp_state state; </span><span class="comment">/* TCP state */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span> <span class="preprocessor">  u8_t prio; \</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span> <span class="preprocessor">  </span><span class="comment">/* ports are in host byte order */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span> <span class="preprocessor">  u16_t local_port</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span> </div><div class="line"><a name="l00221"></a><span class="lineno">  221</span> <span class="comment"></span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span> <span class="comment">/** the TCP protocol control block for listening pcbs */</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span> <span class="keyword">struct </span>tcp_pcb_listen {<span class="comment"></span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span> <span class="comment">/** Common members of all PCB types */</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>   <a class="code" href="ip_8h.html#a8bdf4b5f674375e76cdd968826d80e53">IP_PCB</a>;<span class="comment"></span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span> <span class="comment">/** Protocol specific PCB members */</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>   TCP_PCB_COMMON(<span class="keyword">struct</span> tcp_pcb_listen);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span> </div><div class="line"><a name="l00229"></a><span class="lineno">  229</span> <span class="preprocessor">#if LWIP_CALLBACK_API</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>   <span class="comment">/* Function to call when a listener has been connected. */</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>   tcp_accept_fn accept;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_CALLBACK_API */</span><span class="preprocessor"></span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span> </div><div class="line"><a name="l00234"></a><span class="lineno">  234</span> <span class="preprocessor">#if TCP_LISTEN_BACKLOG</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>   u8_t backlog;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>   u8_t accepts_pending;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span> <span class="preprocessor">#endif </span><span class="comment">/* TCP_LISTEN_BACKLOG */</span><span class="preprocessor"></span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span> };</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span> </div><div class="line"><a name="l00240"></a><span class="lineno">  240</span> <span class="comment"></span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span> <span class="comment">/** the TCP protocol control block */</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span> <span class="keyword">struct </span>tcp_pcb {<span class="comment"></span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span> <span class="comment">/** common PCB members */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>   <a class="code" href="ip_8h.html#a8bdf4b5f674375e76cdd968826d80e53">IP_PCB</a>;<span class="comment"></span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span> <span class="comment">/** protocol specific PCB members */</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>   TCP_PCB_COMMON(<span class="keyword">struct</span> tcp_pcb);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span> </div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>   <span class="comment">/* ports are in host byte order */</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>   u16_t remote_port;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span> </div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>   tcpflags_t flags;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span> <span class="preprocessor">#define TF_ACK_DELAY   0x01U   </span><span class="comment">/* Delayed ACK. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span> <span class="preprocessor">#define TF_ACK_NOW     0x02U   </span><span class="comment">/* Immediate ACK. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="preprocessor">#define TF_INFR        0x04U   </span><span class="comment">/* In fast recovery. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span> <span class="preprocessor">#define TF_CLOSEPEND   0x08U   </span><span class="comment">/* If this is set, tcp_close failed to enqueue the FIN (retried in tcp_tmr) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span> <span class="preprocessor">#define TF_RXCLOSED    0x10U   </span><span class="comment">/* rx closed by tcp_shutdown */</span><span class="preprocessor"></span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span> <span class="preprocessor">#define TF_FIN         0x20U   </span><span class="comment">/* Connection was closed locally (FIN segment enqueued). */</span><span class="preprocessor"></span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span> <span class="preprocessor">#define TF_NODELAY     0x40U   </span><span class="comment">/* Disable Nagle algorithm */</span><span class="preprocessor"></span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span> <span class="preprocessor">#define TF_NAGLEMEMERR 0x80U   </span><span class="comment">/* nagle enabled, memerr, try to output to prevent delayed ACK to happen */</span><span class="preprocessor"></span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="preprocessor">#if LWIP_WND_SCALE</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span> <span class="preprocessor">#define TF_WND_SCALE   0x0100U </span><span class="comment">/* Window Scale option enabled */</span><span class="preprocessor"></span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span> <span class="preprocessor">#if TCP_LISTEN_BACKLOG</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span> <span class="preprocessor">#define TF_BACKLOGPEND 0x0200U </span><span class="comment">/* If this is set, a connection pcb has increased the backlog on its listener */</span><span class="preprocessor"></span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span> <span class="preprocessor">#if LWIP_TCP_TIMESTAMPS</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span> <span class="preprocessor">#define TF_TIMESTAMP   0x0400U   </span><span class="comment">/* Timestamp option enabled */</span><span class="preprocessor"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span> <span class="preprocessor">#define TF_RTO         0x0800U </span><span class="comment">/* RTO timer has fired, in-flight data moved to unsent and being retransmitted */</span><span class="preprocessor"></span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span> <span class="preprocessor">#if LWIP_TCP_SACK_OUT</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span> <span class="preprocessor">#define TF_SACK        0x1000U </span><span class="comment">/* Selective ACKs enabled */</span><span class="preprocessor"></span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span> </div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>   <span class="comment">/* the rest of the fields are in host byte order</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span> <span class="comment">     as we have to do some math with them */</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span> </div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>   <span class="comment">/* Timers */</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>   u8_t polltmr, pollinterval;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>   u8_t last_timer;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>   u32_t tmr;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span> </div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>   <span class="comment">/* receiver variables */</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>   u32_t rcv_nxt;   <span class="comment">/* next seqno expected */</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>   tcpwnd_size_t rcv_wnd;   <span class="comment">/* receiver window available */</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>   tcpwnd_size_t rcv_ann_wnd; <span class="comment">/* receiver window to announce */</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>   u32_t rcv_ann_right_edge; <span class="comment">/* announced right edge of window */</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span> </div><div class="line"><a name="l00288"></a><span class="lineno">  288</span> <span class="preprocessor">#if LWIP_TCP_SACK_OUT</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>   <span class="comment">/* SACK ranges to include in ACK packets (entry is invalid if left==right) */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>   <span class="keyword">struct </span>tcp_sack_range rcv_sacks[<a class="code" href="group__lwip__opts__tcp.html#gaaac0e9f559a8e3c251f3504cebcf44dc">LWIP_TCP_MAX_SACK_NUM</a>];</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span> <span class="preprocessor">#define LWIP_TCP_SACK_VALID(pcb, idx) ((pcb)-&gt;rcv_sacks[idx].left != (pcb)-&gt;rcv_sacks[idx].right)</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_TCP_SACK_OUT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span> </div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>   <span class="comment">/* Retransmission timer. */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>   s16_t rtime;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span> </div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>   u16_t mss;   <span class="comment">/* maximum segment size */</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span> </div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>   <span class="comment">/* RTT (round trip time) estimation variables */</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>   u32_t rttest; <span class="comment">/* RTT estimate in 500ms ticks */</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>   u32_t rtseq;  <span class="comment">/* sequence number being timed */</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>   s16_t sa, sv; <span class="comment">/* @see "Congestion Avoidance and Control" by Van Jacobson and Karels */</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> </div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>   s16_t rto;    <span class="comment">/* retransmission time-out (in ticks of TCP_SLOW_INTERVAL) */</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>   u8_t nrtx;    <span class="comment">/* number of retransmissions */</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span> </div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>   <span class="comment">/* fast retransmit/recovery */</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>   u8_t dupacks;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>   u32_t lastack; <span class="comment">/* Highest acknowledged seqno. */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span> </div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>   <span class="comment">/* congestion avoidance/control variables */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>   tcpwnd_size_t cwnd;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>   tcpwnd_size_t ssthresh;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span> </div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>   <span class="comment">/* first byte following last rto byte */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>   u32_t rto_end;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span> </div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>   <span class="comment">/* sender variables */</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>   u32_t snd_nxt;   <span class="comment">/* next new seqno to be sent */</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>   u32_t snd_wl1, snd_wl2; <span class="comment">/* Sequence and acknowledgement numbers of last</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span> <span class="comment">                             window update. */</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>   u32_t snd_lbb;       <span class="comment">/* Sequence number of next byte to be buffered. */</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>   tcpwnd_size_t snd_wnd;   <span class="comment">/* sender window */</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>   tcpwnd_size_t snd_wnd_max; <span class="comment">/* the maximum sender window announced by the remote host */</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span> </div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>   tcpwnd_size_t snd_buf;   <span class="comment">/* Available buffer space for sending (in bytes). */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span> <span class="preprocessor">#define TCP_SNDQUEUELEN_OVERFLOW (0xffffU-3)</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>   u16_t snd_queuelen; <span class="comment">/* Number of pbufs currently in the send buffer. */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span> </div><div class="line"><a name="l00330"></a><span class="lineno">  330</span> <span class="preprocessor">#if TCP_OVERSIZE</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>   <span class="comment">/* Extra bytes available at the end of the last pbuf in unsent. */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>   u16_t unsent_oversize;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span> <span class="preprocessor">#endif </span><span class="comment">/* TCP_OVERSIZE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span> </div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>   tcpwnd_size_t bytes_acked;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span> </div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>   <span class="comment">/* These are ordered by sequence number: */</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>   <span class="keyword">struct </span>tcp_seg *unsent;   <span class="comment">/* Unsent (queued) segments. */</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>   <span class="keyword">struct </span>tcp_seg *unacked;  <span class="comment">/* Sent but unacknowledged segments. */</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span> <span class="preprocessor">#if TCP_QUEUE_OOSEQ</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>   <span class="keyword">struct </span>tcp_seg *ooseq;    <span class="comment">/* Received out of sequence segments. */</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span> <span class="preprocessor">#endif </span><span class="comment">/* TCP_QUEUE_OOSEQ */</span><span class="preprocessor"></span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span> </div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>   <span class="keyword">struct </span><a class="code" href="structpbuf.html">pbuf</a> *refused_data; <span class="comment">/* Data previously received but not yet taken by upper layer */</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span> </div><div class="line"><a name="l00346"></a><span class="lineno">  346</span> <span class="preprocessor">#if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>   <span class="keyword">struct </span>tcp_pcb_listen* listener;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */</span><span class="preprocessor"></span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span> </div><div class="line"><a name="l00350"></a><span class="lineno">  350</span> <span class="preprocessor">#if LWIP_CALLBACK_API</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>   <span class="comment">/* Function to be called when more send buffer space is available. */</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>   tcp_sent_fn sent;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>   <span class="comment">/* Function to be called when (in-sequence) data has arrived. */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>   tcp_recv_fn recv;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>   <span class="comment">/* Function to be called when a connection has been set up. */</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>   tcp_connected_fn connected;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>   <span class="comment">/* Function which is called periodically. */</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>   tcp_poll_fn <a class="code" href="group__platform__poll.html#ga644b476526e41d05af0763d79da70f00">poll</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>   <span class="comment">/* Function to be called whenever a fatal error occurs. */</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>   tcp_err_fn errf;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_CALLBACK_API */</span><span class="preprocessor"></span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span> </div><div class="line"><a name="l00363"></a><span class="lineno">  363</span> <span class="preprocessor">#if LWIP_TCP_TIMESTAMPS</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>   u32_t ts_lastacksent;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>   u32_t ts_recent;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_TCP_TIMESTAMPS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span> </div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>   <span class="comment">/* idle time before KEEPALIVE is sent */</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>   u32_t keep_idle;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span> <span class="preprocessor">#if LWIP_TCP_KEEPALIVE</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>   u32_t keep_intvl;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>   u32_t keep_cnt;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_TCP_KEEPALIVE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span> </div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>   <span class="comment">/* Persist timer counter */</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>   u8_t persist_cnt;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>   <span class="comment">/* Persist timer back-off */</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>   u8_t persist_backoff;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>   <span class="comment">/* Number of persist probes */</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>   u8_t persist_probe;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span> </div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>   <span class="comment">/* KEEPALIVE counter */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>   u8_t keep_cnt_sent;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span> </div><div class="line"><a name="l00385"></a><span class="lineno">  385</span> <span class="preprocessor">#if LWIP_WND_SCALE</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>   u8_t snd_scale;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>   u8_t rcv_scale;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span> };</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span> </div><div class="line"><a name="l00391"></a><span class="lineno">  391</span> <span class="preprocessor">#if LWIP_EVENT_API</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span> </div><div class="line"><a name="l00393"></a><span class="lineno">  393</span> <span class="keyword">enum</span> lwip_event {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>   LWIP_EVENT_ACCEPT,</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>   LWIP_EVENT_SENT,</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>   LWIP_EVENT_RECV,</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>   LWIP_EVENT_CONNECTED,</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>   LWIP_EVENT_POLL,</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>   LWIP_EVENT_ERR</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span> };</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span> </div><div class="line"><a name="l00402"></a><span class="lineno">  402</span> err_t lwip_tcp_event(<span class="keywordtype">void</span> *arg, <span class="keyword">struct</span> tcp_pcb *pcb,</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>          <span class="keyword">enum</span> lwip_event,</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>          <span class="keyword">struct</span> <a class="code" href="structpbuf.html">pbuf</a> *p,</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>          u16_t size,</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>          err_t err);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span> </div><div class="line"><a name="l00408"></a><span class="lineno">  408</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_EVENT_API */</span><span class="preprocessor"></span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span> </div><div class="line"><a name="l00410"></a><span class="lineno">  410</span> <span class="comment">/* Application program's interface: */</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span> <span class="keyword">struct </span>tcp_pcb * tcp_new     (<span class="keywordtype">void</span>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span> <span class="keyword">struct </span>tcp_pcb * tcp_new_ip_type (u8_t type);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span> </div><div class="line"><a name="l00414"></a><span class="lineno">  414</span> <span class="keywordtype">void</span>             tcp_arg     (<span class="keyword">struct</span> tcp_pcb *pcb, <span class="keywordtype">void</span> *arg);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span> <span class="preprocessor">#if LWIP_CALLBACK_API</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span> <span class="keywordtype">void</span>             tcp_recv    (<span class="keyword">struct</span> tcp_pcb *pcb, tcp_recv_fn recv);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span> <span class="keywordtype">void</span>             tcp_sent    (<span class="keyword">struct</span> tcp_pcb *pcb, tcp_sent_fn sent);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span> <span class="keywordtype">void</span>             tcp_err     (<span class="keyword">struct</span> tcp_pcb *pcb, tcp_err_fn err);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span> <span class="keywordtype">void</span>             tcp_accept  (<span class="keyword">struct</span> tcp_pcb *pcb, tcp_accept_fn accept);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_CALLBACK_API */</span><span class="preprocessor"></span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span> <span class="keywordtype">void</span>             tcp_poll    (<span class="keyword">struct</span> tcp_pcb *pcb, tcp_poll_fn <a class="code" href="group__platform__poll.html#ga644b476526e41d05af0763d79da70f00">poll</a>, u8_t interval);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span> </div><div class="line"><a name="l00423"></a><span class="lineno">  423</span> <span class="preprocessor">#define          tcp_set_flags(pcb, set_flags)     do { (pcb)-&gt;flags = (tcpflags_t)((pcb)-&gt;flags |  (set_flags)); } while(0)</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span> <span class="preprocessor">#define          tcp_clear_flags(pcb, clr_flags)   do { (pcb)-&gt;flags = (tcpflags_t)((pcb)-&gt;flags &amp; (tcpflags_t)(~(clr_flags) &amp; TCP_ALLFLAGS)); } while(0)</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span> <span class="preprocessor">#define          tcp_is_flag_set(pcb, flag)        (((pcb)-&gt;flags &amp; (flag)) != 0)</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span> </div><div class="line"><a name="l00427"></a><span class="lineno">  427</span> <span class="preprocessor">#if LWIP_TCP_TIMESTAMPS</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span> <span class="preprocessor">#define          tcp_mss(pcb)             (((pcb)-&gt;flags &amp; TF_TIMESTAMP) ? ((pcb)-&gt;mss - 12)  : (pcb)-&gt;mss)</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span> <span class="preprocessor">#else </span><span class="comment">/* LWIP_TCP_TIMESTAMPS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span> <span class="comment">/** @ingroup tcp_raw */</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span> <span class="preprocessor">#define          tcp_mss(pcb)             ((pcb)-&gt;mss)</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_TCP_TIMESTAMPS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span> <span class="comment">/** @ingroup tcp_raw */</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span> <span class="preprocessor">#define          tcp_sndbuf(pcb)          (TCPWND16((pcb)-&gt;snd_buf))</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span> <span class="comment">/** @ingroup tcp_raw */</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span> <span class="preprocessor">#define          tcp_sndqueuelen(pcb)     ((pcb)-&gt;snd_queuelen)</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span> <span class="comment">/** @ingroup tcp_raw */</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span> <span class="preprocessor">#define          tcp_nagle_disable(pcb)   tcp_set_flags(pcb, TF_NODELAY)</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span> <span class="comment">/** @ingroup tcp_raw */</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span> <span class="preprocessor">#define          tcp_nagle_enable(pcb)    tcp_clear_flags(pcb, TF_NODELAY)</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span> <span class="comment">/** @ingroup tcp_raw */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span> <span class="preprocessor">#define          tcp_nagle_disabled(pcb)  tcp_is_flag_set(pcb, TF_NODELAY)</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span> </div><div class="line"><a name="l00444"></a><span class="lineno">  444</span> <span class="preprocessor">#if TCP_LISTEN_BACKLOG</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span> <span class="preprocessor">#define          tcp_backlog_set(pcb, new_backlog) do { \</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span> <span class="preprocessor">  LWIP_ASSERT("pcb-&gt;state == LISTEN (called for wrong pcb?)", (pcb)-&gt;state == LISTEN); \</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span> <span class="preprocessor">  ((struct tcp_pcb_listen *)(pcb))-&gt;backlog = ((new_backlog) ? (new_backlog) : 1); } while(0)</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span> <span class="keywordtype">void</span>             tcp_backlog_delayed(<span class="keyword">struct</span> tcp_pcb* pcb);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span> <span class="keywordtype">void</span>             tcp_backlog_accepted(<span class="keyword">struct</span> tcp_pcb* pcb);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span> <span class="preprocessor">#else  </span><span class="comment">/* TCP_LISTEN_BACKLOG */</span><span class="preprocessor"></span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span> <span class="preprocessor">#define          tcp_backlog_set(pcb, new_backlog)</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span> <span class="preprocessor">#define          tcp_backlog_delayed(pcb)</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span> <span class="preprocessor">#define          tcp_backlog_accepted(pcb)</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span> <span class="preprocessor">#endif </span><span class="comment">/* TCP_LISTEN_BACKLOG */</span><span class="preprocessor"></span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span> <span class="preprocessor">#define          tcp_accepted(pcb) do { LWIP_UNUSED_ARG(pcb); } while(0) </span><span class="comment">/* compatibility define, not needed any more */</span><span class="preprocessor"></span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span> </div><div class="line"><a name="l00457"></a><span class="lineno">  457</span> <span class="keywordtype">void</span>             tcp_recved  (<span class="keyword">struct</span> tcp_pcb *pcb, u16_t len);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span> err_t            tcp_bind    (<span class="keyword">struct</span> tcp_pcb *pcb, <span class="keyword">const</span> <a class="code" href="structnsapi__addr.html">ip_addr_t</a> *ipaddr,</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>                               u16_t port);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span> <span class="keywordtype">void</span>             tcp_bind_netif(<span class="keyword">struct</span> tcp_pcb *pcb, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structnetif.html">netif</a> *<a class="code" href="structnetif.html">netif</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span> err_t            tcp_connect (<span class="keyword">struct</span> tcp_pcb *pcb, <span class="keyword">const</span> <a class="code" href="structnsapi__addr.html">ip_addr_t</a> *ipaddr,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>                               u16_t port, tcp_connected_fn connected);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span> </div><div class="line"><a name="l00464"></a><span class="lineno">  464</span> <span class="keyword">struct </span>tcp_pcb * tcp_listen_with_backlog_and_err(<span class="keyword">struct</span> tcp_pcb *pcb, u8_t backlog, err_t *err);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span> <span class="keyword">struct </span>tcp_pcb * tcp_listen_with_backlog(<span class="keyword">struct</span> tcp_pcb *pcb, u8_t backlog);<span class="comment"></span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span> <span class="comment">/** @ingroup tcp_raw */</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span> <span class="preprocessor">#define          tcp_listen(pcb) tcp_listen_with_backlog(pcb, TCP_DEFAULT_LISTEN_BACKLOG)</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span> </div><div class="line"><a name="l00469"></a><span class="lineno">  469</span> <span class="keywordtype">void</span>             tcp_abort (<span class="keyword">struct</span> tcp_pcb *pcb);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span> err_t            tcp_close   (<span class="keyword">struct</span> tcp_pcb *pcb);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span> err_t            tcp_shutdown(<span class="keyword">struct</span> tcp_pcb *pcb, <span class="keywordtype">int</span> shut_rx, <span class="keywordtype">int</span> shut_tx);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span> </div><div class="line"><a name="l00473"></a><span class="lineno">  473</span> err_t            tcp_write   (<span class="keyword">struct</span> tcp_pcb *pcb, <span class="keyword">const</span> <span class="keywordtype">void</span> *dataptr, u16_t len,</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>                               u8_t apiflags);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span> </div><div class="line"><a name="l00476"></a><span class="lineno">  476</span> <span class="keywordtype">void</span>             tcp_setprio (<span class="keyword">struct</span> tcp_pcb *pcb, u8_t prio);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span> </div><div class="line"><a name="l00478"></a><span class="lineno">  478</span> err_t            tcp_output  (<span class="keyword">struct</span> tcp_pcb *pcb);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span> </div><div class="line"><a name="l00480"></a><span class="lineno">  480</span> err_t            tcp_tcp_get_tcp_addrinfo(<span class="keyword">struct</span> tcp_pcb *pcb, <span class="keywordtype">int</span> local, <a class="code" href="structnsapi__addr.html">ip_addr_t</a> *addr, u16_t *port);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span> </div><div class="line"><a name="l00482"></a><span class="lineno">  482</span> <span class="preprocessor">#define tcp_dbg_get_tcp_state(pcb) ((pcb)-&gt;state)</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span> </div><div class="line"><a name="l00484"></a><span class="lineno">  484</span> <span class="comment">/* for compatibility with older implementation */</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span> <span class="preprocessor">#define tcp_new_ip6() tcp_new_ip_type(IPADDR_TYPE_V6)</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span> </div><div class="line"><a name="l00487"></a><span class="lineno">  487</span> <span class="preprocessor">#if LWIP_TCP_PCB_NUM_EXT_ARGS</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span> u8_t tcp_ext_arg_alloc_id(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span> <span class="keywordtype">void</span> tcp_ext_arg_set_callbacks(<span class="keyword">struct</span> tcp_pcb *pcb, uint8_t <span class="keywordtype">id</span>, <span class="keyword">const</span> <span class="keyword">struct</span> tcp_ext_arg_callbacks * <span class="keyword">const</span> callbacks);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span> <span class="keywordtype">void</span> tcp_ext_arg_set(<span class="keyword">struct</span> tcp_pcb *pcb, uint8_t <span class="keywordtype">id</span>, <span class="keywordtype">void</span> *arg);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span> <span class="keywordtype">void</span> *tcp_ext_arg_get(<span class="keyword">const</span> <span class="keyword">struct</span> tcp_pcb *pcb, uint8_t <span class="keywordtype">id</span>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span> </div><div class="line"><a name="l00494"></a><span class="lineno">  494</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span> }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span> </div><div class="line"><a name="l00498"></a><span class="lineno">  498</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_TCP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span> </div><div class="line"><a name="l00500"></a><span class="lineno">  500</span> <span class="preprocessor">#endif </span><span class="comment">/* LWIP_HDR_TCP_H */</span><span class="preprocessor"></span></div><div class="ttc" id="mem_8h_html"><div class="ttname"><a href="mem_8h.html">mem.h</a></div><div class="ttdoc">Heap API. </div></div>
<div class="ttc" id="ip6_8h_html"><div class="ttname"><a href="ip6_8h.html">ip6.h</a></div><div class="ttdoc">IPv6 layer. </div></div>
<div class="ttc" id="group__platform__poll_html_ga644b476526e41d05af0763d79da70f00"><div class="ttname"><a href="group__platform__poll.html#ga644b476526e41d05af0763d79da70f00">mbed::poll</a></div><div class="ttdeci">int poll(pollfh fhs[], unsigned nfhs, int timeout)</div><div class="ttdoc">A mechanism to multiplex input/output over a set of file handles(file descriptors). </div></div>
<div class="ttc" id="ip_8h_html"><div class="ttname"><a href="ip_8h.html">ip.h</a></div><div class="ttdoc">IP API. </div></div>
<div class="ttc" id="ip_8h_html_a8bdf4b5f674375e76cdd968826d80e53"><div class="ttname"><a href="ip_8h.html#a8bdf4b5f674375e76cdd968826d80e53">IP_PCB</a></div><div class="ttdeci">#define IP_PCB</div><div class="ttdoc">This is the common part of all PCB types. </div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00076">ip.h:76</a></div></div>
<div class="ttc" id="opt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div><div class="ttdoc">lwIP Options Configuration </div></div>
<div class="ttc" id="ip6__addr_8h_html"><div class="ttname"><a href="ip6__addr_8h.html">ip6_addr.h</a></div><div class="ttdoc">IPv6 addresses. </div></div>
<div class="ttc" id="structpbuf_html"><div class="ttname"><a href="structpbuf.html">pbuf</a></div><div class="ttdoc">Main packet buffer struct. </div><div class="ttdef"><b>Definition:</b> <a href="ppp__service__if_8h_source.html#l00136">ppp_service_if.h:136</a></div></div>
<div class="ttc" id="err_8h_html"><div class="ttname"><a href="err_8h.html">err.h</a></div><div class="ttdoc">lwIP Error codes </div></div>
<div class="ttc" id="structnetif_html"><div class="ttname"><a href="structnetif.html">netif</a></div><div class="ttdoc">Generic data structure used for all lwIP network interfaces. </div><div class="ttdef"><b>Definition:</b> <a href="ppp__service__if_8h_source.html#l00157">ppp_service_if.h:157</a></div></div>
<div class="ttc" id="group__infrastructure__errors_html_gaf02d9da80fd66b4f986d2c53d7231ddb"><div class="ttname"><a href="group__infrastructure__errors.html#gaf02d9da80fd66b4f986d2c53d7231ddb">err_t</a></div><div class="ttdeci">s8_t err_t</div><div class="ttdoc">Define LWIP_ERR_T in cc.h if you want to use a different type for your platform (must be signed)...</div><div class="ttdef"><b>Definition:</b> <a href="err_8h_source.html#l00096">err.h:96</a></div></div>
<div class="ttc" id="pbuf_8h_html"><div class="ttname"><a href="pbuf_8h.html">pbuf.h</a></div><div class="ttdoc">pbuf API </div></div>
<div class="ttc" id="structnsapi__addr_html"><div class="ttname"><a href="structnsapi__addr.html">nsapi_addr</a></div><div class="ttdoc">IP address structure for passing IP addresses by value. </div><div class="ttdef"><b>Definition:</b> <a href="nsapi__types_8h_source.html#l00237">nsapi_types.h:237</a></div></div>
<div class="ttc" id="icmp_8h_html"><div class="ttname"><a href="icmp_8h.html">icmp.h</a></div><div class="ttdoc">ICMP API. </div></div>
<div class="ttc" id="group__lwip__opts__tcp_html_gaaac0e9f559a8e3c251f3504cebcf44dc"><div class="ttname"><a href="group__lwip__opts__tcp.html#gaaac0e9f559a8e3c251f3504cebcf44dc">LWIP_TCP_MAX_SACK_NUM</a></div><div class="ttdeci">#define LWIP_TCP_MAX_SACK_NUM</div><div class="ttdoc">LWIP_TCP_MAX_SACK_NUM: The maximum number of SACK values to include in TCP segments. </div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l01282">opt.h:1282</a></div></div>
<div class="ttc" id="tcpbase_8h_html"><div class="ttname"><a href="tcpbase_8h.html">tcpbase.h</a></div><div class="ttdoc">Base TCP API definitions shared by TCP and ALTCP See also tcp_raw. </div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/tcp_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:28:42 GMT -->
</html>
