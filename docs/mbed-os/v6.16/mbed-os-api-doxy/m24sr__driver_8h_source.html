<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/m24sr__driver_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:24:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | m24sr_driver.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="m24sr__driver_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/m24sr__driver_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/m24sr__driver_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_59977a0c207738c890dea4a1d368376e.html">drivers</a></li><li class="navelem"><a class="el" href="dir_b8c3c48825b8bee8a7d33a2fc6d38b53.html">nfc</a></li><li class="navelem"><a class="el" href="dir_d4bcd3bb806b01be7672b28b6c405f8a.html">TARGET_M24SR</a></li><li class="navelem"><a class="el" href="dir_23dd9506b053c20b78491aca2a2778a7.html">include</a></li><li class="navelem"><a class="el" href="dir_21f96f21ff81429aed1ea96a62f2750a.html">nfc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">m24sr_driver.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment">/* mbed Microcontroller Library</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment"> * SPDX-License-Identifier: BSD-3-Clause</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment"> ******************************************************************************</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment"> * @file    m24sr_driver.h</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> <span class="comment"> * @author  ST Central Labs</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> <span class="comment"> * @brief   This file provides a set of functions to interface with the M24SR</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment"> *          device.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment"> ******************************************************************************</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment"> * @attention</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment"> * &lt;h2&gt;&lt;center&gt;&amp;copy; COPYRIGHT(c) 2018 STMicroelectronics&lt;/center&gt;&lt;/h2&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment"> * Redistribution and use in source and binary forms, with or without modification,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment"> * are permitted provided that the following conditions are met:</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment"> *   1. Redistributions of source code must retain the above copyright notice,</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> <span class="comment"> *      this list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> <span class="comment"> *   2. Redistributions in binary form must reproduce the above copyright notice,</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> <span class="comment"> *      this list of conditions and the following disclaimer in the documentation</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> <span class="comment"> *      and/or other materials provided with the distribution.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> <span class="comment"> *   3. Neither the name of STMicroelectronics nor the names of its contributors</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> <span class="comment"> *      may be used to endorse or promote products derived from this software</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="comment"> *      without specific prior written permission.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> <span class="comment"> *</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> <span class="comment"> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> <span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> <span class="comment"> * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> <span class="comment"> * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> <span class="comment"> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="comment"> * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> <span class="comment"> * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="comment"> * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="comment"> *</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> <span class="comment"> ******************************************************************************</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> <span class="comment"> */</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> </div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="comment">/*</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> <span class="comment"> Based on:         X-CUBE-MEMS1/trunk/Drivers/BSP/Components/m24sr/m24sr.h</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span> <span class="comment"> Revision:         M24SR Driver V1.0.0</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> <span class="comment"> */</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> </div><div class="line"><a name="l00043"></a><span class="lineno">   43</span> <span class="preprocessor">#ifndef M24SR_H</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> <span class="preprocessor">#define M24SR_H</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> </div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> <span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span> <span class="preprocessor">#include &lt;mbed.h&gt;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span> <span class="preprocessor">#include "I2C.h"</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span> <span class="preprocessor">#include "NFCEEPROMDriver.h"</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span> <span class="preprocessor">#include "EventQueue.h"</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> </div><div class="line"><a name="l00052"></a><span class="lineno">   52</span> <span class="preprocessor">#if defined TARGET_DISCO_L475VG_IOT01A</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> </div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> <span class="preprocessor">#define M24SR_I2C_SDA_PIN     PB_11</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span> <span class="preprocessor">#define M24SR_I2C_SCL_PIN     PB_10</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span> <span class="preprocessor">#define M24SR_GPO_PIN         PE_4</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span> <span class="preprocessor">#define M24SR_RF_DISABLE_PIN  PE_2</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span> </div><div class="line"><a name="l00059"></a><span class="lineno">   59</span> <span class="preprocessor">#elif MBED_CONF_X_NUCLEO_NFC01A1</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span> </div><div class="line"><a name="l00061"></a><span class="lineno">   61</span> <span class="preprocessor">#define M24SR_I2C_SDA_PIN     D14</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span> <span class="preprocessor">#define M24SR_I2C_SCL_PIN     D15</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span> <span class="preprocessor">#define M24SR_GPO_PIN         D12</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span> <span class="preprocessor">#define M24SR_RF_DISABLE_PIN  D11</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span> </div><div class="line"><a name="l00066"></a><span class="lineno">   66</span> <span class="preprocessor">#else</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span> </div><div class="line"><a name="l00068"></a><span class="lineno">   68</span> <span class="preprocessor">#define M24SR_I2C_SDA_PIN     NC</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span> <span class="preprocessor">#define M24SR_I2C_SCL_PIN     NC</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span> <span class="preprocessor">#define M24SR_GPO_PIN         NC</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> <span class="preprocessor">#define M24SR_RF_DISABLE_PIN  NC</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span> </div><div class="line"><a name="l00073"></a><span class="lineno">   73</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span> </div><div class="line"><a name="l00075"></a><span class="lineno">   75</span> <span class="keyword">namespace </span><a class="code" href="namespacembed.html">mbed</a> {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span> <span class="keyword">namespace </span>nfc {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span> <span class="keyword">namespace </span>vendor {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span> <span class="keyword">namespace </span>ST {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span> </div><div class="line"><a name="l00080"></a><span class="lineno">   80</span> <span class="preprocessor">#define OPEN_SESSION_RETRIES  5</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span> <span class="preprocessor">#define CC_FILE_LENGTH        15</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span> <span class="preprocessor">#define NDEF_FILE_HEADER_SIZE 2</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span> <span class="preprocessor">#define MAX_NDEF_SIZE         0x1FFF</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span> <span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span> <span class="comment">/**</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span> <span class="comment"> * User parameter used to invoke a command,</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> <span class="comment"> * it is used to provide the data back with the response</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span> <span class="comment"> */</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html">   89</a></span> <span class="keyword">struct </span><a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html">CommandData_t</a> {</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#abe222f6d3581e7920dcad5306cc906a8">   90</a></span>     uint8_t *<a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#abe222f6d3581e7920dcad5306cc906a8">data</a>; <span class="comment">/**&lt; data */</span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#a1892eba2086d12ac2b09005aeb09ea3b">   91</a></span>     uint16_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>; <span class="comment">/**&lt; number of bytes in the data array */</span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#ac681806181c80437cfab37335f62ff39">   92</a></span>     uint16_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#ac681806181c80437cfab37335f62ff39">offset</a>; <span class="comment">/**&lt; offset parameter used in the read/write command */</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span> };</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span> <span class="comment"></span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span> <span class="comment">/**</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span> <span class="comment"> * @brief APDU Command structure</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span> <span class="comment"> */</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u.html">   98</a></span> <span class="keyword">class </span><a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u.html">C_APDU</a> {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span> <span class="keyword">public</span>:</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html">  100</a></span>     <span class="keyword">struct </span><a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html">C_APDUHeader_t</a> {</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#a74238fbf52a2f54d07bfd762a35b0717">  101</a></span>         uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#a74238fbf52a2f54d07bfd762a35b0717">CLA</a>; <span class="comment">/**&lt; Command class */</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#aa7a3539ade0d2709c339e1959919c47c">  102</a></span>         uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#aa7a3539ade0d2709c339e1959919c47c">INS</a>; <span class="comment">/**&lt; Operation code */</span></div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#a89e93cdfda0a253e4d7ba7948fc4d577">  103</a></span>         uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#a89e93cdfda0a253e4d7ba7948fc4d577">P1</a>; <span class="comment">/**&lt; Selection Mode */</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#ae927cd0ad523607889b8481386345fea">  104</a></span>         uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#ae927cd0ad523607889b8481386345fea">P2</a>; <span class="comment">/**&lt; Selection Option */</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>     };</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span> </div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html">  107</a></span>     <span class="keyword">struct </span><a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html">C_APDUBody_t</a> {</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html#afdff3a65547e9d0c703691952efffad5">  108</a></span>         uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html#afdff3a65547e9d0c703691952efffad5">LC</a>; <span class="comment">/**&lt; Data field length */</span></div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html#a579f5164b5b16e18ddcdb0296ef81799">  109</a></span>         <span class="keyword">const</span> uint8_t *<a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html#a579f5164b5b16e18ddcdb0296ef81799">data</a>; <span class="comment">/**&lt; Command parameters */</span></div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html#a8d512f47c0883fe6ac0110f99ecd5314">  110</a></span>         uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html#a8d512f47c0883fe6ac0110f99ecd5314">LE</a>; <span class="comment">/**&lt; Expected length of data to be returned */</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>     };</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span> </div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>     <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u.html">C_APDU</a>(uint8_t cla, uint8_t ins, uint16_t p1p2, uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>, <span class="keyword">const</span> uint8_t *<a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#abe222f6d3581e7920dcad5306cc906a8">data</a>, uint8_t expected)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>     {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>         header.CLA = cla;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>         header.INS = ins;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>         header.P1 = (uint8_t)((p1p2 &amp; 0xFF00) &gt;&gt; 8);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>         header.P2 = (uint8_t)(p1p2 &amp; 0x00FF);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>         body.LC = <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>         body.data = <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#abe222f6d3581e7920dcad5306cc906a8">data</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>         body.LE = expected;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>     }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span> </div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>     <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html">C_APDUHeader_t</a> header;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>     <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html">C_APDUBody_t</a> body;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span> };</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span> <span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span> <span class="comment">/**</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span> <span class="comment"> * @brief SC response structure</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span> <span class="comment"> */</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html">  131</a></span> <span class="keyword">struct </span><a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html">R_APDU</a> {</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html#abe222f6d3581e7920dcad5306cc906a8">  132</a></span>     uint8_t *<a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html#abe222f6d3581e7920dcad5306cc906a8">data</a>; <span class="comment">/**&lt; Data returned from the card */</span> <span class="comment">// pointer on the transceiver buffer = ReaderRecBuf[CR95HF_DATA_OFFSET ];</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html#a3c3121d737548b6911a02b122b18b004">  133</a></span>     uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html#a3c3121d737548b6911a02b122b18b004">SW1</a>; <span class="comment">/**&lt; Command Processing status */</span></div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html#ac21fbfca7fe2c83d47ec82a5f510288e">  134</a></span>     uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html#ac21fbfca7fe2c83d47ec82a5f510288e">SW2</a>; <span class="comment">/**&lt; Command Processing qualification */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span> };</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span> </div><div class="line"><a name="l00137"></a><span class="lineno">  137</span> <span class="keyword">enum</span> M24srError_t : uint16_t {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>     M24SR_SUCCESS = 0,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>     M24SR_ERROR = 0x6F00,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>     M24SR_FILE_OVERFLOW_LE = 0x6280,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>     M24SR_EOF = 0x6282,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>     M24SR_PASSWORD_REQUIRED = 0x6300,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>     M24SR_PASSWORD_INCORRECT = 0x63C0,</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>     M24SR_PASSWORD_INCORRECT1RETRY = 0x63C1,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>     M24SR_PASSWORD_INCORRECT2RETRY = 0x63C2,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>     M24SR_WRONG_LENGHT = 0x6700,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>     M24SR_UNSUCESSFUL_UPDATING = 0x6581,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>     M24SR_INCOPATIBLE_COMMAND = 0x6981,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>     M24SR_SECURITY_UNSATISFIED = 0x6982,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>     M24SR_REFERENCE_DATA_NOT_USABLE = 0x6984,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span> </div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>     M24SR_INCORRECT_PARAMETER = 0x6a80,</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>     M24SR_FILE_NOT_FOUND = 0x6a82,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>     M24SR_FILE_OVERFLOW_LC = 0x6A84,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span> </div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>     M24SR_INCORRECT_P1_OR_P2 = 0x6A86,</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>     M24SR_RF_SESSION_KILLED = 0x6500,</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>     M24SR_INS_NOT_SUPPORTED = 0x6D00,</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>     M24SR_CLASS_NOT_SUPPORTED = 0x6E00,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span> </div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>     M24SR_IO_ERROR_I2CTIMEOUT = 0x0011,</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>     M24SR_IO_ERROR_CRC = 0x0012,</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>     M24SR_IO_ERROR_NACK = 0x0013,</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>     M24SR_IO_ERROR_PARAMETER = 0x0014,</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>     M24SR_IO_ERROR_NBATEMPT = 0x0015,</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>     M24SR_IO_NOACKNOWLEDGE = 0x0016,</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>     M24SR_IO_PIN_NOT_CONNECTED = 0x0017</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span> };</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span> <span class="comment"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span> <span class="comment">/**</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span> <span class="comment"> * @brief GPO state</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span> <span class="comment"> */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span> <span class="keyword">enum</span> NfcGpoState_t {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>     HIGH_IMPEDANCE = 0,</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>     SESSION_OPENED = 1,</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>     WIP = 2,</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>     I2C_ANSWER_READY = 3,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>     INTERRUPT = 4,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>     STATE_CONTROL = 5</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span> };</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span> <span class="comment"></span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span> <span class="comment">/**</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span> <span class="comment"> * Possible password to set.</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span> <span class="comment"> */</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span> <span class="keyword">enum</span> PasswordType_t {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>     READ_PASSWORD = 0x01, <span class="comment">/**&lt; Password to use before reading the tag */</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>     WRITE_PASSWORD = 0x02, <span class="comment">/**&lt; Password to use before writing the tag */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>     I2C_PASSWORD = 0x03, <span class="comment">/**&lt; Root password, used only through nfc */</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span> };</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> <span class="comment"></span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span> <span class="comment">/**</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span> <span class="comment"> * Command that the component can accept</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span> <span class="comment"> */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span> <span class="keyword">enum</span> Command_t {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>     NONE,</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>     DESELECT,</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>     SELECT_APPLICATION,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>     SELECT_CC_FILE,</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>     SELECT_NDEF_FILE,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>     SELECT_SYSTEM_FILE,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>     READ,</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>     UPDATE,</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>     VERIFY,</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>     MANAGE_I2C_GPO,</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>     MANAGE_RF_GPO,</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>     CHANGE_REFERENCE_DATA,</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>     ENABLE_VERIFICATION_REQUIREMENT,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>     DISABLE_VERIFICATION_REQUIREMENT,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>     ENABLE_PERMANET_STATE,</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>     DISABLE_PERMANET_STATE,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span> };</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span> <span class="comment"></span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span> <span class="comment">/**</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span> <span class="comment"> * Communication mode used by this device</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span> <span class="comment"> */</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span> <span class="keyword">enum</span> Communication_t {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>     SYNC, <span class="comment">/**&lt; SYNC wait the command response before returning */</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>     ASYNC <span class="comment">/**&lt; ASYNC use a callback to notify the end of a command */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span> };</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span> <span class="comment"></span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span> <span class="comment">/**</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span> <span class="comment"> * Class representing a M24SR component.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span> <span class="comment"> * This component has two operation modes, sync or async.</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span> <span class="comment"> * In sync mode each function call returns only after the command has completed.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span> <span class="comment"> * In async mode each function call returns immediately and the answer will be notified</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span> <span class="comment"> * through a callback.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span> <span class="comment"> * The default behaviour is sync mode.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span> <span class="comment"> * To enable the async mode ManageI2CGPO(I2C_ANSWER_READY) function must be called.</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span> <span class="comment"> * When the component notifies an interrupt user must call  {@link ManageEvent} function.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span> <span class="comment"> * Note that passing a parameter other than I2C_ANSWER_READY to ManageI2CGPO initialize the component in sync mode.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span> <span class="comment"> */</span></div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">  232</a></span> <span class="keyword">class </span><a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver.html">NFCEEPROMDriver</a> {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span> <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span> <span class="comment">    /**</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span> <span class="comment">     * Object that contains all the callbacks fired by this class, each command has its own callback.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span> <span class="comment">     * The callback default implementation is an empty function.</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span> <span class="comment">     */</span></div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">  238</a></span>     <span class="keyword">class </span><a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>     <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span> <span class="comment">        /** called when get_session completes */</span></div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a8739df0b4893581c28af0ef43e2ed73c">  241</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a8739df0b4893581c28af0ef43e2ed73c">on_session_open</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>         {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>             (void) nfc;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>             (void) status;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>         }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span> <span class="comment"></span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span> <span class="comment">        /** called when deselect completes */</span></div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a4d1419f57a9fb86cc34e5a6e3cd5057b">  248</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a4d1419f57a9fb86cc34e5a6e3cd5057b">on_deselect</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>         {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>             (void) nfc;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>             (void) status;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>         }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span> <span class="comment"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="comment">        /** called when select_application completes */</span></div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a229d22813e43181e5fe2b31d2d22d2d8">  255</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a229d22813e43181e5fe2b31d2d22d2d8">on_selected_application</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>         {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>             (void) nfc;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>             (void) status;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>         }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="comment"></span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span> <span class="comment">        /** called when select_cc_file completes */</span></div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a5c99687492bd7af29c93e5ec260956cf">  262</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a5c99687492bd7af29c93e5ec260956cf">on_selected_cc_file</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>         {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>             (void) nfc;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>             (void) status;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>         }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span> <span class="comment"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span> <span class="comment">        /** called when select_ndef_file completes */</span></div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a667a4b26dd79a6a938d6b6cfb157e53e">  269</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a667a4b26dd79a6a938d6b6cfb157e53e">on_selected_ndef_file</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>         {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>             (void) nfc;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>             (void) status;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>         }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span> <span class="comment"></span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span> <span class="comment">        /** called when select_system_file completes */</span></div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ad74b576391d9122194a099eef0471dd5">  276</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ad74b576391d9122194a099eef0471dd5">on_selected_system_file</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>         {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>             (void) nfc;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>             (void) status;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>         }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span> <span class="comment"></span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span> <span class="comment">        /** called when read_binary completes */</span></div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#abb6d3b31c5d19a41e54b73656cf870c9">  283</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#abb6d3b31c5d19a41e54b73656cf870c9">on_read_byte</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#ac681806181c80437cfab37335f62ff39">offset</a>, uint8_t *bytes_read,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>                                   uint16_t read_count)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>         {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>             (void) nfc;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>             (void) status;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>             (void) offset;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>             (void) bytes_read;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>             (void) read_count;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>         }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span> <span class="comment"></span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span> <span class="comment">        /** called when update_binary completes */</span></div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a52ae611c03c11d6ba92284880ab2284e">  294</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a52ae611c03c11d6ba92284880ab2284e">on_updated_binary</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#ac681806181c80437cfab37335f62ff39">offset</a>, uint8_t *bytes_written,</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>                                        uint16_t write_count)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>         {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>             (void) nfc;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>             (void) status;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>             (void) bytes_written;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>             (void) write_count;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>             (void) offset;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>         }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> <span class="comment"></span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span> <span class="comment">        /** called when verify completes */</span></div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aee751211ec0c9ecd254aae55223d4d77">  305</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aee751211ec0c9ecd254aae55223d4d77">on_verified</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t password_type, <span class="keyword">const</span> uint8_t *pwd)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>         {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>             (void) nfc;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>             (void) status;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>             (void) password_type;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>             (void) pwd;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>         }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span> <span class="comment"></span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span> <span class="comment">        /** called when manage_i2c_gpo completes */</span></div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a75fc7ce5f9414dea26d73e182313e35f">  314</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a75fc7ce5f9414dea26d73e182313e35f">on_manage_i2c_gpo</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, NfcGpoState_t new_status)</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>         {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>             (void) nfc;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>             (void) status;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>             (void) new_status;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>         }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span> <span class="comment"></span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span> <span class="comment">        /** called when manage_rf_gpo completes */</span></div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a8f9043bc0e76c18d7edcf23b9236e650">  322</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a8f9043bc0e76c18d7edcf23b9236e650">on_manage_rf_gpo</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, NfcGpoState_t new_status)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>         {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>             (void) nfc;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>             (void) status;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>             (void) new_status;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>         }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span> <span class="comment"></span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span> <span class="comment">        /** called when change_reference_data completes */</span></div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a06756eb5fe32bf0cc0979aa7c22c0208">  330</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a06756eb5fe32bf0cc0979aa7c22c0208">on_change_reference_data</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>                                               <span class="keyword">const</span> uint8_t *<a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#abe222f6d3581e7920dcad5306cc906a8">data</a>)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>         {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>             (void) nfc;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>             (void) status;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>             (void) type;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>             (void) data;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>         }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span> <span class="comment"></span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span> <span class="comment">        /** called when enable_verification_requirement completes */</span></div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#af7edfd15cd1504d960f981dff07a9b0c">  340</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#af7edfd15cd1504d960f981dff07a9b0c">on_enable_verification_requirement</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>         {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>             (void) nfc;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>             (void) status;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>             (void) type;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>         }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span> <span class="comment"></span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span> <span class="comment">        /** called when disable_verification_requirement completes */</span></div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a3edeed68f691d572dbd11950ab5a10d8">  348</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a3edeed68f691d572dbd11950ab5a10d8">on_disable_verification_requirement</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>         {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>             (void) nfc;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>             (void) status;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>             (void) type;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>         }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span> <span class="comment"></span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span> <span class="comment">        /** called when enable_permanent_state completes */</span></div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a28c7fa04fc4562940decdac95768ff11">  356</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a28c7fa04fc4562940decdac95768ff11">on_enable_permanent_state</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type)</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>         {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>             (void) nfc;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>             (void) status;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>             (void) type;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>         }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span> <span class="comment"></span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span> <span class="comment">        /** called when disable_permanent_state completes */</span></div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aa0336fdfbcee7f199ca97f917f24cac2">  364</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aa0336fdfbcee7f199ca97f917f24cac2">on_disable_permanent_state</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type)</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>         {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>             (void) nfc;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>             (void) status;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>             (void) type;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>         }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span> <span class="comment"></span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span> <span class="comment">        /** called when read_id completes */</span></div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a7431778b6fc9dca310e9dbea03b4546f">  372</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a7431778b6fc9dca310e9dbea03b4546f">on_read_id</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint8_t *<span class="keywordtype">id</span>)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>         {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>             (void) nfc;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>             (void) status;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>             (void) <span class="keywordtype">id</span>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>         }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span> <span class="comment"></span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span> <span class="comment">        /** called when enable_read_password completes */</span></div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a9cff214e7cb66782502e7316f75f5cd3">  380</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a9cff214e7cb66782502e7316f75f5cd3">on_enable_read_password</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, <span class="keyword">const</span> uint8_t *new_password)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>         {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>             (void) nfc;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>             (void) status;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>             (void) new_password;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>         }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span> <span class="comment"></span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span> <span class="comment">        /** called when oenable_write_password completes */</span></div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a7e5db9eaa79122fb478670a0c4c0353b">  388</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a7e5db9eaa79122fb478670a0c4c0353b">on_enable_write_password</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, <span class="keyword">const</span> uint8_t *new_password)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>         {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>             (void) nfc;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>             (void) status;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>             (void) new_password;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>         }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span> <span class="comment"></span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span> <span class="comment">        /** called when disable_read_password completes */</span></div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ab45ffdf8aa4053fb6c810c187f574f95">  396</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ab45ffdf8aa4053fb6c810c187f574f95">on_disable_read_password</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>         {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>             (void) nfc;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>             (void) status;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>         }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span> <span class="comment"></span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span> <span class="comment">        /** called when disable_write_password completes */</span></div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a9a3dc6881e6ab909d45132f84a1422a8">  403</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a9a3dc6881e6ab909d45132f84a1422a8">on_disable_write_password</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>         {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>             (void) nfc;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>             (void) status;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>         }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span> <span class="comment"></span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span> <span class="comment">        /** called when disable_all_password completes */</span></div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a887864592c3977255009c656a3489bc0">  410</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a887864592c3977255009c656a3489bc0">on_disable_all_password</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>         {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>             (void) nfc;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>             (void) status;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>         }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span> <span class="comment"></span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span> <span class="comment">        /** called when enable_read_only completes */</span></div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aa9ec0747eaecd0da5c34710a43b9f8a2">  417</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aa9ec0747eaecd0da5c34710a43b9f8a2">on_enable_read_only</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>         {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>             (void) nfc;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>             (void) status;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>         }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span> <span class="comment"></span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span> <span class="comment">        /** called when enable_write_only completes */</span></div><div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ac419242ec04e18bf64605b44813dd9b5">  424</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ac419242ec04e18bf64605b44813dd9b5">on_enable_write_only</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>         {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>             (void) nfc;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>             (void) status;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>         }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span> <span class="comment"></span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span> <span class="comment">        /** called when disable_read_only completes */</span></div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a74b1f9a4f11d5d68524cc75ce849fd7a">  431</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a74b1f9a4f11d5d68524cc75ce849fd7a">on_disable_read_only</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>         {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>             (void) nfc;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>             (void) status;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>         }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span> <span class="comment"></span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span> <span class="comment">        /** called when disable_write_only completes */</span></div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#af772c9024645e75b2a74d24c958c091d">  438</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#af772c9024645e75b2a74d24c958c091d">on_disable_write_only</a>(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>         {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>             (void) nfc;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>             (void) status;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>         }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span> </div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>         <span class="keyword">virtual</span> ~<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a>() { }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>     };</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span> </div><div class="line"><a name="l00447"></a><span class="lineno">  447</span> <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span> <span class="comment">    /** Create the driver, default pin names will be used appropriate for the board.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span> <span class="comment">     *  @param i2c_data_pin I2C data pin name.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span> <span class="comment">     *  @param i2c_clock_pin I2C clock pin name.</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span> <span class="comment">     *  @param gpo_pin I2C GPO pin name.</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span> <span class="comment">     *  @param rf_disable_pin pin name for breaking the RF connection.</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span> <span class="comment">     */</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>     <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a>(PinName i2c_data_pin = M24SR_I2C_SDA_PIN, PinName i2c_clock_pin = M24SR_I2C_SCL_PIN,</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>                 PinName gpo_pin = M24SR_GPO_PIN, PinName rf_disable_pin = M24SR_RF_DISABLE_PIN);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span> </div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>     <span class="keyword">virtual</span> ~<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a>() { }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span> <span class="comment"></span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span> <span class="comment">    /** @see NFCEEPROMDriver::reset</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span> <span class="comment">     */</span></div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a7b0e029102ad38f4b814c6523aedb53d">  461</a></span>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a7b0e029102ad38f4b814c6523aedb53d">reset</a>()</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>     {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>         set_callback(&amp;_default_cb);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>         init();</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>         manage_i2c_gpo(I2C_ANSWER_READY);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>     }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span> <span class="comment"></span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span> <span class="comment">    /** @see NFCEEPROMDriver::get_max_size</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span> <span class="comment">     */</span></div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a0594fba597591b13818473aa917f0122">  470</a></span>     <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a0594fba597591b13818473aa917f0122">read_max_size</a>()</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>     {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>         <span class="keywordflow">return</span> MAX_NDEF_SIZE;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>     }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span> <span class="comment"></span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span> <span class="comment">    /** @see NFCEEPROMDriver::start_session</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span> <span class="comment">     */</span></div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a0ef0a890e1c6ef32389cd7afd5f8bb59">  477</a></span>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a0ef0a890e1c6ef32389cd7afd5f8bb59">start_session</a>(<span class="keywordtype">bool</span> force = <span class="keyword">true</span>)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>     {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>         <span class="keywordflow">if</span> (_is_session_open) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>             delegate()-&gt;on_session_started(<span class="keyword">true</span>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>         }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span> </div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>         set_callback(&amp;_open_session_cb);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span> </div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>         get_session(force);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>     }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span> <span class="comment"></span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span> <span class="comment">    /** @see NFCEEPROMDriver::end_session</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span> <span class="comment">     */</span></div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a26bce17288019e6071643429e8cb0c42">  491</a></span>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a26bce17288019e6071643429e8cb0c42">end_session</a>()</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>     {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>         set_callback(&amp;_close_session_cb);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>         deselect();</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>     }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span> <span class="comment"></span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span> <span class="comment">    /** @see NFCEEPROMDriver::read_bytes</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span> <span class="comment">     */</span></div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a902428b15b428719cbc71dea2e4b616c">  499</a></span>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a902428b15b428719cbc71dea2e4b616c">read_bytes</a>(uint32_t address, uint8_t *bytes, <span class="keywordtype">size_t</span> count)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>     {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>         <span class="keywordflow">if</span> (!_is_session_open) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>             delegate()-&gt;on_bytes_read(0);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>         }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span> </div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>         <span class="keywordflow">if</span> (address &gt; _ndef_size) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>             delegate()-&gt;on_bytes_read(0);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>         }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span> </div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>         set_callback(&amp;_read_byte_cb);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span> </div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>         <span class="keywordflow">if</span> (count &gt; _max_read_bytes) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>             count = _max_read_bytes;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>         }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span> </div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>         <span class="keywordflow">if</span> (address + count &gt; _ndef_size) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>             count = _ndef_size - address;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>         }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span> </div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>         <span class="keywordflow">if</span> (count == 0) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>             delegate()-&gt;on_bytes_read(0);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>         }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span> </div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>         <span class="comment">/* offset by ndef file size*/</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>         address += NDEF_FILE_HEADER_SIZE;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span> </div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>         read_binary((uint16_t) address, (uint8_t) count, bytes);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>     }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span> <span class="comment"></span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span> <span class="comment">    /** @see NFCEEPROMDriver::write_bytes</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span> <span class="comment">     */</span></div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a2784aaed220a6d36515ee3f801152d1b">  534</a></span>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a2784aaed220a6d36515ee3f801152d1b">write_bytes</a>(uint32_t address, <span class="keyword">const</span> uint8_t *bytes, <span class="keywordtype">size_t</span> count)</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>     {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>         <span class="keywordflow">if</span> (!_is_session_open) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>             delegate()-&gt;on_bytes_written(0);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>         }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span> </div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>         <span class="keywordflow">if</span> (address &gt; _ndef_size) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>             delegate()-&gt;on_bytes_written(0);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>         }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span> </div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>         <span class="keywordflow">if</span> (bytes) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>             set_callback(&amp;_write_byte_cb);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>             set_callback(&amp;_erase_bytes_cb);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>         }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span> </div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>         <span class="keywordflow">if</span> (count &gt; _max_write_bytes) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>             count = _max_write_bytes;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>         }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span> </div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>         <span class="keywordflow">if</span> (address + count &gt; _ndef_size) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>             count = _ndef_size - address;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>         }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span> </div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>         <span class="keywordflow">if</span> (count == 0) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>             delegate()-&gt;on_bytes_written(0);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>         }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span> </div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>         <span class="comment">/* offset by ndef file size*/</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>         address += NDEF_FILE_HEADER_SIZE;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span> </div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>         update_binary((uint16_t) address, (uint8_t) count, bytes);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>     }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span> <span class="comment"></span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span> <span class="comment">    /** @see NFCEEPROMDriver::set_size</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span> <span class="comment">     */</span></div><div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a879f5e00c3247fb52d19a93de12584eb">  573</a></span>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a879f5e00c3247fb52d19a93de12584eb">write_size</a>(<span class="keywordtype">size_t</span> count)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>     {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>         <span class="keywordflow">if</span> (!_is_session_open) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>             delegate()-&gt;on_size_read(<span class="keyword">false</span>, 0);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>         }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span> </div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>         <span class="keywordflow">if</span> (count &gt; MAX_NDEF_SIZE - NDEF_FILE_HEADER_SIZE) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>             delegate()-&gt;on_size_read(<span class="keyword">false</span>, 0);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>         }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span> </div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>         set_callback(&amp;_set_size_cb);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span> </div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>         _ndef_size = (uint16_t)count;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span> </div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>         <span class="comment">/* NDEF file size is BE */</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>         uint8_t *bytes = (uint8_t *)&amp;_ndef_size;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>         _ndef_size_buffer[0] = bytes[1];</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>         _ndef_size_buffer[1] = bytes[0];</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span> </div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>         update_binary(0, NDEF_FILE_HEADER_SIZE, (<span class="keyword">const</span> uint8_t *)&amp;_ndef_size_buffer);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>     }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span> <span class="comment"></span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span> <span class="comment">    /** @see NFCEEPROMDriver::get_size</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span> <span class="comment">     */</span></div><div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a7d339270ed2ffb56fb58514a02a32767">  599</a></span>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a7d339270ed2ffb56fb58514a02a32767">read_size</a>()</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>     {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>         <span class="keywordflow">if</span> (!_is_session_open) {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>             delegate()-&gt;on_size_read(<span class="keyword">false</span>, 0);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>             <span class="keywordflow">return</span>;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>         }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span> </div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>         set_callback(&amp;_get_size_cb);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span> </div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>         read_binary(0, NDEF_FILE_HEADER_SIZE, (uint8_t *)&amp;_ndef_size_buffer);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>     }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span> <span class="comment"></span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span> <span class="comment">    /** @see NFCEEPROMDriver::erase_bytes</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span> <span class="comment">     */</span></div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#afb0f671bd02d67d0401f53c77a602b51">  613</a></span>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#afb0f671bd02d67d0401f53c77a602b51">erase_bytes</a>(uint32_t address, <span class="keywordtype">size_t</span> size)</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>     {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>         write_bytes(address, NULL, size);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>     }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span> </div><div class="line"><a name="l00618"></a><span class="lineno">  618</span> <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span> <span class="comment">    /**</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span> <span class="comment">     * Change the function to call when a command ends.</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span> <span class="comment">     * @param commandCallback Object containing the callback, if NULL it will use empty callback</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span> <span class="comment">     */</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>     <span class="keywordtype">void</span> set_callback(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> *<a class="code" href="group__platform___callback.html#ga1104a807bfce1d1dc38e4d1eeba6ed17">callback</a>)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>     {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>         <span class="keywordflow">if</span> (callback) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>             _command_cb = <a class="code" href="group__platform___callback.html#ga1104a807bfce1d1dc38e4d1eeba6ed17">callback</a>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>             _command_cb = &amp;_default_cb;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>         }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>     }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span> <span class="comment"></span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span> <span class="comment">    /**</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span> <span class="comment">     * get the callback object to use</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span> <span class="comment">     * @return callback object to use</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span> <span class="comment">     */</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>     <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> *get_callback()</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>     {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>         <span class="comment">/* this allows for two levels of operation, the previous command will continue</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span> <span class="comment">         * when this set of callbacks has finished */</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>         <span class="keywordflow">if</span> (_subcommand_cb) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>             <span class="keywordflow">return</span> _subcommand_cb;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>         }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>         <span class="keywordflow">return</span> _command_cb;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>     }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span> </div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>     <span class="keywordtype">void</span> nfc_interrupt_callback()</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>     {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>         <span class="keywordflow">if</span> (_communication_type == ASYNC) {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>             event_queue()-&gt;call(<span class="keyword">this</span>, &amp;M24srDriver::manage_event);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>         }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>     }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span> <span class="comment"></span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span> <span class="comment">    /**</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span> <span class="comment">     * Enable the request of a password before reading the tag.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span> <span class="comment">     * @param current_write_password Current password</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span> <span class="comment">     * @param new_password Password to request before reading the tag.</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span> <span class="comment">     * @return return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span> <span class="comment">     * @note The password must have a length of 16 chars.</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span> <span class="comment">     */</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>     M24srError_t enable_read_password(<span class="keyword">const</span> uint8_t *current_write_password, <span class="keyword">const</span> uint8_t *new_password)</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>     {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>         _subcommand_cb = &amp;_change_password_request_status_cb;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>         _change_password_request_status_cb.set_task(READ_PASSWORD, new_password);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span> </div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>         <span class="keywordflow">return</span> verify(WRITE_PASSWORD, current_write_password);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>     }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span> <span class="comment"></span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span> <span class="comment">    /**</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span> <span class="comment">     * Disable the request of a password before reading the tag.</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span> <span class="comment">     * @param current_write_password Current password</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span> <span class="comment">     * @return return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span> <span class="comment">     * @note The password must have a length of 16 chars.</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span> <span class="comment">     */</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>     M24srError_t disable_read_password(<span class="keyword">const</span> uint8_t *current_write_password)</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>     {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>         _subcommand_cb = &amp;_change_password_request_status_cb;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>         _change_password_request_status_cb.set_task(READ_PASSWORD, NULL);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span> </div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>         <span class="keywordflow">return</span> verify(WRITE_PASSWORD, current_write_password);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>     }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span> <span class="comment"></span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span> <span class="comment">    /**</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span> <span class="comment">     * Enable the request of a password before writing to the tag.</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span> <span class="comment">     * @param current_write_password Current password</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span> <span class="comment">     * @param new_password Password to request before reading the tag.</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span> <span class="comment">     * @return return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span> <span class="comment">     * @note The password must have a length of 16 chars.</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span> <span class="comment">     */</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>     M24srError_t enable_write_password(<span class="keyword">const</span> uint8_t *current_write_password, uint8_t *new_password)</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>     {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>         _subcommand_cb = &amp;_change_password_request_status_cb;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>         _change_password_request_status_cb.set_task(WRITE_PASSWORD, new_password);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span> </div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>         <span class="keywordflow">return</span> verify(WRITE_PASSWORD, current_write_password);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>     }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span> <span class="comment"></span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span> <span class="comment">    /**</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span> <span class="comment">     * Disable the request of a password before writing the tag.</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span> <span class="comment">     * @param current_write_password Current password.</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span> <span class="comment">     * @return return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span> <span class="comment">     * @note The password must have a length of 16 chars.</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span> <span class="comment">     */</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>     M24srError_t disable_write_password(<span class="keyword">const</span> uint8_t *current_write_password)</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>     {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>         _subcommand_cb = &amp;_change_password_request_status_cb;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>         _change_password_request_status_cb.set_task(WRITE_PASSWORD, NULL);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span> </div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>         <span class="keywordflow">return</span> verify(WRITE_PASSWORD, current_write_password);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>     }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span> <span class="comment"></span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span> <span class="comment">    /**</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span> <span class="comment">     * @brief This function disables both read and write passwords.</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span> <span class="comment">     * @param super_user_password I2C super user password.</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span> <span class="comment">     * @return return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span> <span class="comment">     * @note The password must have a length of 16 chars.</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span> <span class="comment">     */</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>     M24srError_t disable_all_password(<span class="keyword">const</span> uint8_t *super_user_password)</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>     {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>         _subcommand_cb = &amp;_remove_password_cb;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>         <span class="keywordflow">return</span> verify(I2C_PASSWORD, super_user_password);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>     }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span> <span class="comment"></span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span> <span class="comment">    /**</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span> <span class="comment">     * @brief This function enables read only mode.</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span> <span class="comment">     * @param current_write_password Write password is needed to enable read only mode.</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span> <span class="comment">     * @return return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span> <span class="comment">     * @note The password must have a length of 16 chars.</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span> <span class="comment">     */</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>     M24srError_t enable_read_only(<span class="keyword">const</span> uint8_t *current_write_password)</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>     {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>         _subcommand_cb = &amp;_change_access_state_cb;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>         _change_access_state_cb.change_access_state(ChangeAccessStateCallback::WRITE, <span class="keyword">false</span>);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span> </div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>         <span class="keywordflow">return</span> verify(WRITE_PASSWORD, current_write_password);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>     }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span> <span class="comment"></span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span> <span class="comment">    /**</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span> <span class="comment">     * @brief This function disables read only mode.</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span> <span class="comment">     * @param current_write_password Write password is needed to disable read only mode.</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span> <span class="comment">     * @return return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span> <span class="comment">     * @note The password must have a length of 16 chars.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span> <span class="comment">     */</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>     M24srError_t disable_read_only(<span class="keyword">const</span> uint8_t *current_write_password)</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>     {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>         _subcommand_cb = &amp;_change_access_state_cb;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>         _change_access_state_cb.change_access_state(ChangeAccessStateCallback::WRITE, <span class="keyword">true</span>);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span> </div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>         <span class="keywordflow">return</span> verify(I2C_PASSWORD, current_write_password);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>     }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span> <span class="comment"></span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span> <span class="comment">    /**</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span> <span class="comment">     * @brief This function enables write only mode.</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span> <span class="comment">     * @param current_write_password Write password is needed to enable write only mode.</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span> <span class="comment">     * @return return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span> <span class="comment">     * @note The password must have a length of 16 chars.</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span> <span class="comment">     */</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>     M24srError_t enable_write_only(<span class="keyword">const</span> uint8_t *current_write_password)</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>     {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>         _subcommand_cb = &amp;_change_access_state_cb;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>         _change_access_state_cb.change_access_state(ChangeAccessStateCallback::READ, <span class="keyword">false</span>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span> </div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>         <span class="keywordflow">return</span> verify(WRITE_PASSWORD, current_write_password);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>     }</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span> <span class="comment"></span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span> <span class="comment">    /**</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span> <span class="comment">     * @brief This function disables write only mode.</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span> <span class="comment">     * @param current_write_password Write password is needed to disable write only mode.</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span> <span class="comment">     * @return return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span> <span class="comment">     * @note The password must have a length of 16 chars.</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span> <span class="comment">     */</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>     M24srError_t disable_write_only(<span class="keyword">const</span> uint8_t *current_write_password)</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>     {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>         _subcommand_cb = &amp;_change_access_state_cb;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>         _change_access_state_cb.change_access_state(ChangeAccessStateCallback::READ, <span class="keyword">true</span>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span> </div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>         <span class="keywordflow">return</span> verify(I2C_PASSWORD, current_write_password);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>     }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span> </div><div class="line"><a name="l00779"></a><span class="lineno">  779</span> <span class="keyword">private</span>:</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>     M24srError_t init();</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>     M24srError_t read_id(uint8_t *nfc_id);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>     M24srError_t get_session(<span class="keywordtype">bool</span> force = <span class="keyword">false</span>);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span> </div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>     M24srError_t deselect();</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>     M24srError_t receive_deselect();</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span> </div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>     M24srError_t select_application();</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>     M24srError_t receive_select_application();</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span> </div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>     M24srError_t select_cc_file();</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>     M24srError_t receive_select_cc_file();</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span> </div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>     M24srError_t select_ndef_file(uint16_t ndef_file_id);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>     M24srError_t receive_select_ndef_file();</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span> </div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>     M24srError_t select_system_file();</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>     M24srError_t receive_select_system_file();</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span> </div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>     M24srError_t read_binary(uint16_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#ac681806181c80437cfab37335f62ff39">offset</a>, uint8_t <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>, uint8_t *buffer);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>     M24srError_t st_read_binary(uint16_t offset, uint8_t length, uint8_t *buffer);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>     M24srError_t receive_read_binary();</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span> </div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>     M24srError_t update_binary(uint16_t offset, uint8_t length, <span class="keyword">const</span> uint8_t *<a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#abe222f6d3581e7920dcad5306cc906a8">data</a>);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>     M24srError_t receive_update_binary();</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span> </div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>     M24srError_t verify(PasswordType_t password_type, <span class="keyword">const</span> uint8_t *password);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>     M24srError_t receive_verify();</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span> </div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>     M24srError_t change_reference_data(PasswordType_t password_type, <span class="keyword">const</span> uint8_t *password);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>     M24srError_t receive_change_reference_data();</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span> </div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>     M24srError_t enable_verification_requirement(PasswordType_t password_type);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>     M24srError_t receive_enable_verification_requirement();</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span> </div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>     M24srError_t disable_verification_requirement(PasswordType_t password_type);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>     M24srError_t receive_disable_verification_requirement();</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span> </div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>     M24srError_t enable_permanent_state(PasswordType_t password_type);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>     M24srError_t receive_enable_permanent_state();</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span> </div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>     M24srError_t disable_permanent_state(PasswordType_t password_type);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>     M24srError_t receive_disable_permanent_state();</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span> </div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>     M24srError_t send_interrupt();</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>     M24srError_t state_control(<span class="keywordtype">bool</span> gpo_reset);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span> </div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>     M24srError_t manage_i2c_gpo(NfcGpoState_t gpo_i2c_config);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>     M24srError_t manage_rf_gpo(NfcGpoState_t gpo_rf_config);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span> </div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>     M24srError_t rf_config(<span class="keywordtype">bool</span> enable);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>     M24srError_t send_fwt_extension(uint8_t fwt_byte);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span> </div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>     M24srError_t send_receive_i2c(uint16_t length, uint8_t *command);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span> <span class="comment"></span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span> <span class="comment">    /**</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span> <span class="comment">     * Function to call when the component fire an interrupt.</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span> <span class="comment">     * @return last operation status</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span> <span class="comment">     */</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>     M24srError_t manage_event();</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span> <span class="comment"></span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span> <span class="comment">    /**</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span> <span class="comment">     * Send a command to the component.</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span> <span class="comment">     * @param length Length of the command.</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span> <span class="comment">     * @param command Buffer containing the command.</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span> <span class="comment">     * @return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span> <span class="comment">     */</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>     M24srError_t io_send_i2c_command(uint8_t length, <span class="keyword">const</span> uint8_t *command);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span> <span class="comment"></span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span> <span class="comment">    /**</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span> <span class="comment">     * Read a command response.</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span> <span class="comment">     * @param length Number of bytes to read.</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span> <span class="comment">     * @param command Buffer to store the response into.</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span> <span class="comment">     * @return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span> <span class="comment">     */</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>     M24srError_t io_receive_i2c_response(uint8_t length, uint8_t *command);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span> <span class="comment"></span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span> <span class="comment">    /**</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span> <span class="comment">     * Do an active polling on the I2C bus until the answer is ready.</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span> <span class="comment">     * @return M24SR_SUCCESS if no errors</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span> <span class="comment">     */</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>     M24srError_t io_poll_i2c();</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span> </div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>     <span class="keywordtype">bool</span> manage_sync_communication(M24srError_t *status);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span> </div><div class="line"><a name="l00865"></a><span class="lineno">  865</span> <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span> <span class="comment">    /**</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span> <span class="comment">     * @brief This class permits to enable/disable the password request to read/write into the tag</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span> <span class="comment">     */</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>     <span class="keyword">class </span>ChangePasswordRequestStatusCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>     <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span> <span class="comment">        /**</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span> <span class="comment">         * Build the chain of callbacks.</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span> <span class="comment">         */</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>         ChangePasswordRequestStatusCallback()</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>             : _new_password(NULL),</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>               _type(I2C_PASSWORD),</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>               _enable(<span class="keyword">false</span>) { }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span> </div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>         <span class="comment">/* This class is equivalent to calling the methods:</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span> <span class="comment">         *</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span> <span class="comment">         * To enable the request:</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span> <span class="comment">         * - Verify</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span> <span class="comment">         * - change_reference_data</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span> <span class="comment">         * - enable_permanent_state</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span> <span class="comment">         *</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span> <span class="comment">         * To disable the request:</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span> <span class="comment">         * - verify</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span> <span class="comment">         * - disable_verification_requirement</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span> <span class="comment">         */</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span> <span class="comment"></span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span> <span class="comment">        /**</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span> <span class="comment">         * Set the password to enable/disable.</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span> <span class="comment">         * @param type Type of password to enable/disable.</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span> <span class="comment">         * @param new_password Array of 16bytes with the new password, if null the request will be disabled.</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span> <span class="comment">         */</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>         <span class="keywordtype">void</span> set_task(PasswordType_t type, <span class="keyword">const</span> uint8_t *new_password)</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>         {</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>             _new_password = new_password;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>             _type = type;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>             _enable = (new_password != NULL);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>         }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span> </div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_verified(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t, <span class="keyword">const</span> uint8_t *)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>         {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>                 <span class="keywordflow">return</span> on_finish_command(nfc, status);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>             }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>             <span class="keywordflow">if</span> (_enable) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>                 nfc-&gt;change_reference_data(_type, _new_password);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>                 nfc-&gt;disable_verification_requirement(_type);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>             }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>         }</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span> </div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_disable_verification_requirement(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t)</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>         {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>             on_finish_command(nfc, status);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>         }</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span> </div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_change_reference_data(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type, <span class="keyword">const</span> uint8_t *)</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>         {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>                 nfc-&gt;enable_permanent_state(type);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>                 on_finish_command(nfc, status);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>             }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>         }</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span> </div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_enable_permanent_state(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t)</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>         {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>             on_finish_command(nfc, status);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>         }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span> </div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>     <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span> <span class="comment">        /**</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span> <span class="comment">         * Remove the private callbacks and call the user callback.</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span> <span class="comment">         * @param nfc Object triggering the command.</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span> <span class="comment">         * @param status Command status.</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span> <span class="comment">         */</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>         <span class="keywordtype">void</span> on_finish_command(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>         {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>             nfc-&gt;_subcommand_cb = NULL;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span> </div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>             <span class="keywordflow">if</span> (_enable) {</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>                 <span class="keywordflow">if</span> (_type == READ_PASSWORD) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>                     nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a9cff214e7cb66782502e7316f75f5cd3">on_enable_read_password</a>(nfc, status, _new_password);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>                 } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>                     nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a7e5db9eaa79122fb478670a0c4c0353b">on_enable_write_password</a>(nfc, status, _new_password);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>                 }</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>                 <span class="keywordflow">if</span> (_type == READ_PASSWORD) {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>                     nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ab45ffdf8aa4053fb6c810c187f574f95">on_disable_read_password</a>(nfc, status);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>                 } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>                     nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a9a3dc6881e6ab909d45132f84a1422a8">on_disable_write_password</a>(nfc, status);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>                 }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>             }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>         }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span> </div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>     <span class="keyword">private</span>:</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>         <span class="keyword">const</span> uint8_t *_new_password;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>         PasswordType_t _type;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>         <span class="keywordtype">bool</span> _enable;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>     };</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span> <span class="comment"></span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span> <span class="comment">    /**</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span> <span class="comment">     * @brief This class permits to disable all the password requests to read/write into the tag.</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span> <span class="comment">     */</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>     <span class="keyword">class </span>RemoveAllPasswordCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>     <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span> <span class="comment">        /**</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span> <span class="comment">         * Build the chain of callbacks.</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span> <span class="comment">         */</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>         RemoveAllPasswordCallback()</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>             : _password(NULL) { }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span> </div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>         <span class="comment">/* This class is equivalent to calling the methods:</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span> <span class="comment">         * - verify(i2c)</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span> <span class="comment">         * - disable_permanent_state(Read)</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span> <span class="comment">         * - disable_permanent_state(write)</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span> <span class="comment">         * - disable_verification_requirement(Read)</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span> <span class="comment">         * - disable_verification_requirement(write)</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span> <span class="comment">         * - change_reference_data(Read)</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span> <span class="comment">         * - change_reference_data(write)</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span> <span class="comment">         */</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span> </div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_verified(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t, <span class="keyword">const</span> uint8_t *data)</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>         {</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>                 <span class="keywordflow">return</span> on_finish_command(nfc, status);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>             }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>             _password = <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#abe222f6d3581e7920dcad5306cc906a8">data</a>;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>             nfc-&gt;disable_permanent_state(READ_PASSWORD);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>         }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span> </div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_disable_permanent_state(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type)</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>         {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>                 <span class="keywordflow">return</span> on_finish_command(nfc, status);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>             }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>             <span class="keywordflow">if</span> (type == READ_PASSWORD) {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>                 nfc-&gt;disable_permanent_state(WRITE_PASSWORD);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>                 nfc-&gt;disable_verification_requirement(READ_PASSWORD);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>             }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>         }</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span> </div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_disable_verification_requirement(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type)</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>         {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>                 <span class="keywordflow">return</span> on_finish_command(nfc, status);</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>             }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>             <span class="keywordflow">if</span> (type == READ_PASSWORD) {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>                 nfc-&gt;disable_verification_requirement(WRITE_PASSWORD);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>                 nfc-&gt;change_reference_data(READ_PASSWORD, _password);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>             }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>         }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span> </div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_change_reference_data(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type,</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>                                               <span class="keyword">const</span> uint8_t *data)</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>         {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>                 <span class="keywordflow">return</span> on_finish_command(nfc, status);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>             }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>             <span class="keywordflow">if</span> (type == READ_PASSWORD) {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>                 nfc-&gt;change_reference_data(WRITE_PASSWORD, data);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>                 on_finish_command(nfc, status);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>             }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>         }</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span> </div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>     <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span> <span class="comment">        /**</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span> <span class="comment">         * Remove the private callback and call the onDisableAllPassword callback.</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span> <span class="comment">         * @param nfc Object triggering the command.</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span> <span class="comment">         * @param status Command status.</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span> <span class="comment">         */</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>         <span class="keywordtype">void</span> on_finish_command(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>         {</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>             nfc-&gt;_subcommand_cb = NULL;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>             _password = NULL;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>             nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a887864592c3977255009c656a3489bc0">on_disable_all_password</a>(nfc, status);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>         }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span> </div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>     <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span> <span class="comment">        /**</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span> <span class="comment">         * Store the default password used for open a super user session</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span> <span class="comment">         * it will be set as default read/write password</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span> <span class="comment">         */</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>         <span class="keyword">const</span> uint8_t *_password;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>     };</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span> <span class="comment"></span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span> <span class="comment">    /**</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span> <span class="comment">     * @brief This class permits to set the tag as read/write only.</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span> <span class="comment">     */</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>     <span class="keyword">class </span>ChangeAccessStateCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>     <span class="keyword">public</span>:</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>         <span class="keyword">enum</span> AccessType_t {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>             WRITE,</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>             READ</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>         };</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span> <span class="comment"></span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span> <span class="comment">        /**</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span> <span class="comment">         * Build the chain of callbacks.</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span> <span class="comment">         */</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>         ChangeAccessStateCallback()</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>             : _type(WRITE),</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>               _enable(<span class="keyword">false</span>) { }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span> </div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>         <span class="comment">/* This class is equivalent to calling the methods:</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span> <span class="comment">         * - verify(i2c)</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span> <span class="comment">         * - enable_permanent_state(Read/write)</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span> <span class="comment">         * or:</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span> <span class="comment">         * - verify(i2c)</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span> <span class="comment">         * - disable_permanent_state&lt;/li&gt;</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span> <span class="comment">         * - disable_verification_requirement(Read/write)</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span> <span class="comment">         */</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span> <span class="comment"></span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span> <span class="comment">        /**</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span> <span class="comment">         * Set the access to enable/disable an access type.</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span> <span class="comment">         * @param type Access type.</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span> <span class="comment">         * @param enable True to enable the state, False to disable it.</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span> <span class="comment">         */</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>         <span class="keywordtype">void</span> change_access_state(AccessType_t type, <span class="keywordtype">bool</span> enable)</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>         {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>             _type = type;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>             _enable = enable;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>         }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span> </div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_verified(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t, <span class="keyword">const</span> uint8_t *)</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>         {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>                 <span class="keywordflow">return</span> on_finish_command(nfc, status);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>             }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span> </div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>             <span class="keywordflow">if</span> (_enable) {</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>                 nfc-&gt;disable_permanent_state(_type == WRITE ? WRITE_PASSWORD : READ_PASSWORD);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>                 nfc-&gt;enable_permanent_state(_type == WRITE ? WRITE_PASSWORD : READ_PASSWORD);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>             }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span> </div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>         }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span> </div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_disable_permanent_state(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t type)</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>         {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>                 <span class="keywordflow">return</span> on_finish_command(nfc, status);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>             }</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span> </div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>             nfc-&gt;disable_verification_requirement(type);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>         }</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span> </div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_disable_verification_requirement(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t)</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>         {</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>             on_finish_command(nfc, status);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>         }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span> </div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_enable_permanent_state(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t)</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>         {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>             on_finish_command(nfc, status);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>         }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span> </div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>     <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span> <span class="comment">        /**</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span> <span class="comment">         * Remove the private callback and call the user callback.</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span> <span class="comment">         * @param nfc Object triggering the command.</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span> <span class="comment">         * @param status Command status.</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span> <span class="comment">         */</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>         <span class="keywordtype">void</span> on_finish_command(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>         {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>             nfc-&gt;_subcommand_cb = NULL;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>             <span class="keywordflow">if</span> (_enable) {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>                 <span class="keywordflow">if</span> (_type == READ) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>                     <span class="comment">//enable read = disable write only</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>                     nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#af772c9024645e75b2a74d24c958c091d">on_disable_write_only</a>(nfc, status);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>                 } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>                     <span class="comment">//enable write = disable read only</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>                     nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a74b1f9a4f11d5d68524cc75ce849fd7a">on_disable_read_only</a>(nfc, status);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>                 }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>                 <span class="keywordflow">if</span> (_type == WRITE) {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>                     <span class="comment">//disable write = enable read only</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>                     nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aa9ec0747eaecd0da5c34710a43b9f8a2">on_enable_read_only</a>(nfc, status);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>                 } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>                     nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ac419242ec04e18bf64605b44813dd9b5">on_enable_write_only</a>(nfc, status);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>                 }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>             }</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>         }</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span> </div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>     <span class="keyword">private</span>:</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>         AccessType_t _type;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>         <span class="keywordtype">bool</span> _enable;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>     };</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span> <span class="comment"></span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span> <span class="comment">    /**</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span> <span class="comment">     * @brief Object with the callback used to send a ManageGPO command.</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span> <span class="comment">     */</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>     <span class="keyword">class </span>ManageGPOCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span> </div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>     <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span> <span class="comment">        /**</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span> <span class="comment">         * Build the chain of callbacks.</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span> <span class="comment">         * @param parent Parent component to run the command on.</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span> <span class="comment">         */</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>         ManageGPOCallback()</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>             : _new_gpo_config(HIGH_IMPEDANCE),</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>               _read_gpo_config(0),</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>               _change_i2c_gpo(<span class="keyword">true</span>) { }</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span> </div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>         <span class="comment">/* This class is equivalent to calling the methods:</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span> <span class="comment">         * - selected_application</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span> <span class="comment">         * - select_system_file</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span> <span class="comment">         * - read_binary</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span> <span class="comment">         * - verify</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span> <span class="comment">         * - update_binary</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span> <span class="comment">         */</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span> <span class="comment"></span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span> <span class="comment">        /**</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span> <span class="comment">         * Command parameters.</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span> <span class="comment">         * @param i2cGpo true to change the i2c gpo, false for the rf gpo.</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span> <span class="comment">         * @param new_config new gpo function.</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span> <span class="comment">         */</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>         <span class="keywordtype">void</span> set_new_gpo_config(<span class="keywordtype">bool</span> i2cGpo, NfcGpoState_t new_config)</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>         {</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>             _new_gpo_config = new_config;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>             _change_i2c_gpo = i2cGpo;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>         }</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span> </div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_selected_application(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>         {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>                 nfc-&gt;select_system_file();</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>                 on_finish_command(nfc, status);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>             }</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>         }</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span> </div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_selected_system_file(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>         {</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>                 nfc-&gt;read_binary(0x0004, 0x01, &amp;_read_gpo_config);</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>                 on_finish_command(nfc, status);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>             }</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>         }</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span> </div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_read_byte(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t, uint8_t *, uint16_t)</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>         {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>                 nfc-&gt;verify(I2C_PASSWORD, default_password);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>                 on_finish_command(nfc, status);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>             }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>         }</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span> </div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_verified(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, PasswordType_t, <span class="keyword">const</span> uint8_t *)</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>         {</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>                 <span class="keywordflow">return</span> on_finish_command(nfc, status);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>             }</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span> </div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>             <span class="keywordflow">if</span> (_change_i2c_gpo) {</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>                 _read_gpo_config = (_read_gpo_config &amp; 0xF0) | (uint8_t) _new_gpo_config;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>                 _read_gpo_config = (_read_gpo_config &amp; 0x0F) | (((uint8_t) _new_gpo_config) &lt;&lt; 4);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>             }</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span> </div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>             nfc-&gt;update_binary(0x0004, 0x01, &amp;_read_gpo_config);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>         }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span> </div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_updated_binary(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t, uint8_t *, uint16_t)</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>         {</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span> </div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>                 <span class="keywordflow">if</span> (_new_gpo_config == I2C_ANSWER_READY) {</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>                     nfc-&gt;_communication_type = ASYNC;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>                 } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>                     nfc-&gt;_communication_type = SYNC;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>                 }</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>             }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>             on_finish_command(nfc, status);</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>         }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span> </div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>     <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span> <span class="comment">        /**</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span> <span class="comment">         * Remove the private callback and call the user callback.</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span> <span class="comment">         * @param nfc Object where the command was send to.</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span> <span class="comment">         * @param status Command status.</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span> <span class="comment">         */</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>         <span class="keywordtype">void</span> on_finish_command(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>         {</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>             nfc-&gt;_subcommand_cb = NULL;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>             <span class="keywordflow">if</span> (_change_i2c_gpo) {</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>                 nfc-&gt;_command_cb-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a75fc7ce5f9414dea26d73e182313e35f">on_manage_i2c_gpo</a>(nfc, status, _new_gpo_config);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>                 nfc-&gt;_command_cb-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a8f9043bc0e76c18d7edcf23b9236e650">on_manage_rf_gpo</a>(nfc, status, _new_gpo_config);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>             }</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>         }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span> </div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>     <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span> <span class="comment">        /** new gpo function that this class has to write */</span></div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>         NfcGpoState_t _new_gpo_config;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span> <span class="comment"></span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span> <span class="comment">        /** variable where storeing the read gpo configuration */</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>         uint8_t _read_gpo_config;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span> <span class="comment"></span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span> <span class="comment">        /** true to change the i2c gpo, false to change the rf gpo */</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>         <span class="keywordtype">bool</span> _change_i2c_gpo;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>     };</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span> <span class="comment"></span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span> <span class="comment">    /**</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span> <span class="comment">     * @brief Object with the callback used to read the component ID</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span> <span class="comment">     */</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>     <span class="keyword">class </span>ReadIDCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>     <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span> <span class="comment">        /**</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span> <span class="comment">         * Build the chain of callbacks.</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span> <span class="comment">         * @param parent object where to send the command to.</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span> <span class="comment">         */</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>         ReadIDCallback() : _id(NULL) { }</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span> </div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>         <span class="comment">/* This class is equivalent to calling the methods:</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span> <span class="comment">         * - select_application</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span> <span class="comment">         * - select_system_file</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span> <span class="comment">         * - read_binary</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span> <span class="comment">         */</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span> <span class="comment"></span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span> <span class="comment">        /**</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span> <span class="comment">         * Set the variable containing the result</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span> <span class="comment">         * @param idPtr</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span> <span class="comment">         */</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>         <span class="keywordtype">void</span> set_task(uint8_t *<span class="keywordtype">id</span>)</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>         {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>             _id = id;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>         }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span> </div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_selected_application(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>         {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>                 nfc-&gt;select_system_file();</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>                 on_finish_command(nfc, status);</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>             }</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span> </div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>         }</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span> </div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_selected_system_file(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>         {</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>                 nfc-&gt;read_binary(0x0011, 0x01, _id);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>                 on_finish_command(nfc, status);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>             }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>         }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span> </div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_read_byte(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t, uint8_t *, uint16_t)</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>         {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>             on_finish_command(nfc, status);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>         }</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span> </div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>     <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span> <span class="comment">        /**</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span> <span class="comment">         * Remove the private callback and call the user onReadId function.</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span> <span class="comment">         * @param nfc Object where the command was send.</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span> <span class="comment">         * @param status Command status.</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span> <span class="comment">         */</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>         <span class="keywordtype">void</span> on_finish_command(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>         {</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>             nfc-&gt;_subcommand_cb = NULL;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>             nfc-&gt;get_callback()-&gt;<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a7431778b6fc9dca310e9dbea03b4546f">on_read_id</a>(nfc, status, _id);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>         }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span> </div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>     <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span> <span class="comment">        /** pointer to read id */</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>         uint8_t *_id;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>     };</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span> <span class="comment"></span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span> <span class="comment">    /**</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span> <span class="comment">     * Class containing the callback needed to open a session and read the max</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span> <span class="comment">     * read/write size</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span> <span class="comment">     */</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>     <span class="keyword">class </span>OpenSessionCallBack : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>     <span class="keyword">public</span>:</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>         OpenSessionCallBack()</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>             : _retries(OPEN_SESSION_RETRIES) { }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span> </div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>         <span class="keywordtype">void</span> on_session_open(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>         {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>                 nfc-&gt;select_application();</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a4d92336ca59c8f10c84776495ec7ee41">on_session_started</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>             }</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>         }</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span> </div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>         <span class="keywordtype">void</span> on_selected_application(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>         {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>                 nfc-&gt;select_cc_file();</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>                 <span class="keywordflow">if</span> (_retries == 0) {</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>                     nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a4d92336ca59c8f10c84776495ec7ee41">on_session_started</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>                 } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>                     _retries--;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>                     nfc-&gt;select_application();</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>                 }</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>             }</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>         }</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span> </div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>         <span class="keywordtype">void</span> on_selected_cc_file(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>         {</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>                 nfc-&gt;read_binary(0x0000, CC_FILE_LENGTH, CCFile);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a4d92336ca59c8f10c84776495ec7ee41">on_session_started</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>             }</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>         }</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span> </div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>         <span class="keywordtype">void</span> on_read_byte(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t, uint8_t *bytes_read,</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>                           uint16_t read_count)</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>         {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS || read_count != CC_FILE_LENGTH) {</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a4d92336ca59c8f10c84776495ec7ee41">on_session_started</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>             }</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>             uint16_t ndef_file_id = (uint16_t)((bytes_read[0x09] &lt;&lt; 8) | bytes_read[0x0A]);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>             nfc-&gt;_max_read_bytes = (uint16_t)((bytes_read[0x03] &lt;&lt; 8) | bytes_read[0x04]);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>             nfc-&gt;_max_write_bytes = (uint16_t)((bytes_read[0x05] &lt;&lt; 8) | bytes_read[0x06]);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>             nfc-&gt;select_ndef_file(ndef_file_id);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>         }</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span> </div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>         <span class="keywordtype">void</span> on_selected_ndef_file(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>         {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>             nfc-&gt;_is_session_open = (status == M24SR_SUCCESS);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>             nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a4d92336ca59c8f10c84776495ec7ee41">on_session_started</a>(nfc-&gt;_is_session_open);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>         }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span> </div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>     <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span> <span class="comment">        /** number of trials done for open the session */</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>         uint32_t _retries;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span> <span class="comment"></span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span> <span class="comment">        /** buffer where read the CC file */</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>         uint8_t CCFile[15];</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>     };</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span> <span class="comment"></span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span> <span class="comment">    /**</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span> <span class="comment">     * Class containing the callback needed to close a session</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span> <span class="comment">     */</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>     <span class="keyword">class </span>CloseSessionCallBack : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>     <span class="keyword">public</span>:</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>         CloseSessionCallBack() { }</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span> </div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_deselect(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status)</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>         {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>             <span class="keywordflow">if</span> (status == M24SR_SUCCESS) {</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>                 nfc-&gt;_is_session_open = <span class="keyword">false</span>;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#af8cd78bcdc48fa6b4d9b7049b1e3d5e2">on_session_ended</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>             } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#af8cd78bcdc48fa6b4d9b7049b1e3d5e2">on_session_ended</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>             }</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>         }</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>     };</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span> <span class="comment"></span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span> <span class="comment">    /**</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span> <span class="comment">     * Class containing the callback needed to write a buffer</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span> <span class="comment">     */</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>     <span class="keyword">class </span>WriteByteCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>     <span class="keyword">public</span>:</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>         WriteByteCallback() { }</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span> </div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_updated_binary(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t offset, uint8_t *bytes_written,</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>                                        uint16_t write_count)</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>         {</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a4d138b0d84282098ef6f84f69a4ad6da">on_bytes_written</a>(0);</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>                 <span class="keywordflow">return</span>;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>             }</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span> </div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>             nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a4d138b0d84282098ef6f84f69a4ad6da">on_bytes_written</a>(write_count);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>         }</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>     };</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span> <span class="comment"></span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span> <span class="comment">    /**</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span> <span class="comment">     * Class containing the callback needed to read a buffer</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span> <span class="comment">     */</span></div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>     <span class="keyword">class </span>ReadByteCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>     <span class="keyword">public</span>:</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>         ReadByteCallback() { }</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span> </div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_read_byte(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t offset, uint8_t *bytes_read,</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>                                   uint16_t read_count)</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>         {</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#aec4aa56dba36e288f942e0ac2f438424">on_bytes_read</a>(0);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>                 <span class="keywordflow">return</span>;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>             }</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span> </div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>             nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#aec4aa56dba36e288f942e0ac2f438424">on_bytes_read</a>(read_count);</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>         }</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>     };</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span> </div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>     <span class="keyword">class </span>SetSizeCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>     <span class="keyword">public</span>:</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>         SetSizeCallback() { }</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span> </div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_updated_binary(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t offset, uint8_t *bytes_written,</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>                                        uint16_t write_count)</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>         {</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a1f0b2dfd282f2e3a762678506e45388c">on_size_written</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>                 <span class="keywordflow">return</span>;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>             }</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span> </div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>             nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a1f0b2dfd282f2e3a762678506e45388c">on_size_written</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>         }</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>     };</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span> </div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>     <span class="keyword">class </span>GetSizeCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>     <span class="keyword">public</span>:</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>         GetSizeCallback() { }</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span> </div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_read_byte(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t offset, uint8_t *bytes_read,</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>                                   uint16_t read_count)</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>         {</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a0cb07ce48c06f2294ce0730fea386251">on_size_read</a>(<span class="keyword">false</span>, 0);</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>                 <span class="keywordflow">return</span>;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>             }</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span> </div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>             <span class="comment">/* NDEF file size is BE */</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>             nfc-&gt;_ndef_size = (((uint16_t) nfc-&gt;_ndef_size_buffer[0]) &lt;&lt; 8 | nfc-&gt;_ndef_size_buffer[1]);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span> </div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>             nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a0cb07ce48c06f2294ce0730fea386251">on_size_read</a>(<span class="keyword">true</span>, nfc-&gt;_ndef_size);</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>         }</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>     };</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span> </div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>     <span class="keyword">class </span>EraseBytesCallback : <span class="keyword">public</span> <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>     <span class="keyword">public</span>:</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>         EraseBytesCallback() { }</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span> </div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> on_updated_binary(<a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">M24srDriver</a> *nfc, M24srError_t status, uint16_t offset, uint8_t *bytes_written,</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>                                        uint16_t write_count)</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>         {</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>             <span class="keywordflow">if</span> (status != M24SR_SUCCESS) {</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>                 nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#aca5706e9ba4382966d3d07958fa82c05">on_bytes_erased</a>(0);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>                 <span class="keywordflow">return</span>;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>             }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span> </div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>             nfc-&gt;delegate()-&gt;<a class="code" href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#aca5706e9ba4382966d3d07958fa82c05">on_bytes_erased</a>(write_count);</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>         }</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>     };</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span> </div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span> <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span> <span class="comment">    /** Default password used to change the write/read permission */</span></div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t default_password[16];</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span> </div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>     <a class="code" href="classmbed_1_1_i2_c.html">I2C</a> _i2c_channel;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span> <span class="comment"></span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span> <span class="comment">    /** Interrupt object fired when the gpo status changes */</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>     <a class="code" href="classmbed_1_1_interrupt_in.html">InterruptIn</a> _gpo_event_interrupt;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>     <a class="code" href="classmbed_1_1_digital_in.html">DigitalIn</a> _gpo_pin;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>     <a class="code" href="classmbed_1_1_digital_out.html">DigitalOut</a> _rf_disable_pin;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span> <span class="comment"></span></div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span> <span class="comment">    /** object containing the callbacks to use*/</span></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>     <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> *_command_cb;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span> <span class="comment"></span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span> <span class="comment">    /**</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span> <span class="comment">     * Object with private callbacks used to hide high level commands each</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span> <span class="comment">     * calling multiple low level commands. This callbacks object has</span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span> <span class="comment">     * higher priority comparing to the user callbacks.</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span> <span class="comment">     */</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>     <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> *_subcommand_cb;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span> </div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>     <a class="code" href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">Callbacks</a> _default_cb;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>     ManageGPOCallback _manage_gpo_cb;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>     ReadIDCallback _read_id_cb;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>     ChangePasswordRequestStatusCallback _change_password_request_status_cb;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>     RemoveAllPasswordCallback _remove_password_cb;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>     ChangeAccessStateCallback _change_access_state_cb;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>     OpenSessionCallBack _open_session_cb;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>     CloseSessionCallBack _close_session_cb;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>     WriteByteCallback _write_byte_cb;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>     ReadByteCallback _read_byte_cb;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>     SetSizeCallback _set_size_cb;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>     GetSizeCallback _get_size_cb;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>     EraseBytesCallback _erase_bytes_cb;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span> </div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span> </div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>     uint8_t _buffer[0xFF];</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span> <span class="comment"></span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span> <span class="comment">    /** Type of communication being used (SYNC, ASYNC) */</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>     Communication_t _communication_type;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span> </div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>     Command_t _last_command;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>     <a class="code" href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html">CommandData_t</a> _last_command_data;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span> <span class="comment"></span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span> <span class="comment">    /** Buffer used to build the command to send to the chip. */</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>     uint16_t _ndef_size;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>     uint8_t _ndef_size_buffer[NDEF_FILE_HEADER_SIZE];</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>     uint8_t _max_read_bytes;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>     uint8_t _max_write_bytes;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>     uint8_t _did_byte;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span> </div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>     <span class="keywordtype">bool</span> _is_session_open;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span> };</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span> </div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span> } <span class="comment">//ST</span></div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span> } <span class="comment">//vendor</span></div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span> } <span class="comment">//nfc</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span> } <span class="comment">//mbed</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span> </div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span> <span class="preprocessor">#endif // M24SR_H</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span> </div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span> <span class="comment">/************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/</span></div><div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a9a3dc6881e6ab909d45132f84a1422a8"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a9a3dc6881e6ab909d45132f84a1422a8">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_disable_write_password</a></div><div class="ttdeci">virtual void on_disable_write_password(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when disable_write_password completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00403">m24sr_driver.h:403</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_ad74b576391d9122194a099eef0471dd5"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ad74b576391d9122194a099eef0471dd5">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_selected_system_file</a></div><div class="ttdeci">virtual void on_selected_system_file(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when select_system_file completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00276">m24sr_driver.h:276</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_af772c9024645e75b2a74d24c958c091d"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#af772c9024645e75b2a74d24c958c091d">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_disable_write_only</a></div><div class="ttdeci">virtual void on_disable_write_only(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when disable_write_only completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00438">m24sr_driver.h:438</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u_html"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html">mbed::nfc::vendor::ST::R_APDU</a></div><div class="ttdoc">SC response structure. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00131">m24sr_driver.h:131</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate_html_af8cd78bcdc48fa6b4d9b7049b1e3d5e2"><div class="ttname"><a href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#af8cd78bcdc48fa6b4d9b7049b1e3d5e2">mbed::nfc::NFCEEPROMDriver::Delegate::on_session_ended</a></div><div class="ttdeci">virtual void on_session_ended(bool success)=0</div><div class="ttdoc">Completion of session end operation. </div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html_afb0f671bd02d67d0401f53c77a602b51"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#afb0f671bd02d67d0401f53c77a602b51">mbed::nfc::vendor::ST::M24srDriver::erase_bytes</a></div><div class="ttdeci">virtual void erase_bytes(uint32_t address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00613">m24sr_driver.h:613</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_ac419242ec04e18bf64605b44813dd9b5"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ac419242ec04e18bf64605b44813dd9b5">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_enable_write_only</a></div><div class="ttdeci">virtual void on_enable_write_only(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when enable_write_only completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00424">m24sr_driver.h:424</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate_html_a4d92336ca59c8f10c84776495ec7ee41"><div class="ttname"><a href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a4d92336ca59c8f10c84776495ec7ee41">mbed::nfc::NFCEEPROMDriver::Delegate::on_session_started</a></div><div class="ttdeci">virtual void on_session_started(bool success)=0</div><div class="ttdoc">Completion of session start operation. </div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a4d1419f57a9fb86cc34e5a6e3cd5057b"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a4d1419f57a9fb86cc34e5a6e3cd5057b">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_deselect</a></div><div class="ttdeci">virtual void on_deselect(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when deselect completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00248">m24sr_driver.h:248</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate_html_a1f0b2dfd282f2e3a762678506e45388c"><div class="ttname"><a href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a1f0b2dfd282f2e3a762678506e45388c">mbed::nfc::NFCEEPROMDriver::Delegate::on_size_written</a></div><div class="ttdeci">virtual void on_size_written(bool success)=0</div><div class="ttdoc">Completion of size setting operation. </div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t_html_a74238fbf52a2f54d07bfd762a35b0717"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#a74238fbf52a2f54d07bfd762a35b0717">mbed::nfc::vendor::ST::C_APDU::C_APDUHeader_t::CLA</a></div><div class="ttdeci">uint8_t CLA</div><div class="ttdoc">Command class. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00101">m24sr_driver.h:101</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_ab45ffdf8aa4053fb6c810c187f574f95"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#ab45ffdf8aa4053fb6c810c187f574f95">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_disable_read_password</a></div><div class="ttdeci">virtual void on_disable_read_password(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when disable_read_password completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00396">m24sr_driver.h:396</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a667a4b26dd79a6a938d6b6cfb157e53e"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a667a4b26dd79a6a938d6b6cfb157e53e">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_selected_ndef_file</a></div><div class="ttdeci">virtual void on_selected_ndef_file(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when select_ndef_file completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00269">m24sr_driver.h:269</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html">mbed::nfc::vendor::ST::M24srDriver::Callbacks</a></div><div class="ttdoc">Object that contains all the callbacks fired by this class, each command has its own callback...</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00238">m24sr_driver.h:238</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t_html"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html">mbed::nfc::vendor::ST::C_APDU::C_APDUHeader_t</a></div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00100">m24sr_driver.h:100</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html">mbed::nfc::vendor::ST::M24srDriver</a></div><div class="ttdoc">Class representing a M24SR component. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00232">m24sr_driver.h:232</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_html"><div class="ttname"><a href="classmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver.html">mbed::nfc::NFCEEPROMDriver</a></div><div class="ttdoc">The abstraction for a NFC EEPROM driver. </div><div class="ttdef"><b>Definition:</b> <a href="_n_f_c_e_e_p_r_o_m_driver_8h_source.html#l00037">NFCEEPROMDriver.h:37</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a8739df0b4893581c28af0ef43e2ed73c"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a8739df0b4893581c28af0ef43e2ed73c">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_session_open</a></div><div class="ttdeci">virtual void on_session_open(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when get_session completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00241">m24sr_driver.h:241</a></div></div>
<div class="ttc" id="classmbed_1_1_i2_c_html"><div class="ttname"><a href="classmbed_1_1_i2_c.html">mbed::I2C</a></div><div class="ttdoc">An I2C Master, used for communicating with I2C slave devices. </div><div class="ttdef"><b>Definition:</b> <a href="_i2_c_8h_source.html#l00082">I2C.h:82</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a75fc7ce5f9414dea26d73e182313e35f"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a75fc7ce5f9414dea26d73e182313e35f">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_manage_i2c_gpo</a></div><div class="ttdeci">virtual void on_manage_i2c_gpo(M24srDriver *nfc, M24srError_t status, NfcGpoState_t new_status)</div><div class="ttdoc">called when manage_i2c_gpo completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00314">m24sr_driver.h:314</a></div></div>
<div class="ttc" id="group__platform___callback_html_ga1104a807bfce1d1dc38e4d1eeba6ed17"><div class="ttname"><a href="group__platform___callback.html#ga1104a807bfce1d1dc38e4d1eeba6ed17">mbed::callback</a></div><div class="ttdeci">Callback&lt; R(ArgTs...)&gt; callback(R(*func)(ArgTs...)=nullptr) noexcept</div><div class="ttdoc">Create a callback class with type inferred from the arguments. </div><div class="ttdef"><b>Definition:</b> <a href="_callback_8h_source.html#l00678">Callback.h:678</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t_html"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html">mbed::nfc::vendor::ST::C_APDU::C_APDUBody_t</a></div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00107">m24sr_driver.h:107</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a52ae611c03c11d6ba92284880ab2284e"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a52ae611c03c11d6ba92284880ab2284e">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_updated_binary</a></div><div class="ttdeci">virtual void on_updated_binary(M24srDriver *nfc, M24srError_t status, uint16_t offset, uint8_t *bytes_written, uint16_t write_count)</div><div class="ttdoc">called when update_binary completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00294">m24sr_driver.h:294</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html_a879f5e00c3247fb52d19a93de12584eb"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a879f5e00c3247fb52d19a93de12584eb">mbed::nfc::vendor::ST::M24srDriver::write_size</a></div><div class="ttdeci">virtual void write_size(size_t count)</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00573">m24sr_driver.h:573</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a7e5db9eaa79122fb478670a0c4c0353b"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a7e5db9eaa79122fb478670a0c4c0353b">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_enable_write_password</a></div><div class="ttdeci">virtual void on_enable_write_password(M24srDriver *nfc, M24srError_t status, const uint8_t *new_password)</div><div class="ttdoc">called when oenable_write_password completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00388">m24sr_driver.h:388</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t_html_a1892eba2086d12ac2b09005aeb09ea3b"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#a1892eba2086d12ac2b09005aeb09ea3b">mbed::nfc::vendor::ST::CommandData_t::length</a></div><div class="ttdeci">uint16_t length</div><div class="ttdoc">number of bytes in the data array </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00091">m24sr_driver.h:91</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t_html_a89e93cdfda0a253e4d7ba7948fc4d577"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#a89e93cdfda0a253e4d7ba7948fc4d577">mbed::nfc::vendor::ST::C_APDU::C_APDUHeader_t::P1</a></div><div class="ttdeci">uint8_t P1</div><div class="ttdoc">Selection Mode. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00103">m24sr_driver.h:103</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html_a26bce17288019e6071643429e8cb0c42"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a26bce17288019e6071643429e8cb0c42">mbed::nfc::vendor::ST::M24srDriver::end_session</a></div><div class="ttdeci">virtual void end_session()</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00491">m24sr_driver.h:491</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t_html_aa7a3539ade0d2709c339e1959919c47c"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#aa7a3539ade0d2709c339e1959919c47c">mbed::nfc::vendor::ST::C_APDU::C_APDUHeader_t::INS</a></div><div class="ttdeci">uint8_t INS</div><div class="ttdoc">Operation code. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00102">m24sr_driver.h:102</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t_html_afdff3a65547e9d0c703691952efffad5"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html#afdff3a65547e9d0c703691952efffad5">mbed::nfc::vendor::ST::C_APDU::C_APDUBody_t::LC</a></div><div class="ttdeci">uint8_t LC</div><div class="ttdoc">Data field length. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00108">m24sr_driver.h:108</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u_html_a3c3121d737548b6911a02b122b18b004"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html#a3c3121d737548b6911a02b122b18b004">mbed::nfc::vendor::ST::R_APDU::SW1</a></div><div class="ttdeci">uint8_t SW1</div><div class="ttdoc">Command Processing status. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00133">m24sr_driver.h:133</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a5c99687492bd7af29c93e5ec260956cf"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a5c99687492bd7af29c93e5ec260956cf">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_selected_cc_file</a></div><div class="ttdeci">virtual void on_selected_cc_file(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when select_cc_file completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00262">m24sr_driver.h:262</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html_a0594fba597591b13818473aa917f0122"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a0594fba597591b13818473aa917f0122">mbed::nfc::vendor::ST::M24srDriver::read_max_size</a></div><div class="ttdeci">virtual size_t read_max_size()</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00470">m24sr_driver.h:470</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate_html_a4d138b0d84282098ef6f84f69a4ad6da"><div class="ttname"><a href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a4d138b0d84282098ef6f84f69a4ad6da">mbed::nfc::NFCEEPROMDriver::Delegate::on_bytes_written</a></div><div class="ttdeci">virtual void on_bytes_written(size_t count)=0</div><div class="ttdoc">Completion of write operation. </div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_aee751211ec0c9ecd254aae55223d4d77"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aee751211ec0c9ecd254aae55223d4d77">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_verified</a></div><div class="ttdeci">virtual void on_verified(M24srDriver *nfc, M24srError_t status, PasswordType_t password_type, const uint8_t *pwd)</div><div class="ttdoc">called when verify completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00305">m24sr_driver.h:305</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a9cff214e7cb66782502e7316f75f5cd3"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a9cff214e7cb66782502e7316f75f5cd3">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_enable_read_password</a></div><div class="ttdeci">virtual void on_enable_read_password(M24srDriver *nfc, M24srError_t status, const uint8_t *new_password)</div><div class="ttdoc">called when enable_read_password completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00380">m24sr_driver.h:380</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t_html_a579f5164b5b16e18ddcdb0296ef81799"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html#a579f5164b5b16e18ddcdb0296ef81799">mbed::nfc::vendor::ST::C_APDU::C_APDUBody_t::data</a></div><div class="ttdeci">const uint8_t * data</div><div class="ttdoc">Command parameters. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00109">m24sr_driver.h:109</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t_html_abe222f6d3581e7920dcad5306cc906a8"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#abe222f6d3581e7920dcad5306cc906a8">mbed::nfc::vendor::ST::CommandData_t::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdoc">data </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00090">m24sr_driver.h:90</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a8f9043bc0e76c18d7edcf23b9236e650"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a8f9043bc0e76c18d7edcf23b9236e650">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_manage_rf_gpo</a></div><div class="ttdeci">virtual void on_manage_rf_gpo(M24srDriver *nfc, M24srError_t status, NfcGpoState_t new_status)</div><div class="ttdoc">called when manage_rf_gpo completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00322">m24sr_driver.h:322</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u_html_ac21fbfca7fe2c83d47ec82a5f510288e"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html#ac21fbfca7fe2c83d47ec82a5f510288e">mbed::nfc::vendor::ST::R_APDU::SW2</a></div><div class="ttdeci">uint8_t SW2</div><div class="ttdoc">Command Processing qualification. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00134">m24sr_driver.h:134</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html_a2784aaed220a6d36515ee3f801152d1b"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a2784aaed220a6d36515ee3f801152d1b">mbed::nfc::vendor::ST::M24srDriver::write_bytes</a></div><div class="ttdeci">virtual void write_bytes(uint32_t address, const uint8_t *bytes, size_t count)</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00534">m24sr_driver.h:534</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_aa0336fdfbcee7f199ca97f917f24cac2"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aa0336fdfbcee7f199ca97f917f24cac2">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_disable_permanent_state</a></div><div class="ttdeci">virtual void on_disable_permanent_state(M24srDriver *nfc, M24srError_t status, PasswordType_t type)</div><div class="ttdoc">called when disable_permanent_state completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00364">m24sr_driver.h:364</a></div></div>
<div class="ttc" id="classmbed_1_1_interrupt_in_html"><div class="ttname"><a href="classmbed_1_1_interrupt_in.html">mbed::InterruptIn</a></div><div class="ttdoc">A digital interrupt input, used to call a function on a rising or falling edge. </div><div class="ttdef"><b>Definition:</b> <a href="_interrupt_in_8h_source.html#l00065">InterruptIn.h:65</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_aa9ec0747eaecd0da5c34710a43b9f8a2"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#aa9ec0747eaecd0da5c34710a43b9f8a2">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_enable_read_only</a></div><div class="ttdeci">virtual void on_enable_read_only(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when enable_read_only completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00417">m24sr_driver.h:417</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a229d22813e43181e5fe2b31d2d22d2d8"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a229d22813e43181e5fe2b31d2d22d2d8">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_selected_application</a></div><div class="ttdeci">virtual void on_selected_application(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when select_application completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00255">m24sr_driver.h:255</a></div></div>
<div class="ttc" id="classmbed_1_1_digital_out_html"><div class="ttname"><a href="classmbed_1_1_digital_out.html">mbed::DigitalOut</a></div><div class="ttdoc">A digital output, used for setting the state of a pin. </div><div class="ttdef"><b>Definition:</b> <a href="_digital_out_8h_source.html#l00051">DigitalOut.h:51</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_abb6d3b31c5d19a41e54b73656cf870c9"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#abb6d3b31c5d19a41e54b73656cf870c9">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_read_byte</a></div><div class="ttdeci">virtual void on_read_byte(M24srDriver *nfc, M24srError_t status, uint16_t offset, uint8_t *bytes_read, uint16_t read_count)</div><div class="ttdoc">called when read_binary completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00283">m24sr_driver.h:283</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a3edeed68f691d572dbd11950ab5a10d8"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a3edeed68f691d572dbd11950ab5a10d8">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_disable_verification_requirement</a></div><div class="ttdeci">virtual void on_disable_verification_requirement(M24srDriver *nfc, M24srError_t status, PasswordType_t type)</div><div class="ttdoc">called when disable_verification_requirement completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00348">m24sr_driver.h:348</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t_html_ac681806181c80437cfab37335f62ff39"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html#ac681806181c80437cfab37335f62ff39">mbed::nfc::vendor::ST::CommandData_t::offset</a></div><div class="ttdeci">uint16_t offset</div><div class="ttdoc">offset parameter used in the read/write command </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00092">m24sr_driver.h:92</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a7431778b6fc9dca310e9dbea03b4546f"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a7431778b6fc9dca310e9dbea03b4546f">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_read_id</a></div><div class="ttdeci">virtual void on_read_id(M24srDriver *nfc, M24srError_t status, uint8_t *id)</div><div class="ttdoc">called when read_id completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00372">m24sr_driver.h:372</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a06756eb5fe32bf0cc0979aa7c22c0208"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a06756eb5fe32bf0cc0979aa7c22c0208">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_change_reference_data</a></div><div class="ttdeci">virtual void on_change_reference_data(M24srDriver *nfc, M24srError_t status, PasswordType_t type, const uint8_t *data)</div><div class="ttdoc">called when change_reference_data completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00330">m24sr_driver.h:330</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_af7edfd15cd1504d960f981dff07a9b0c"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#af7edfd15cd1504d960f981dff07a9b0c">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_enable_verification_requirement</a></div><div class="ttdeci">virtual void on_enable_verification_requirement(M24srDriver *nfc, M24srError_t status, PasswordType_t type)</div><div class="ttdoc">called when enable_verification_requirement completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00340">m24sr_driver.h:340</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t_html_ae927cd0ad523607889b8481386345fea"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_header__t.html#ae927cd0ad523607889b8481386345fea">mbed::nfc::vendor::ST::C_APDU::C_APDUHeader_t::P2</a></div><div class="ttdeci">uint8_t P2</div><div class="ttdoc">Selection Option. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00104">m24sr_driver.h:104</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate_html_aca5706e9ba4382966d3d07958fa82c05"><div class="ttname"><a href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#aca5706e9ba4382966d3d07958fa82c05">mbed::nfc::NFCEEPROMDriver::Delegate::on_bytes_erased</a></div><div class="ttdeci">virtual void on_bytes_erased(size_t count)=0</div><div class="ttdoc">Completion of erasing operation. </div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u_html_abe222f6d3581e7920dcad5306cc906a8"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_r___a_p_d_u.html#abe222f6d3581e7920dcad5306cc906a8">mbed::nfc::vendor::ST::R_APDU::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdoc">Data returned from the card. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00132">m24sr_driver.h:132</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_html"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u.html">mbed::nfc::vendor::ST::C_APDU</a></div><div class="ttdoc">APDU Command structure. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00098">m24sr_driver.h:98</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate_html_aec4aa56dba36e288f942e0ac2f438424"><div class="ttname"><a href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#aec4aa56dba36e288f942e0ac2f438424">mbed::nfc::NFCEEPROMDriver::Delegate::on_bytes_read</a></div><div class="ttdeci">virtual void on_bytes_read(size_t count)=0</div><div class="ttdoc">Completion of read operation. </div></div>
<div class="ttc" id="classmbed_1_1_digital_in_html"><div class="ttname"><a href="classmbed_1_1_digital_in.html">mbed::DigitalIn</a></div><div class="ttdoc">A digital input, used for reading the state of a pin. </div><div class="ttdef"><b>Definition:</b> <a href="_digital_in_8h_source.html#l00056">DigitalIn.h:56</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html_a0ef0a890e1c6ef32389cd7afd5f8bb59"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a0ef0a890e1c6ef32389cd7afd5f8bb59">mbed::nfc::vendor::ST::M24srDriver::start_session</a></div><div class="ttdeci">virtual void start_session(bool force=true)</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00477">m24sr_driver.h:477</a></div></div>
<div class="ttc" id="namespacembed_html"><div class="ttname"><a href="namespacembed.html">mbed</a></div><div class="ttdef"><b>Definition:</b> <a href="_a_t_handler_8h_source.html#l00046">ATHandler.h:46</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate_html_a0cb07ce48c06f2294ce0730fea386251"><div class="ttname"><a href="structmbed_1_1nfc_1_1_n_f_c_e_e_p_r_o_m_driver_1_1_delegate.html#a0cb07ce48c06f2294ce0730fea386251">mbed::nfc::NFCEEPROMDriver::Delegate::on_size_read</a></div><div class="ttdeci">virtual void on_size_read(bool success, size_t size)=0</div><div class="ttdoc">Completion of size retrieval operation. </div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a887864592c3977255009c656a3489bc0"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a887864592c3977255009c656a3489bc0">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_disable_all_password</a></div><div class="ttdeci">virtual void on_disable_all_password(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when disable_all_password completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00410">m24sr_driver.h:410</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html_a902428b15b428719cbc71dea2e4b616c"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a902428b15b428719cbc71dea2e4b616c">mbed::nfc::vendor::ST::M24srDriver::read_bytes</a></div><div class="ttdeci">virtual void read_bytes(uint32_t address, uint8_t *bytes, size_t count)</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00499">m24sr_driver.h:499</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html_a7d339270ed2ffb56fb58514a02a32767"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a7d339270ed2ffb56fb58514a02a32767">mbed::nfc::vendor::ST::M24srDriver::read_size</a></div><div class="ttdeci">virtual void read_size()</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00599">m24sr_driver.h:599</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a74b1f9a4f11d5d68524cc75ce849fd7a"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a74b1f9a4f11d5d68524cc75ce849fd7a">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_disable_read_only</a></div><div class="ttdeci">virtual void on_disable_read_only(M24srDriver *nfc, M24srError_t status)</div><div class="ttdoc">called when disable_read_only completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00431">m24sr_driver.h:431</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks_html_a28c7fa04fc4562940decdac95768ff11"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_1_1_callbacks.html#a28c7fa04fc4562940decdac95768ff11">mbed::nfc::vendor::ST::M24srDriver::Callbacks::on_enable_permanent_state</a></div><div class="ttdeci">virtual void on_enable_permanent_state(M24srDriver *nfc, M24srError_t status, PasswordType_t type)</div><div class="ttdoc">called when enable_permanent_state completes </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00356">m24sr_driver.h:356</a></div></div>
<div class="ttc" id="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver_html_a7b0e029102ad38f4b814c6523aedb53d"><div class="ttname"><a href="classmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_m24sr_driver.html#a7b0e029102ad38f4b814c6523aedb53d">mbed::nfc::vendor::ST::M24srDriver::reset</a></div><div class="ttdeci">virtual void reset()</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00461">m24sr_driver.h:461</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t_html"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_command_data__t.html">mbed::nfc::vendor::ST::CommandData_t</a></div><div class="ttdoc">User parameter used to invoke a command, it is used to provide the data back with the response...</div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00089">m24sr_driver.h:89</a></div></div>
<div class="ttc" id="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t_html_a8d512f47c0883fe6ac0110f99ecd5314"><div class="ttname"><a href="structmbed_1_1nfc_1_1vendor_1_1_s_t_1_1_c___a_p_d_u_1_1_c___a_p_d_u_body__t.html#a8d512f47c0883fe6ac0110f99ecd5314">mbed::nfc::vendor::ST::C_APDU::C_APDUBody_t::LE</a></div><div class="ttdeci">uint8_t LE</div><div class="ttdoc">Expected length of data to be returned. </div><div class="ttdef"><b>Definition:</b> <a href="m24sr__driver_8h_source.html#l00110">m24sr_driver.h:110</a></div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/m24sr__driver_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:25:01 GMT -->
</html>
