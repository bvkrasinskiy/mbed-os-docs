<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/ppp_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:26:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | ppp.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="ppp_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/ppp_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/ppp_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_9a297b342377d9e739c11e99c248e04e.html">libraries</a></li><li class="navelem"><a class="el" href="dir_08c051ae911974a00cba15b74c57b2f5.html">ppp</a></li><li class="navelem"><a class="el" href="dir_8e062c63d9a2770ff5d511014bd8bffe.html">include</a></li><li class="navelem"><a class="el" href="dir_03359a034db8067afa1f5ae31ba5ec61.html">ppp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ppp.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment">* /@code</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment">*</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment">* ppp.h - Network Point to Point Protocol header file.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> <span class="comment">*</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> <span class="comment">* Copyright (c) 2003 by Marc Boucher, Services Informatiques (MBSI) inc.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment">* portions Copyright (c) 1997 Global Election Systems Inc.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment">*</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment">* The authors hereby grant permission to use, copy, modify, distribute,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment">* and license this software and its documentation for any purpose, provided</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment">* that existing copyright notices are retained in all copies and that this</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment">* notice and the following disclaimer are included verbatim in any </span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment">* distributions. No written agreement, license, or royalty fee is required</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment">* for any of the authorized uses.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment">*</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE CONTRIBUTORS *AS IS* AND ANY EXPRESS OR</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> <span class="comment">* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> <span class="comment">* OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. </span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> <span class="comment">* IN NO EVENT SHALL THE CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> <span class="comment">* INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> <span class="comment">* NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="comment">* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> <span class="comment">* THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="comment">* (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> <span class="comment">* THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> <span class="comment">*</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> <span class="comment">******************************************************************************</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> <span class="comment">* REVISION HISTORY</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> <span class="comment">*</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="comment">* 03-01-01 Marc Boucher &lt;marc@mbsi.ca&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> <span class="comment">*   Ported to lwIP.</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="comment">* 97-11-05 Guy Lancaster &lt;glanca@gesn.com&gt;, Global Election Systems Inc.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> <span class="comment">*   Original derived from BSD codes.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="comment">*</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> <span class="comment">* /@endcode</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> <span class="comment">*****************************************************************************/</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> </div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="preprocessor">#include "ppp_opts.h"</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> <span class="preprocessor">#if PPP_SUPPORT </span><span class="comment">/* don't build if not configured for use in ppp_opts.h */</span><span class="preprocessor"></span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span> </div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> <span class="preprocessor">#ifndef PPP_H</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> <span class="preprocessor">#define PPP_H</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span> </div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span> </div><div class="line"><a name="l00048"></a><span class="lineno">   48</span> <span class="comment">/* Disable non-working or rarely used PPP feature, so rarely that we don't want to bloat ppp_opts.h with them */</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span> <span class="preprocessor">#ifndef PPP_OPTIONS</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span> <span class="preprocessor">#define PPP_OPTIONS         0</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span> </div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> <span class="preprocessor">#ifndef PPP_NOTIFY</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> <span class="preprocessor">#define PPP_NOTIFY          0</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span> </div><div class="line"><a name="l00057"></a><span class="lineno">   57</span> <span class="preprocessor">#ifndef PPP_REMOTENAME</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span> <span class="preprocessor">#define PPP_REMOTENAME      0</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span> </div><div class="line"><a name="l00061"></a><span class="lineno">   61</span> <span class="preprocessor">#ifndef PPP_IDLETIMELIMIT</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span> <span class="preprocessor">#define PPP_IDLETIMELIMIT   0</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span> </div><div class="line"><a name="l00065"></a><span class="lineno">   65</span> <span class="preprocessor">#ifndef PPP_LCP_ADAPTIVE</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span> <span class="preprocessor">#define PPP_LCP_ADAPTIVE    0</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span> </div><div class="line"><a name="l00069"></a><span class="lineno">   69</span> <span class="preprocessor">#ifndef PPP_MAXCONNECT</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span> <span class="preprocessor">#define PPP_MAXCONNECT      0</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span> </div><div class="line"><a name="l00073"></a><span class="lineno">   73</span> <span class="preprocessor">#ifndef PPP_ALLOWED_ADDRS</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span> <span class="preprocessor">#define PPP_ALLOWED_ADDRS   0</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span> </div><div class="line"><a name="l00077"></a><span class="lineno">   77</span> <span class="preprocessor">#ifndef PPP_PROTOCOLNAME</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span> <span class="preprocessor">#define PPP_PROTOCOLNAME    0</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span> </div><div class="line"><a name="l00081"></a><span class="lineno">   81</span> <span class="preprocessor">#ifndef PPP_STATS_SUPPORT</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span> <span class="preprocessor">#define PPP_STATS_SUPPORT   0</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span> </div><div class="line"><a name="l00085"></a><span class="lineno">   85</span> <span class="preprocessor">#ifndef DEFLATE_SUPPORT</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span> <span class="preprocessor">#define DEFLATE_SUPPORT     0</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span> </div><div class="line"><a name="l00089"></a><span class="lineno">   89</span> <span class="preprocessor">#ifndef BSDCOMPRESS_SUPPORT</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span> <span class="preprocessor">#define BSDCOMPRESS_SUPPORT 0</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span> </div><div class="line"><a name="l00093"></a><span class="lineno">   93</span> <span class="preprocessor">#ifndef PREDICTOR_SUPPORT</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span> <span class="preprocessor">#define PREDICTOR_SUPPORT   0</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span> </div><div class="line"><a name="l00097"></a><span class="lineno">   97</span> <span class="comment">/*************************</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span> <span class="comment">*** PUBLIC DEFINITIONS ***</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span> <span class="comment">*************************/</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span> </div><div class="line"><a name="l00101"></a><span class="lineno">  101</span> <span class="comment">/*</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span> <span class="comment"> * The basic PPP frame.</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span> <span class="comment"> */</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span> <span class="preprocessor">#define PPP_HDRLEN  4   </span><span class="comment">/* octets for standard ppp header */</span><span class="preprocessor"></span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span> <span class="preprocessor">#define PPP_FCSLEN  2   </span><span class="comment">/* octets for FCS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span> </div><div class="line"><a name="l00107"></a><span class="lineno">  107</span> <span class="comment">/*</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span> <span class="comment"> * Values for phase.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span> <span class="comment"> */</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span> <span class="preprocessor">#define PPP_PHASE_DEAD          0</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span> <span class="preprocessor">#define PPP_PHASE_MASTER        1</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span> <span class="preprocessor">#define PPP_PHASE_HOLDOFF       2</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span> <span class="preprocessor">#define PPP_PHASE_INITIALIZE    3</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span> <span class="preprocessor">#define PPP_PHASE_SERIALCONN    4</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span> <span class="preprocessor">#define PPP_PHASE_DORMANT       5</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span> <span class="preprocessor">#define PPP_PHASE_ESTABLISH     6</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span> <span class="preprocessor">#define PPP_PHASE_AUTHENTICATE  7</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span> <span class="preprocessor">#define PPP_PHASE_CALLBACK      8</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span> <span class="preprocessor">#define PPP_PHASE_NETWORK       9</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span> <span class="preprocessor">#define PPP_PHASE_RUNNING       10</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span> <span class="preprocessor">#define PPP_PHASE_TERMINATE     11</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span> <span class="preprocessor">#define PPP_PHASE_DISCONNECT    12</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span> </div><div class="line"><a name="l00124"></a><span class="lineno">  124</span> <span class="comment">/* Error codes. */</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span> <span class="preprocessor">#define PPPERR_NONE         0  </span><span class="comment">/* No error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span> <span class="preprocessor">#define PPPERR_PARAM        1  </span><span class="comment">/* Invalid parameter. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span> <span class="preprocessor">#define PPPERR_OPEN         2  </span><span class="comment">/* Unable to open PPP session. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span> <span class="preprocessor">#define PPPERR_DEVICE       3  </span><span class="comment">/* Invalid I/O device for PPP. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span> <span class="preprocessor">#define PPPERR_ALLOC        4  </span><span class="comment">/* Unable to allocate resources. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span> <span class="preprocessor">#define PPPERR_USER         5  </span><span class="comment">/* User interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span> <span class="preprocessor">#define PPPERR_CONNECT      6  </span><span class="comment">/* Connection lost. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span> <span class="preprocessor">#define PPPERR_AUTHFAIL     7  </span><span class="comment">/* Failed authentication challenge. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span> <span class="preprocessor">#define PPPERR_PROTOCOL     8  </span><span class="comment">/* Failed to meet protocol. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span> <span class="preprocessor">#define PPPERR_PEERDEAD     9  </span><span class="comment">/* Connection timeout */</span><span class="preprocessor"></span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span> <span class="preprocessor">#define PPPERR_IDLETIMEOUT  10 </span><span class="comment">/* Idle Timeout */</span><span class="preprocessor"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span> <span class="preprocessor">#define PPPERR_CONNECTTIME  11 </span><span class="comment">/* Max connect time reached */</span><span class="preprocessor"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span> <span class="preprocessor">#define PPPERR_LOOPBACK     12 </span><span class="comment">/* Loopback detected */</span><span class="preprocessor"></span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span> </div><div class="line"><a name="l00139"></a><span class="lineno">  139</span> <span class="comment">/* Whether auth support is enabled at all */</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span> <span class="preprocessor">#define PPP_AUTH_SUPPORT (PAP_SUPPORT || CHAP_SUPPORT || EAP_SUPPORT)</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span> </div><div class="line"><a name="l00142"></a><span class="lineno">  142</span> <span class="comment">/************************</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span> <span class="comment">*** PUBLIC DATA TYPES ***</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span> <span class="comment">************************/</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span> </div><div class="line"><a name="l00146"></a><span class="lineno">  146</span> <span class="comment">/*</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span> <span class="comment"> * Other headers require ppp_pcb definition for prototypes, but ppp_pcb</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span> <span class="comment"> * require some structure definition from other headers as well, we are</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span> <span class="comment"> * fixing the dependency loop here by declaring the ppp_pcb type then</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span> <span class="comment"> * by including headers containing necessary struct definition for ppp_pcb</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span> <span class="comment"> */</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span> <span class="keyword">typedef</span> <span class="keyword">struct </span>ppp_pcb_s ppp_pcb;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span> </div><div class="line"><a name="l00154"></a><span class="lineno">  154</span> <span class="comment">/* Type definitions for BSD code. */</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span> <span class="preprocessor">#ifndef __u_char_defined</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  u_long;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>   u_int;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> u_short;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  u_char;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span> </div><div class="line"><a name="l00162"></a><span class="lineno">  162</span> <span class="preprocessor">#include "fsm.h"</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span> <span class="preprocessor">#include "lcp.h"</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span> <span class="preprocessor">#if CCP_SUPPORT</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span> <span class="preprocessor">#include "ccp.h"</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span> <span class="preprocessor">#endif </span><span class="comment">/* CCP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span> <span class="preprocessor">#if MPPE_SUPPORT</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span> <span class="preprocessor">#include "mppe.h"</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span> <span class="preprocessor">#endif </span><span class="comment">/* MPPE_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span> <span class="preprocessor">#if PPP_IPV4_SUPPORT</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span> <span class="preprocessor">#include "ipcp.h"</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IPV4_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span> <span class="preprocessor">#if PPP_IPV6_SUPPORT</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span> <span class="preprocessor">#include "ipv6cp.h"</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IPV6_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span> <span class="preprocessor">#if PAP_SUPPORT</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span> <span class="preprocessor">#include "upap.h"</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span> <span class="preprocessor">#endif </span><span class="comment">/* PAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span> <span class="preprocessor">#if CHAP_SUPPORT</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span> <span class="preprocessor">#include "chap-new.h"</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span> <span class="preprocessor">#endif </span><span class="comment">/* CHAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span> <span class="preprocessor">#if EAP_SUPPORT</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span> <span class="preprocessor">#include "eap.h"</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span> <span class="preprocessor">#endif </span><span class="comment">/* EAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span> <span class="preprocessor">#if VJ_SUPPORT</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span> <span class="preprocessor">#include "vj.h"</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span> <span class="preprocessor">#endif </span><span class="comment">/* VJ_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span> </div><div class="line"><a name="l00189"></a><span class="lineno">  189</span> <span class="comment">/* Link status callback function prototype */</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> <span class="keyword">typedef</span> void (*ppp_link_status_cb_fn)(ppp_pcb *pcb, <span class="keywordtype">int</span> err_code, <span class="keywordtype">void</span> *ctx);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span> </div><div class="line"><a name="l00192"></a><span class="lineno">  192</span> <span class="comment">/*</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span> <span class="comment"> * PPP configuration.</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span> <span class="comment"> */</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span> <span class="keyword">typedef</span> <span class="keyword">struct </span>ppp_settings_s {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span> </div><div class="line"><a name="l00197"></a><span class="lineno">  197</span> <span class="preprocessor">#if PPP_SERVER &amp;&amp; PPP_AUTH_SUPPORT</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  auth_required       :1;      <span class="comment">/* Peer is required to authenticate */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  null_login          :1;      <span class="comment">/* Username of "" and a password of "" are acceptable */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_SERVER &amp;&amp; PPP_AUTH_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span> <span class="preprocessor">#if PPP_REMOTENAME</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  explicit_remote     :1;      <span class="comment">/* remote_name specified with remotename opt */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_REMOTENAME */</span><span class="preprocessor"></span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span> <span class="preprocessor">#if PAP_SUPPORT</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  refuse_pap          :1;      <span class="comment">/* Don't proceed auth. with PAP */</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span> <span class="preprocessor">#endif </span><span class="comment">/* PAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span> <span class="preprocessor">#if CHAP_SUPPORT</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  refuse_chap         :1;      <span class="comment">/* Don't proceed auth. with CHAP */</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span> <span class="preprocessor">#endif </span><span class="comment">/* CHAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span> <span class="preprocessor">#if MSCHAP_SUPPORT</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  refuse_mschap       :1;      <span class="comment">/* Don't proceed auth. with MS-CHAP */</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  refuse_mschap_v2    :1;      <span class="comment">/* Don't proceed auth. with MS-CHAPv2 */</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span> <span class="preprocessor">#endif </span><span class="comment">/* MSCHAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span> <span class="preprocessor">#if EAP_SUPPORT</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  refuse_eap          :1;      <span class="comment">/* Don't proceed auth. with EAP */</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span> <span class="preprocessor">#endif </span><span class="comment">/* EAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span> <span class="preprocessor">#if PPP_DNS</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  usepeerdns          :1;      <span class="comment">/* Ask peer for DNS adds */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_DNS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  persist             :1;      <span class="comment">/* Persist mode, always try to open the connection */</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span> <span class="preprocessor">#if PRINTPKT_SUPPORT</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  hide_password       :1;      <span class="comment">/* Hide password in dumped packets */</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span> <span class="preprocessor">#endif </span><span class="comment">/* PRINTPKT_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  noremoteip          :1;      <span class="comment">/* Let him have no IP address */</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  lax_recv            :1;      <span class="comment">/* accept control chars in asyncmap */</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  noendpoint          :1;      <span class="comment">/* don't send/accept endpoint discriminator */</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span> <span class="preprocessor">#if PPP_LCP_ADAPTIVE</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lcp_echo_adaptive    :1;      <span class="comment">/* request echo only if the link was idle */</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_LCP_ADAPTIVE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span> <span class="preprocessor">#if MPPE_SUPPORT</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> require_mppe         :1;      <span class="comment">/* Require MPPE (Microsoft Point to Point Encryption) */</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> refuse_mppe_40       :1;      <span class="comment">/* Allow MPPE 40-bit mode? */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> refuse_mppe_128      :1;      <span class="comment">/* Allow MPPE 128-bit mode? */</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> refuse_mppe_stateful :1;      <span class="comment">/* Allow MPPE stateful mode? */</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span> <span class="preprocessor">#endif </span><span class="comment">/* MPPE_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span> </div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>   u16_t  listen_time;                 <span class="comment">/* time to listen first (ms), waiting for peer to send LCP packet */</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span> </div><div class="line"><a name="l00239"></a><span class="lineno">  239</span> <span class="preprocessor">#if PPP_IDLETIMELIMIT</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>   u16_t  idle_time_limit;             <span class="comment">/* Disconnect if idle for this many seconds */</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IDLETIMELIMIT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span> <span class="preprocessor">#if PPP_MAXCONNECT</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>   u32_t  maxconnect;                  <span class="comment">/* Maximum connect time (seconds) */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_MAXCONNECT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span> </div><div class="line"><a name="l00246"></a><span class="lineno">  246</span> <span class="preprocessor">#if PPP_AUTH_SUPPORT</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>   <span class="comment">/* auth data */</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>   <span class="keyword">const</span> <span class="keywordtype">char</span>  *user;                   <span class="comment">/* Username for PAP */</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>   <span class="keyword">const</span> <span class="keywordtype">char</span>  *passwd;                 <span class="comment">/* Password for PAP, secret for CHAP */</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span> <span class="preprocessor">#if PPP_REMOTENAME</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>   <span class="keywordtype">char</span>  remote_name[MAXNAMELEN   + 1]; <span class="comment">/* Peer's name for authentication */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_REMOTENAME */</span><span class="preprocessor"></span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span> </div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="preprocessor">#if PAP_SUPPORT</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>   u8_t  pap_timeout_time;        <span class="comment">/* Timeout (seconds) for auth-req retrans. */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>   u8_t  pap_max_transmits;       <span class="comment">/* Number of auth-reqs sent */</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span> <span class="preprocessor">#if PPP_SERVER</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>   u8_t  pap_req_timeout;         <span class="comment">/* Time to wait for auth-req from peer */</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_SERVER */</span><span class="preprocessor"></span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="preprocessor">#endif </span><span class="comment">/* PAP_SUPPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span> </div><div class="line"><a name="l00262"></a><span class="lineno">  262</span> <span class="preprocessor">#if CHAP_SUPPORT</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>   u8_t  chap_timeout_time;       <span class="comment">/* Timeout (seconds) for retransmitting req */</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>   u8_t  chap_max_transmits;      <span class="comment">/* max # times to send challenge */</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span> <span class="preprocessor">#if PPP_SERVER</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>   u8_t  chap_rechallenge_time;   <span class="comment">/* Time to wait for auth-req from peer */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_SERVER */</span><span class="preprocessor"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span> <span class="preprocessor">#endif </span><span class="comment">/* CHAP_SUPPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span> </div><div class="line"><a name="l00270"></a><span class="lineno">  270</span> <span class="preprocessor">#if EAP_SUPPORT</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>   u8_t  eap_req_time;            <span class="comment">/* Time to wait (for retransmit/fail) */</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>   u8_t  eap_allow_req;           <span class="comment">/* Max Requests allowed */</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span> <span class="preprocessor">#if PPP_SERVER</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>   u8_t  eap_timeout_time;        <span class="comment">/* Time to wait (for retransmit/fail) */</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>   u8_t  eap_max_transmits;       <span class="comment">/* Max Requests allowed */</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_SERVER */</span><span class="preprocessor"></span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span> <span class="preprocessor">#endif </span><span class="comment">/* EAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span> </div><div class="line"><a name="l00279"></a><span class="lineno">  279</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_AUTH_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span> </div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>   u8_t  fsm_timeout_time;            <span class="comment">/* Timeout time in seconds */</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>   u8_t  fsm_max_conf_req_transmits;  <span class="comment">/* Maximum Configure-Request transmissions */</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>   u8_t  fsm_max_term_transmits;      <span class="comment">/* Maximum Terminate-Request transmissions */</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>   u8_t  fsm_max_nak_loops;           <span class="comment">/* Maximum number of nak loops tolerated */</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span> </div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>   u8_t  lcp_loopbackfail;     <span class="comment">/* Number of times we receive our magic number from the peer</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span> <span class="comment">                                 before deciding the link is looped-back. */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>   u8_t  lcp_echo_interval;    <span class="comment">/* Interval between LCP echo-requests */</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>   u8_t  lcp_echo_fails;       <span class="comment">/* Tolerance to unanswered echo-requests */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span> </div><div class="line"><a name="l00291"></a><span class="lineno">  291</span> } ppp_settings;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span> </div><div class="line"><a name="l00293"></a><span class="lineno">  293</span> <span class="preprocessor">#if PPP_SERVER</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span> <span class="keyword">struct </span>ppp_addrs {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span> <span class="preprocessor">#if PPP_IPV4_SUPPORT</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>   <a class="code" href="structnsapi__addr.html">ip4_addr_t</a> our_ipaddr, his_ipaddr, netmask;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span> <span class="preprocessor">#if PPP_DNS</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>   <a class="code" href="structnsapi__addr.html">ip4_addr_t</a> dns1, dns2;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_DNS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IPV4_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span> <span class="preprocessor">#if PPP_IPV6_SUPPORT</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>   <a class="code" href="structnsapi__addr.html">ip6_addr_t</a> our6_ipaddr, his6_ipaddr;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IPV6_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span> };</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_SERVER */</span><span class="preprocessor"></span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span> </div><div class="line"><a name="l00307"></a><span class="lineno">  307</span> <span class="comment">/*</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span> <span class="comment"> * PPP interface control block.</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span> <span class="comment"> */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span> <span class="keyword">struct </span>ppp_pcb_s {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>   ppp_settings settings;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>   <span class="keyword">const</span> <span class="keyword">struct </span>link_callbacks *link_cb;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>   <span class="keywordtype">void</span> *link_ctx_cb;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>   void (*link_status_cb)(ppp_pcb *pcb, <span class="keywordtype">int</span> err_code, <span class="keywordtype">void</span> *ctx);  <span class="comment">/* Status change callback */</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span> <span class="preprocessor">#if PPP_NOTIFY_PHASE</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>   void (*notify_phase_cb)(ppp_pcb *pcb, u8_t phase, <span class="keywordtype">void</span> *ctx);   <span class="comment">/* Notify phase callback */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_NOTIFY_PHASE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>   <span class="keywordtype">void</span> *ctx_cb;                  <span class="comment">/* Callbacks optional pointer */</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>   <span class="keyword">struct </span><a class="code" href="structnetif.html">netif</a> *<a class="code" href="structnetif.html">netif</a>;           <span class="comment">/* PPP interface */</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>   u8_t phase;                    <span class="comment">/* where the link is at */</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>   u8_t err_code;                 <span class="comment">/* Code indicating why interface is down. */</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span> </div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>   <span class="comment">/* flags */</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span> <span class="preprocessor">#if PPP_IPV4_SUPPORT</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ask_for_local           :1; <span class="comment">/* request our address from peer */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ipcp_is_open            :1; <span class="comment">/* haven't called np_finished() */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ipcp_is_up              :1; <span class="comment">/* have called ipcp_up() */</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> if4_up                  :1; <span class="comment">/* True when the IPv4 interface is up. */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span> <span class="preprocessor">#if 0 </span><span class="comment">/* UNUSED - PROXY ARP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> proxy_arp_set           :1; <span class="comment">/* Have created proxy arp entry */</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span> <span class="preprocessor">#endif </span><span class="comment">/* UNUSED - PROXY ARP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IPV4_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span> <span class="preprocessor">#if PPP_IPV6_SUPPORT</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ipv6cp_is_up            :1; <span class="comment">/* have called ip6cp_up() */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> if6_up                  :1; <span class="comment">/* True when the IPv6 interface is up. */</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IPV6_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span> <span class="preprocessor">#if PPP_IPV4_SUPPORT &amp;&amp; PPP_IPV6_SUPPORT</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ipcp_disabled           :1; <span class="comment">/* disable ipcp */</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ipv6cp_disabled         :1; <span class="comment">/* disable ipv6cp */</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lcp_echo_timer_running  :1; <span class="comment">/* set if a timer is running */</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span> <span class="preprocessor">#if VJ_SUPPORT</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vj_enabled              :1; <span class="comment">/* Flag indicating VJ compression enabled. */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span> <span class="preprocessor">#endif </span><span class="comment">/* VJ_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span> <span class="preprocessor">#if CCP_SUPPORT</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ccp_all_rejected        :1; <span class="comment">/* we rejected all peer's options */</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span> <span class="preprocessor">#endif </span><span class="comment">/* CCP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span> <span class="preprocessor">#if MPPE_SUPPORT</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mppe_keys_set           :1; <span class="comment">/* Have the MPPE keys been set? */</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span> <span class="preprocessor">#endif </span><span class="comment">/* MPPE_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span> </div><div class="line"><a name="l00352"></a><span class="lineno">  352</span> <span class="preprocessor">#if PPP_AUTH_SUPPORT</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>   <span class="comment">/* auth data */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span> <span class="preprocessor">#if PPP_SERVER &amp;&amp; defined(HAVE_MULTILINK)</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>   <span class="keywordtype">char</span> peer_authname[MAXNAMELEN + 1]; <span class="comment">/* The name by which the peer authenticated itself to us. */</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_SERVER &amp;&amp; defined(HAVE_MULTILINK) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>   u16_t auth_pending;        <span class="comment">/* Records which authentication operations haven't completed yet. */</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>   u16_t auth_done;           <span class="comment">/* Records which authentication operations have been completed. */</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span> </div><div class="line"><a name="l00360"></a><span class="lineno">  360</span> <span class="preprocessor">#if PAP_SUPPORT</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>   upap_state upap;           <span class="comment">/* PAP data */</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span> <span class="preprocessor">#endif </span><span class="comment">/* PAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span> </div><div class="line"><a name="l00364"></a><span class="lineno">  364</span> <span class="preprocessor">#if CHAP_SUPPORT</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>   chap_client_state chap_client;  <span class="comment">/* CHAP client data */</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span> <span class="preprocessor">#if PPP_SERVER</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>   chap_server_state chap_server;  <span class="comment">/* CHAP server data */</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_SERVER */</span><span class="preprocessor"></span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span> <span class="preprocessor">#endif </span><span class="comment">/* CHAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span> </div><div class="line"><a name="l00371"></a><span class="lineno">  371</span> <span class="preprocessor">#if EAP_SUPPORT</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>   eap_state eap;            <span class="comment">/* EAP data */</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span> <span class="preprocessor">#endif </span><span class="comment">/* EAP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_AUTH_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span> </div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>   fsm lcp_fsm;                   <span class="comment">/* LCP fsm structure */</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>   lcp_options lcp_wantoptions;   <span class="comment">/* Options that we want to request */</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>   lcp_options lcp_gotoptions;    <span class="comment">/* Options that peer ack'd */</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>   lcp_options lcp_allowoptions;  <span class="comment">/* Options we allow peer to request */</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>   lcp_options lcp_hisoptions;    <span class="comment">/* Options that we ack'd */</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>   u16_t peer_mru;                <span class="comment">/* currently negotiated peer MRU */</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>   u8_t lcp_echos_pending;        <span class="comment">/* Number of outstanding echo msgs */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>   u8_t lcp_echo_number;          <span class="comment">/* ID number of next echo frame */</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span> </div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>   u8_t num_np_open;              <span class="comment">/* Number of network protocols which we have opened. */</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>   u8_t num_np_up;                <span class="comment">/* Number of network protocols which have come up. */</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span> </div><div class="line"><a name="l00388"></a><span class="lineno">  388</span> <span class="preprocessor">#if VJ_SUPPORT</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>   <span class="keyword">struct </span>vjcompress vj_comp;     <span class="comment">/* Van Jacobson compression header. */</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span> <span class="preprocessor">#endif </span><span class="comment">/* VJ_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span> </div><div class="line"><a name="l00392"></a><span class="lineno">  392</span> <span class="preprocessor">#if CCP_SUPPORT</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>   fsm ccp_fsm;                   <span class="comment">/* CCP fsm structure */</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>   ccp_options ccp_wantoptions;   <span class="comment">/* what to request the peer to use */</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>   ccp_options ccp_gotoptions;    <span class="comment">/* what the peer agreed to do */</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>   ccp_options ccp_allowoptions;  <span class="comment">/* what we'll agree to do */</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>   ccp_options ccp_hisoptions;    <span class="comment">/* what we agreed to do */</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>   u8_t ccp_localstate;           <span class="comment">/* Local state (mainly for handling reset-reqs and reset-acks). */</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>   u8_t ccp_receive_method;       <span class="comment">/* Method chosen on receive path */</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>   u8_t ccp_transmit_method;      <span class="comment">/* Method chosen on transmit path */</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span> <span class="preprocessor">#if MPPE_SUPPORT</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>   ppp_mppe_state mppe_comp;      <span class="comment">/* MPPE "compressor" structure */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>   ppp_mppe_state mppe_decomp;    <span class="comment">/* MPPE "decompressor" structure */</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span> <span class="preprocessor">#endif </span><span class="comment">/* MPPE_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span> <span class="preprocessor">#endif </span><span class="comment">/* CCP_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span> </div><div class="line"><a name="l00407"></a><span class="lineno">  407</span> <span class="preprocessor">#if PPP_IPV4_SUPPORT</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>   fsm ipcp_fsm;                   <span class="comment">/* IPCP fsm structure */</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>   ipcp_options ipcp_wantoptions;  <span class="comment">/* Options that we want to request */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>   ipcp_options ipcp_gotoptions;   <span class="comment">/* Options that peer ack'd */</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>   ipcp_options ipcp_allowoptions; <span class="comment">/* Options we allow peer to request */</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>   ipcp_options ipcp_hisoptions;   <span class="comment">/* Options that we ack'd */</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IPV4_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span> </div><div class="line"><a name="l00415"></a><span class="lineno">  415</span> <span class="preprocessor">#if PPP_IPV6_SUPPORT</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>   fsm ipv6cp_fsm;                     <span class="comment">/* IPV6CP fsm structure */</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>   ipv6cp_options ipv6cp_wantoptions;  <span class="comment">/* Options that we want to request */</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>   ipv6cp_options ipv6cp_gotoptions;   <span class="comment">/* Options that peer ack'd */</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>   ipv6cp_options ipv6cp_allowoptions; <span class="comment">/* Options we allow peer to request */</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>   ipv6cp_options ipv6cp_hisoptions;   <span class="comment">/* Options that we ack'd */</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IPV6_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span> };</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span> </div><div class="line"><a name="l00424"></a><span class="lineno">  424</span> <span class="comment">/************************</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span> <span class="comment"> *** PUBLIC FUNCTIONS ***</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span> <span class="comment"> ************************/</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span> </div><div class="line"><a name="l00428"></a><span class="lineno">  428</span> <span class="comment">/*</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span> <span class="comment"> * WARNING: For multi-threads environment, all ppp_set_* functions most</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span> <span class="comment"> * only be called while the PPP is in the dead phase (i.e. disconnected).</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span> <span class="comment"> */</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span> </div><div class="line"><a name="l00433"></a><span class="lineno">  433</span> <span class="preprocessor">#if PPP_AUTH_SUPPORT</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span> <span class="comment">/*</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span> <span class="comment"> * Set PPP authentication.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span> <span class="comment"> *</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span> <span class="comment"> * Warning: Using PPPAUTHTYPE_ANY might have security consequences.</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span> <span class="comment"> * RFC 1994 says:</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span> <span class="comment"> *</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span> <span class="comment"> * In practice, within or associated with each PPP server, there is a</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span> <span class="comment"> * database which associates "user" names with authentication</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span> <span class="comment"> * information ("secrets").  It is not anticipated that a particular</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span> <span class="comment"> * named user would be authenticated by multiple methods.  This would</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span> <span class="comment"> * make the user vulnerable to attacks which negotiate the least secure</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span> <span class="comment"> * method from among a set (such as PAP rather than CHAP).  If the same</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span> <span class="comment"> * secret was used, PAP would reveal the secret to be used later with</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span> <span class="comment"> * CHAP.</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span> <span class="comment"> *</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span> <span class="comment"> * Instead, for each user name there should be an indication of exactly</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span> <span class="comment"> * one method used to authenticate that user name.  If a user needs to</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span> <span class="comment"> * make use of different authentication methods under different</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span> <span class="comment"> * circumstances, then distinct user names SHOULD be employed, each of</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span> <span class="comment"> * which identifies exactly one authentication method.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span> <span class="comment"> *</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span> <span class="comment"> * Default is none auth type, unset (NULL) user and passwd.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span> <span class="comment"> */</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span> <span class="preprocessor">#define PPPAUTHTYPE_NONE      0x00</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span> <span class="preprocessor">#define PPPAUTHTYPE_PAP       0x01</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span> <span class="preprocessor">#define PPPAUTHTYPE_CHAP      0x02</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span> <span class="preprocessor">#define PPPAUTHTYPE_MSCHAP    0x04</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span> <span class="preprocessor">#define PPPAUTHTYPE_MSCHAP_V2 0x08</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span> <span class="preprocessor">#define PPPAUTHTYPE_EAP       0x10</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span> <span class="preprocessor">#define PPPAUTHTYPE_ANY       0xff</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span> <span class="keywordtype">void</span> ppp_set_auth(ppp_pcb *pcb, u8_t authtype, <span class="keyword">const</span> <span class="keywordtype">char</span> *user, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span> </div><div class="line"><a name="l00466"></a><span class="lineno">  466</span> <span class="comment">/*</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span> <span class="comment"> * If set, peer is required to authenticate. This is mostly necessary for PPP server support.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span> <span class="comment"> *</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span> <span class="comment"> * Default is false.</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span> <span class="comment"> */</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span> <span class="preprocessor">#define ppp_set_auth_required(ppp, boolval) (ppp-&gt;settings.auth_required = boolval)</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_AUTH_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span> </div><div class="line"><a name="l00474"></a><span class="lineno">  474</span> <span class="preprocessor">#if PPP_IPV4_SUPPORT</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span> <span class="comment">/*</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span> <span class="comment"> * Set PPP interface "our" and "his" IPv4 addresses. This is mostly necessary for PPP server</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span> <span class="comment"> * support but it can also be used on a PPP link where each side choose its own IP address.</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span> <span class="comment"> *</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span> <span class="comment"> * Default is unset (0.0.0.0).</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span> <span class="comment"> */</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span> <span class="preprocessor">#define ppp_set_ipcp_ouraddr(ppp, addr) do { ppp-&gt;ipcp_wantoptions.ouraddr = ip4_addr_get_u32(addr); \</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span> <span class="preprocessor">                                             ppp-&gt;ask_for_local = ppp-&gt;ipcp_wantoptions.ouraddr != 0; } while(0)</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span> <span class="preprocessor">#define ppp_set_ipcp_hisaddr(ppp, addr) (ppp-&gt;ipcp_wantoptions.hisaddr = ip4_addr_get_u32(addr))</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span> <span class="preprocessor">#if PPP_DNS</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span> <span class="comment">/*</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span> <span class="comment"> * Set DNS server addresses that are sent if the peer asks for them. This is mostly necessary</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span> <span class="comment"> * for PPP server support.</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span> <span class="comment"> *</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span> <span class="comment"> * Default is unset (0.0.0.0).</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span> <span class="comment"> */</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span> <span class="preprocessor">#define ppp_set_ipcp_dnsaddr(ppp, index, addr) (ppp-&gt;ipcp_allowoptions.dnsaddr[index] = ip4_addr_get_u32(addr))</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span> </div><div class="line"><a name="l00493"></a><span class="lineno">  493</span> <span class="comment">/*</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span> <span class="comment"> * If set, we ask the peer for up to 2 DNS server addresses. Received DNS server addresses are</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span> <span class="comment"> * registered using the dns_setserver() function.</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span> <span class="comment"> *</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span> <span class="comment"> * Default is false.</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span> <span class="comment"> */</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span> <span class="preprocessor">#define ppp_set_usepeerdns(ppp, boolval) (ppp-&gt;settings.usepeerdns = boolval)</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_DNS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_IPV4_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span> </div><div class="line"><a name="l00503"></a><span class="lineno">  503</span> <span class="preprocessor">#if MPPE_SUPPORT</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span> <span class="comment">/* Disable MPPE (Microsoft Point to Point Encryption). This parameter is exclusive. */</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span> <span class="preprocessor">#define PPP_MPPE_DISABLE           0x00</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span> <span class="comment">/* Require the use of MPPE (Microsoft Point to Point Encryption). */</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span> <span class="preprocessor">#define PPP_MPPE_ENABLE            0x01</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span> <span class="comment">/* Allow MPPE to use stateful mode. Stateless mode is still attempted first. */</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span> <span class="preprocessor">#define PPP_MPPE_ALLOW_STATEFUL    0x02</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span> <span class="comment">/* Refuse the use of MPPE with 40-bit encryption. Conflict with PPP_MPPE_REFUSE_128. */</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span> <span class="preprocessor">#define PPP_MPPE_REFUSE_40         0x04</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span> <span class="comment">/* Refuse the use of MPPE with 128-bit encryption. Conflict with PPP_MPPE_REFUSE_40. */</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span> <span class="preprocessor">#define PPP_MPPE_REFUSE_128        0x08</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span> <span class="comment">/*</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span> <span class="comment"> * Set MPPE configuration</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span> <span class="comment"> *</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span> <span class="comment"> * Default is disabled.</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span> <span class="comment"> */</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span> <span class="keywordtype">void</span> ppp_set_mppe(ppp_pcb *pcb, u8_t flags);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span> <span class="preprocessor">#endif </span><span class="comment">/* MPPE_SUPPORT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span> </div><div class="line"><a name="l00522"></a><span class="lineno">  522</span> <span class="comment">/*</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span> <span class="comment"> * Wait for up to intval milliseconds for a valid PPP packet from the peer.</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span> <span class="comment"> * At the end of this  time, or when a valid PPP packet is received from the</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span> <span class="comment"> * peer, we commence negotiation by sending our first LCP packet.</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span> <span class="comment"> *</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span> <span class="comment"> * Default is 0.</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span> <span class="comment"> */</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span> <span class="preprocessor">#define ppp_set_listen_time(ppp, intval) (ppp-&gt;settings.listen_time = intval)</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span> </div><div class="line"><a name="l00531"></a><span class="lineno">  531</span> <span class="comment">/*</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span> <span class="comment"> * If set, we will attempt to initiate a connection but if no reply is received from</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span> <span class="comment"> * the peer, we will then just wait passively for a valid LCP packet from the peer.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span> <span class="comment"> *</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span> <span class="comment"> * Default is false.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span> <span class="comment"> */</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span> <span class="preprocessor">#define ppp_set_passive(ppp, boolval) (ppp-&gt;lcp_wantoptions.passive = boolval)</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span> </div><div class="line"><a name="l00539"></a><span class="lineno">  539</span> <span class="comment">/*</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span> <span class="comment"> * If set, we will not transmit LCP packets to initiate a connection until a valid</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span> <span class="comment"> * LCP packet is received from the peer. This is what we usually call the server mode.</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span> <span class="comment"> *</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span> <span class="comment"> * Default is false.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span> <span class="comment"> */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span> <span class="preprocessor">#define ppp_set_silent(ppp, boolval) (ppp-&gt;lcp_wantoptions.silent = boolval)</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span> </div><div class="line"><a name="l00547"></a><span class="lineno">  547</span> <span class="comment">/*</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span> <span class="comment"> * If set, enable protocol field compression negotiation in both the receive and</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span> <span class="comment"> * the transmit direction.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span> <span class="comment"> *</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span> <span class="comment"> * Default is true.</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span> <span class="comment"> */</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span> <span class="preprocessor">#define ppp_set_neg_pcomp(ppp, boolval) (ppp-&gt;lcp_wantoptions.neg_pcompression = \</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span> <span class="preprocessor">                                         ppp-&gt;lcp_allowoptions.neg_pcompression = boolval)</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span> </div><div class="line"><a name="l00556"></a><span class="lineno">  556</span> <span class="comment">/*</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span> <span class="comment"> * If set, enable Address/Control compression in both the receive and the transmit</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span> <span class="comment"> * direction.</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span> <span class="comment"> *</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span> <span class="comment"> * Default is true.</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span> <span class="comment"> */</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span> <span class="preprocessor">#define ppp_set_neg_accomp(ppp, boolval) (ppp-&gt;lcp_wantoptions.neg_accompression = \</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span> <span class="preprocessor">                                          ppp-&gt;lcp_allowoptions.neg_accompression = boolval)</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span> </div><div class="line"><a name="l00565"></a><span class="lineno">  565</span> <span class="comment">/*</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span> <span class="comment"> * If set, enable asyncmap negotiation. Otherwise forcing all control characters to</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span> <span class="comment"> * be escaped for both the transmit and the receive direction.</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span> <span class="comment"> *</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span> <span class="comment"> * Default is true.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span> <span class="comment"> */</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span> <span class="preprocessor">#define ppp_set_neg_asyncmap(ppp, boolval) (ppp-&gt;lcp_wantoptions.neg_asyncmap = \</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span> <span class="preprocessor">                                            ppp-&gt;lcp_allowoptions.neg_asyncmap = boolval)</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span> </div><div class="line"><a name="l00574"></a><span class="lineno">  574</span> <span class="comment">/*</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span> <span class="comment"> * This option sets the Async-Control-Character-Map (ACCM) for this end of the link.</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span> <span class="comment"> * The ACCM is a set of 32 bits, one for each of the ASCII control characters with</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span> <span class="comment"> * values from 0 to 31, where a 1 bit  indicates that the corresponding control</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span> <span class="comment"> * character should not be used in PPP packets sent to this system. The map is</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span> <span class="comment"> * an unsigned 32 bits integer where the least significant bit (00000001) represents</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span> <span class="comment"> * character 0 and the most significant bit (80000000) represents character 31.</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span> <span class="comment"> * We will then ask the peer to send these characters as a 2-byte escape sequence.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span> <span class="comment"> *</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span> <span class="comment"> * Default is 0.</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span> <span class="comment"> */</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span> <span class="preprocessor">#define ppp_set_asyncmap(ppp, intval) (ppp-&gt;lcp_wantoptions.asyncmap = intval)</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span> </div><div class="line"><a name="l00587"></a><span class="lineno">  587</span> <span class="comment">/*</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span> <span class="comment"> * Set a PPP interface as the default network interface</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span> <span class="comment"> * (used to output all packets for which no specific route is found).</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span> <span class="comment"> */</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span> <span class="preprocessor">#define ppp_set_default(ppp)         netif_set_default(ppp-&gt;netif)</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span> </div><div class="line"><a name="l00593"></a><span class="lineno">  593</span> <span class="preprocessor">#if PPP_NOTIFY_PHASE</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span> <span class="comment">/*</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span> <span class="comment"> * Set a PPP notify phase callback.</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span> <span class="comment"> *</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span> <span class="comment"> * This can be used for example to set a LED pattern depending on the</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span> <span class="comment"> * current phase of the PPP session.</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span> <span class="comment"> */</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span> <span class="keyword">typedef</span> void (*ppp_notify_phase_cb_fn)(ppp_pcb *pcb, u8_t phase, <span class="keywordtype">void</span> *ctx);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span> <span class="keywordtype">void</span> ppp_set_notify_phase_callback(ppp_pcb *pcb, ppp_notify_phase_cb_fn notify_phase_cb);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_NOTIFY_PHASE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span> </div><div class="line"><a name="l00604"></a><span class="lineno">  604</span> <span class="comment">/*</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span> <span class="comment"> * Initiate a PPP connection.</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span> <span class="comment"> *</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span> <span class="comment"> * This can only be called if PPP is in the dead phase.</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span> <span class="comment"> *</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span> <span class="comment"> * Holdoff is the time to wait (in seconds) before initiating</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span> <span class="comment"> * the connection.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span> <span class="comment"> *</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span> <span class="comment"> * If this port connects to a modem, the modem connection must be</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span> <span class="comment"> * established before calling this.</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span> <span class="comment"> */</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span> err_t ppp_connect(ppp_pcb *pcb, u16_t holdoff);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span> </div><div class="line"><a name="l00617"></a><span class="lineno">  617</span> <span class="preprocessor">#if PPP_SERVER</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span> <span class="comment">/*</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span> <span class="comment"> * Listen for an incoming PPP connection.</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span> <span class="comment"> *</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span> <span class="comment"> * This can only be called if PPP is in the dead phase.</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span> <span class="comment"> *</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span> <span class="comment"> * If this port connects to a modem, the modem connection must be</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span> <span class="comment"> * established before calling this.</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span> <span class="comment"> */</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span> err_t ppp_listen(ppp_pcb *pcb);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_SERVER */</span><span class="preprocessor"></span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span> </div><div class="line"><a name="l00629"></a><span class="lineno">  629</span> <span class="comment">/*</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span> <span class="comment"> * Initiate the end of a PPP connection.</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span> <span class="comment"> * Any outstanding packets in the queues are dropped.</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span> <span class="comment"> *</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span> <span class="comment"> * Setting nocarrier to 1 close the PPP connection without initiating the</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span> <span class="comment"> * shutdown procedure. Always using nocarrier = 0 is still recommended,</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span> <span class="comment"> * this is going to take a little longer time if your link is down, but</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span> <span class="comment"> * is a safer choice for the PPP state machine.</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span> <span class="comment"> *</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span> <span class="comment"> * Return 0 on success, an error code on failure.</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span> <span class="comment"> */</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span> err_t ppp_close(ppp_pcb *pcb, u8_t nocarrier);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span> </div><div class="line"><a name="l00642"></a><span class="lineno">  642</span> <span class="comment">/*</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span> <span class="comment"> * Release the control block.</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span> <span class="comment"> *</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span> <span class="comment"> * This can only be called if PPP is in the dead phase.</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span> <span class="comment"> *</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span> <span class="comment"> * You must use ppp_close() before if you wish to terminate</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span> <span class="comment"> * an established PPP session.</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span> <span class="comment"> *</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span> <span class="comment"> * Return 0 on success, an error code on failure.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span> <span class="comment"> */</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span> err_t ppp_free(ppp_pcb *pcb);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span> </div><div class="line"><a name="l00654"></a><span class="lineno">  654</span> <span class="comment">/*</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span> <span class="comment"> * PPP IOCTL commands.</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span> <span class="comment"> *</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span> <span class="comment"> * Get the up status - 0 for down, non-zero for up.  The argument must</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span> <span class="comment"> * point to an int.</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span> <span class="comment"> */</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span> <span class="preprocessor">#define PPPCTLG_UPSTATUS 0</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span> </div><div class="line"><a name="l00662"></a><span class="lineno">  662</span> <span class="comment">/*</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span> <span class="comment"> * Get the PPP error code.  The argument must point to an int.</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span> <span class="comment"> * Returns a PPPERR_* value.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span> <span class="comment"> */</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span> <span class="preprocessor">#define PPPCTLG_ERRCODE  1</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span> </div><div class="line"><a name="l00668"></a><span class="lineno">  668</span> <span class="comment">/*</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span> <span class="comment"> * Get the fd associated with a PPP over serial</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span> <span class="comment"> */</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span> <span class="preprocessor">#define PPPCTLG_FD       2</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span> </div><div class="line"><a name="l00673"></a><span class="lineno">  673</span> <span class="comment">/*</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span> <span class="comment"> * Get and set parameters for the given connection.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span> <span class="comment"> * Return 0 on success, an error code on failure.</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span> <span class="comment"> */</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span> err_t ppp_ioctl(ppp_pcb *pcb, u8_t cmd, <span class="keywordtype">void</span> *arg);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span> </div><div class="line"><a name="l00679"></a><span class="lineno">  679</span> <span class="comment">/* Get the PPP netif interface */</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span> <span class="preprocessor">#define ppp_netif(ppp)               (ppp-&gt;netif)</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span> </div><div class="line"><a name="l00682"></a><span class="lineno">  682</span> <span class="comment">/* Set a status-callback for the selected PPP device */</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span> <span class="preprocessor">#define ppp_set_netif_statuscallback(ppp, status_cb)       \</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span> <span class="preprocessor">        netif_set_status_callback(ppp-&gt;netif, status_cb);</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span> </div><div class="line"><a name="l00686"></a><span class="lineno">  686</span> <span class="comment">/* Set a link-callback for the selected PPP device */</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span> <span class="preprocessor">#define ppp_set_netif_linkcallback(ppp, link_cb)           \</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span> <span class="preprocessor">        netif_set_link_callback(ppp-&gt;netif, link_cb);</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span> </div><div class="line"><a name="l00690"></a><span class="lineno">  690</span> <span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span> }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span> <span class="preprocessor">#endif</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span> </div><div class="line"><a name="l00694"></a><span class="lineno">  694</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_H */</span><span class="preprocessor"></span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span> </div><div class="line"><a name="l00696"></a><span class="lineno">  696</span> <span class="preprocessor">#endif </span><span class="comment">/* PPP_SUPPORT */</span><span class="preprocessor"></span></div><div class="ttc" id="structnetif_html"><div class="ttname"><a href="structnetif.html">netif</a></div><div class="ttdoc">Generic data structure used for all lwIP network interfaces. </div><div class="ttdef"><b>Definition:</b> <a href="ppp__service__if_8h_source.html#l00157">ppp_service_if.h:157</a></div></div>
<div class="ttc" id="structnsapi__addr_html"><div class="ttname"><a href="structnsapi__addr.html">nsapi_addr</a></div><div class="ttdoc">IP address structure for passing IP addresses by value. </div><div class="ttdef"><b>Definition:</b> <a href="nsapi__types_8h_source.html#l00237">nsapi_types.h:237</a></div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/ppp_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:26:23 GMT -->
</html>
