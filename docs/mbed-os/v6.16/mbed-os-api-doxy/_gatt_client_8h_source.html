<!DOCTYPE html>
<html>
    
<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/_gatt_client_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:23:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        
        <meta charset="utf-8"/>
        <title>Mbed OS Reference | GattClient.h Source File</title>
        <link href="../static/css/vendor/foundation-6.2.4.min.mbed-cache-4c48f6c816971070eb1e4eca75f0ec30.css" rel="stylesheet"/>
        <link href="search/search.css" rel="stylesheet"/>
        <link href="../static/css/app.mbed-cache-a44289fe9f5ca07036a335d6ad7ed8ad.css" rel="stylesheet"/>
        <script src="../static/js/vendor/jquery-3.2.1.min.mbed-cache-c9f5aeeca3ad37bf2aa006139b935f0a.js"></script>
        <script src="dynsections.js"></script>
        <script src="search/searchdata.js"></script>
        <script src="search/search.js"></script>
        <script>
            $(document).ready(function() {
                init_search();
            });
        </script>
    
        

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1447836-8');
ga('require', 'GTM-WXMLD4S')
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl+'&gtm_auth=SMYNPwM0ICsV00c1ZHETqQ&gtm_preview=env-2&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M6FZ495');</script>


    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:971746,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<!-- Favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="../../../../static/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../../static/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../../static/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../../static/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../../static/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../../static/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../../../static/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../../../static/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../../../static/img/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../../../static/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../../static/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../../../static/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../static/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://os.mbed.com/static/img/favicons/manifest.json">
<link rel="shortcut icon" href="https://os.mbed.com/static/img/favicon.ico?">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">

<link rel="stylesheet" href="../../../../static/CACHE/css/output.811e2930ab34.css" type="text/css">

<link href="../../../../static/docs/css/doc_viewer.css" rel="stylesheet">
<link href="../../../../static/fonts.css" rel="stylesheet">
<link href="../../../../static/docs-nav-and-footer1b26.css?v2" rel="stylesheet">


<link rel="canonical" href="_gatt_client_8h_source.html">
<script src="../../../../static/mbed-nav-vertical-menu.js"></script>


    </head>
    <body>
        








<div class="mbed-nav">
    <div class="mbed-nav__mobile-menu-control">
        <i class="mbed-nav__mobile-menu-control-open fas fa-bars fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-close fas fa-times is-hidden fa-fw"></i>
        <i class="mbed-nav__mobile-menu-control-back fas fa-angle-left is-hidden fa-fw"></i>
    </div>
    <div class="mbed-nav__logo">
        <a href="https://os.mbed.com/">
            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#logo"></use></svg>
        </a>
    </div>
    <div class="mbed-nav__menu">

        <!-- Main menu -->
        <nav class="mbed-nav__main-menu">
            <ul class="mbed-nav__dropdown-menu">
                <li class="has-dropdown">
                    Overview

                    <div class="mbed-nav__dropdown-menu-content">

                        <!-- Overview dropdown menu -->
                        <div class="mbed-nav__overview-menu">
                            <section>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <div>
                                                <p>Mbed OS</p>
                                                <p>The open source OS for Cortex-M devices</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link-detail">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <div>
                                                <p>Keil Studio Cloud</p>
                                                <p>Arm's IDE for IoT, embedded and Mbed development</p>
                                            </div>
                                         </a>
                                     </li>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <div>
                                                <p>Mbed Studio</p>
                                                <p>Download the desktop IDE for Mbed OS</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link-detail">

                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <div>
                                               <p>Mbed CLI</p>
                                               <p>Command line access to Mbed tools and services</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>

                            <section>
                                <p>Security and Connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <div>
                                                <p>Mbed TLS and Mbed Crypto</p>
                                                <p>Industry standard TLS stack and crypto library</p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link-detail">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <div>
                                                <p>Connectivity</p>
                                                <p>BLE, WiFi, Cellular, LoRaWAN and more</p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    Hardware

                    <!-- Hardware dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__hardware-dropdown">
                            <ul class="mbed-nav__hardware-menu">
                                <li>
                                    <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                        <div>
                                            <p>Boards</p>
                                            <p>Build your Mbed projects with development boards for Arm Cortex processors and MCUs</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                        <div>
                                            <p>Modules</p>
                                            <p>Modules include a MCU, connectivity and onboard memory, making them ideal for designing IoT products for mass production</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                        <div>
                                            <p>Components</p>
                                            <p>The component database hosts libraries for different sensors, actuators, radios, inputs, middleware and IoT services</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                        <div>
                                            <p>Hardware overview & Mbed Enabled</p>
                                            <p>Learn about hardware support for Mbed, as well as the Mbed Enabled program, which identifies Mbed compatible products</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link-detail">
                                        <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                        <div>
                                            <p>Mbed HDK</p>
                                            <p>Reference designs, schematics and board layouts to develop production hardware and Mbed-compatible development boards</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li class="has-dropdown">
                    Documentation

                    <!-- Documentation dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__documentation-dropdown">
                            <ul class="mbed-nav__documentation-menu">
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a>
                                </li>
                                <li>
                                    <a
                                        href="https://developer.arm.com/documentation/102497/latest/Arm-Keil-Studio-Cloud">
                                        Keil Studio
                                    </a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li class="has-dropdown">
                    Community

                    <!-- Community dropdown menu -->
                    <div class="mbed-nav__dropdown-menu-content">
                        <div class="mbed-nav__community-dropdown">
                            <ul class="mbed-nav__community-menu">
                                <li>
                                    <a href="https://forums.mbed.com/">Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a>
                                </li>
                                <li>
                                    <a href="https://os.mbed.com/support/">Report a problem</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="https://os.mbed.com/blog/">Blog</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="mbed-nav__user-controls">
        <div class="mbed-nav__user-controls-top">
            <div class="mbed-nav__search">
                <form id="mbed-nav__search-box" class="is-hidden" action="https://os.mbed.com/search" method="GET">
                    <div class="mbed-nav__search-box">
                        <input type="search" name="q" placeholder="Search...">
                        <button type="submit">
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                        </button>
                    </div>
                </form>
                <i class="mbed-nav__search-close fas fa-times is-hidden"></i>
                <svg class="mbed-nav__search-open stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
            </div>
            <a class="mbed-nav__cta" href="https://studio.keil.arm.com/mbed" target="_blank">
                Keil Studio Cloud
            </a>

            
                
                <nav class="mbed-nav__logged-out-nav">
                    <ul class="mbed-nav__dropdown-menu">
                        <li>
                            <svg class="stroke-white"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#profile"></use></svg>

                            <!-- Logged out dropdown menu -->
                            <div class="mbed-nav__dropdown-menu-content">
                                <div class="mbed-nav__logged-out-dropdown">
                                    <ul class="mbed-nav__logged-out-menu">
                                        <li><a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/_gatt_client_8h_source.html">Log in or Sign up</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                
            
        </div>
    </div>
    <div class="mbed-nav__spacer"></div>
</div>
<div class="mbed-nav__mobile-menu-cover is-hidden">
    <div class="mbed-nav__mobile-menu">

        <div id="mbed-nav__main-menu-mobile">
            <div class="mbed-nav__user-controls-mobile">
                <div class="mbed-nav__user-controls-top-mobile">
                    <form action="https://os.mbed.com/search" method="GET">
                        <div class="mbed-nav__search-box mbed-nav__search-box--light">
                            <input type="search" name="q" placeholder="Search...">
                            <button type="submit">
                                <svg class="stroke-dark-grey"><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#search"></use></svg>
                            </button>
                        </div>
                    </form>
                    
                        
                        <a href="https://os.mbed.com/account/login/?next=/docs/mbed-os/v6.16/mbed-os-api-doxy/_gatt_client_8h_source.html">Log in or Sign up</a>
                        
                    
                </div>
            </div>

            <ul class="mbed-nav__side-menu">
                <li>
                    <input type="checkbox" name="accordion-toggle" id="overview-accordion">
                    <label for="overview-accordion">Overview</label>
                    <div class="accordion_content">
                        <ul class="overview-menu-mobile">
                            <li>
                                <p>Operating system</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/mbed-os/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_os"></use></svg>
                                            <p>Mbed OS</p>
                                        </a>
                                    </li>
                                    

                                </ul>
                            </li>
                            <li>
                                <p>Development tools</p>
                                <ul>
                                    <li>
                                        <a href="https://os.mbed.com/studio/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_studio"></use></svg>
                                            <p>Mbed Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.keil.arm.com/mbed/?utm_source=mbed_com&amp;utm_medium=compiler_button&amp;utm_campaign=mbed_com_promo" class="mbed-nav__icon-link">
                                             <svg><use href="https://os.mbed.com/static/img/keil_studio_icon.2c56c28014c6.svg?#keil_studio_icon"></use></svg>
                                            <p>Keil Studio</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/docs/mbed-os/latest/quick-start/offline-with-mbed-cli.html" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_cli"></use></svg>
                                            <p>Mbed CLI</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Security and connectivity</p>
                                <ul>
                                    <li>
                                        <a href="https://tls.mbed.org/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_tls_crypto"></use></svg>
                                            <p>Mbed TLS and Mbed Crypto</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://os.mbed.com/connectivity-technologies/" class="mbed-nav__icon-link">
                                            <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#connectivity"></use></svg>
                                            <p>Connectivity</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="hardware-accordion">
                    <label for="hardware-accordion">Hardware</label>
                    <div class="accordion_content">
                        <ul>
                            <li>
                                <a href="https://os.mbed.com/platforms/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#boards"></use></svg>
                                    <p>Boards</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/modules/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#modules"></use></svg>
                                    <p>Modules</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/components/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#components"></use></svg>
                                    <p>Components</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/hardware/" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#hardware_overview"></use></svg>
                                    <p>Hardware overview & Mbed Enabled</p>
                                </a>
                            </li>
                            <li>
                                <a href="https://os.mbed.com/docs/mbed-os/latest/porting/arm-mbed-hdk.html" class="mbed-nav__icon-link">
                                    <svg><use xlink:href="https://os.mbed.com/static/img/mbed_nav_spritesheet.8ac20221a123.svg?v3#mbed_hdk"></use></svg>
                                    <p>Mbed HDK</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/code/">Code</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="documentation-accordion">
                    <label for="documentation-accordion">Documentation</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://os.mbed.com/docs/mbed-os/">Mbed OS</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-studio/">Mbed Studio</a></li>
                            <li>
                              <a
                                href="https://developer.arm.com/documentation/102497/1-5/Arm-Keil-Studio/?utm_source=mbed_com&amp;utm_medium=nav_docs_link&amp;utm_campaign=mbed_com_promo">
                                Keil Studio
                              </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/built-with-mbed/">Case studies</a></li>
                <li>
                    <input type="checkbox" name="accordion-toggle" id="community-accordion">
                    <label for="community-accordion">Community</label>
                    <div class="accordion_content">
                        <ul>
                            <li><a href="https://forums.mbed.com/">Forum</a></li>
                            <li><a href="https://os.mbed.com/docs/mbed-os/latest/contributing/index.html">Contribute</a></li>
                            <li><a href="https://www.youtube.com/playlist?list=PLKjl7IFAwc4R4plIZe4IuHlsn8zW7rvKh">Mbed OS Tech Forum</a></li>
                            <li><a href="https://os.mbed.com/support/">Report a problem</a></li>
                        </ul>
                    </div>
                </li>
                <li><a href="https://os.mbed.com/blog/">Blog</a></li>
            </ul>
        </div>

        
    </div>
</div>



<div class="version-picker-container">
    
    <select class="version-picker" onchange="goToVersion(this.value)">
        
            <option
                value="v6.16"
                selected
            >
                v6.16
            </option>
        
            <option
                value="v6.15"
                
            >
                v6.15
            </option>
        
            <option
                value="v6.14"
                
            >
                v6.14
            </option>
        
            <option
                value="v6.13"
                
            >
                v6.13
            </option>
        
            <option
                value="v6.12"
                
            >
                v6.12
            </option>
        
            <option
                value="v6.11"
                
            >
                v6.11
            </option>
        
            <option
                value="v6.10"
                
            >
                v6.10
            </option>
        
            <option
                value="v6.9"
                
            >
                v6.9
            </option>
        
            <option
                value="v6.8"
                
            >
                v6.8
            </option>
        
            <option
                value="v6.7"
                
            >
                v6.7
            </option>
        
            <option
                value="v6.6"
                
            >
                v6.6
            </option>
        
            <option
                value="v6.5"
                
            >
                v6.5
            </option>
        
            <option
                value="v5.15"
                
            >
                v5.15
            </option>
        
    </select>
    

    <div class="contact-us">
        Mistake on this page?
        
            <br>
            <a href="https://github.com/ARMmbed/mbed-os-5-docs/issues">
                Report an issue in GitHub
                <i class="fab fa-github"></i>
            </a>
            or
            <a href="mailto:mbed-support@arm.com">
                email us
                <i class="fas fa-envelope"></i>
            </a>
        
    </div>
</div>

<script>
    function goToVersion(version) {
        window.location.href = window.location.href.replace(
            "v6.16",
            version
        )
    }
</script>

        
        <div class="topbar" id="top">
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div class="tabs" id="navrow1">
    <ul class="tablist">
      <li><a href="index.html"><span>Main Page</span></a></li>
      <li><a href="pages.html"><span>Related Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div class="MSearchBoxInactive" id="MSearchBox">
        <span class="left">
          <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png"/>
          <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
          </span><span class="right">
            <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png"/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2" id="navrow2">
    <ul class="tablist">
      <li><a href="files.html"><span>File List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>

<div class="navpath" id="nav-path">
  <ul>
<li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_a9b0a4f8a11c2540ce1e65185f830e6a.html">FEATURE_BLE</a></li><li class="navelem"><a class="el" href="dir_ccd5a0052afa8b7d8e85ab9f2949e840.html">include</a></li><li class="navelem"><a class="el" href="dir_eebce072506fd4eea19002897354326a.html">ble</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">GattClient.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span> <span class="comment">/* mbed Microcontroller Library</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span> <span class="comment"> * Copyright (c) 2006-2020 ARM Limited</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span> <span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span> <span class="comment"> * SPDX-License-Identifier: Apache-2.0</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span> <span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span> <span class="comment"> * Licensed under the Apache License, Version 2.0 (the "License");</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span> <span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span> <span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span> <span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span> <span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span> <span class="comment"> *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span> <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span> <span class="comment"> * distributed under the License is distributed on an "AS IS" BASIS,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span> <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span> <span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span> <span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span> <span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span> </div><div class="line"><a name="l00019"></a><span class="lineno">   19</span> </div><div class="line"><a name="l00020"></a><span class="lineno">   20</span> <span class="preprocessor">#ifndef MBED_GATT_CLIENT_H__</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span> </div><div class="line"><a name="l00022"></a><span class="lineno">   22</span> <span class="preprocessor">#define MBED_GATT_CLIENT_H__</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span> </div><div class="line"><a name="l00024"></a><span class="lineno">   24</span> <span class="preprocessor">#include "ble/common/CallChainOfFunctionPointersWithContext.h"</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span> <span class="preprocessor">#include "ble/common/blecommon.h"</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span> </div><div class="line"><a name="l00027"></a><span class="lineno">   27</span> <span class="preprocessor">#include "ble/gatt/GattAttribute.h"</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span> <span class="preprocessor">#include "ble/gatt/ServiceDiscovery.h"</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span> <span class="preprocessor">#include "ble/gatt/CharacteristicDescriptorDiscovery.h"</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span> <span class="preprocessor">#include "ble/gatt/GattCallbackParamTypes.h"</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span> <span class="preprocessor">#include "ble/gatt/DiscoveredService.h"</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span> <span class="preprocessor">#include "ble/gatt/DiscoveredCharacteristic.h"</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span> </div><div class="line"><a name="l00034"></a><span class="lineno">   34</span> <span class="keyword">namespace </span><a class="code" href="namespaceble.html">ble</a> {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span> </div><div class="line"><a name="l00036"></a><span class="lineno">   36</span> <span class="preprocessor">#if !defined(DOXYGEN_ONLY)</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span> <span class="keyword">namespace </span>impl {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span> <span class="keyword">class </span><a class="code" href="classble_1_1_gatt_client.html">GattClient</a>;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span> }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span> <span class="preprocessor">#endif // !defined(DOXYGEN_ONLY)</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span> <span class="comment"></span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span> <span class="comment">/**</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span> <span class="comment"> * @addtogroup ble</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span> <span class="comment"> * @{</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span> <span class="comment"> * @addtogroup gatt</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span> <span class="comment"> * @{</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span> <span class="comment"> * @addtogroup client</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span> <span class="comment"> * @{</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span> <span class="comment"> */</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span> <span class="comment"></span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span> <span class="comment">/**</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span> <span class="comment"> * Define procedures required for interacting with a distant GATT server.</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span> <span class="comment"> *</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span> <span class="comment"> * @par Discovery procedures</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span> <span class="comment"> *</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span> <span class="comment"> * A GATT server hosts a fixed set of services. These services are a logical</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span> <span class="comment"> * composition of characteristics that may be discovered, read, written or also</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span> <span class="comment"> * broadcast their state to a connected client. These characteristics may also</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span> <span class="comment"> * contain metainformation named characteristic descriptors. A characteristic</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span> <span class="comment"> * descriptor may be used to indicate the unit used for a characteristic value,</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span> <span class="comment"> * describe in a textual form the characterisic purpose or allow a client to</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span> <span class="comment"> * register for notification of updates of the characteristic value.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span> <span class="comment"> *</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span> <span class="comment"> * Prior to any interaction with server characteristic, a GATT client</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span> <span class="comment"> * discovers the layout of the services and characteristics present on the</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span> <span class="comment"> * server.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span> <span class="comment"> *</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span> <span class="comment"> * The layout of the descriptors of a characteristic may also be issued to</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span> <span class="comment"> * as an extra discovery step.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span> <span class="comment"> *</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span> <span class="comment"> * @par Attribute manipulation</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span> <span class="comment"> *</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span> <span class="comment"> * As a result of the discovery process, the client can start interacting with</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span> <span class="comment"> * the characteristic discovered. Depending on the characteristic properties</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span> <span class="comment"> * (acquired during discovery), a client can read or write the value of a given</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span> <span class="comment"> * characteristic.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span> <span class="comment"> *</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span> <span class="comment"> * Mbed BLE abstracts most read and write operations to offer a single API that</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span> <span class="comment"> * can be used to read or write characteristics values. Application code does not</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span> <span class="comment"> * have to handle the fragmentation/reassembly process necessary if the attribute</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span> <span class="comment"> * value to transported cannot fit in a single data packet.</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span> <span class="comment"> *</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span> <span class="comment"> * @par Server Initiated events</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span> <span class="comment"> *</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span> <span class="comment"> * If a characteristic has to notify or indicate a property set; then, a client may</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span> <span class="comment"> * register to a notification or indication from the characteristic. When the</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span> <span class="comment"> * server updates the characteristic value, the server can forward the</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span> <span class="comment"> * new value to the registered clients. The notification/indication mechanism</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span> <span class="comment"> * prevents polling from the client and therefore minimize the transactions</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span> <span class="comment"> * involved between a client and a server.</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span> <span class="comment"> *</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span> <span class="comment"> * Registration is made by writing the Client Characteristic Configuration</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span> <span class="comment"> * Descriptor, which is present in the characteristic if the notify or</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span> <span class="comment"> * indicate properties are set. The client discovers that descriptor</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span> <span class="comment"> * if it intends to register to server initiated events.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span> <span class="comment"> */</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html">   97</a></span> <span class="keyword">class </span><a class="code" href="classble_1_1_gatt_client.html">GattClient</a> {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span> <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span> <span class="comment">    /**</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span> <span class="comment">     * Definition of the general handler of GattClient related events.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span> <span class="comment">     */</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structble_1_1_gatt_client_1_1_event_handler.html">  102</a></span>     <span class="keyword">struct </span><a class="code" href="structble_1_1_gatt_client_1_1_event_handler.html">EventHandler</a> {<span class="comment"></span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span> <span class="comment">        /**</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span> <span class="comment">         * Function invoked when the connections changes the ATT_MTU which controls</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span> <span class="comment">         * the maximum size of an attribute that can be read in a single L2CAP packet</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span> <span class="comment">         * which might be fragmented across multiple packets.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span> <span class="comment">         *</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span> <span class="comment">         * @param connectionHandle The handle of the connection that changed the size.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span> <span class="comment">         * @param attMtuSize</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span> <span class="comment">         *</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span> <span class="comment">         * @see negotiateAttMtu()</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span> <span class="comment">         */</span></div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structble_1_1_gatt_client_1_1_event_handler.html#aa9c423cab92428dabc66cb43b0d94439">  113</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structble_1_1_gatt_client_1_1_event_handler.html#aa9c423cab92428dabc66cb43b0d94439">onAttMtuChange</a>(</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>             <a class="code" href="namespaceble.html#af5f34d537045518aa5462a3d42a4b38f">ble::connection_handle_t</a> connectionHandle,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>             uint16_t attMtuSize</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>         ) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>             (void)connectionHandle;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>             (void)attMtuSize;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>         }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>     <span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span> <span class="comment">        /**</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span> <span class="comment">         * Prevent polymorphic deletion and avoid unnecessary virtual destructor</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span> <span class="comment">         * as the GattClient class will never delete the instance it contains.</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span> <span class="comment">         */</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>         ~<a class="code" href="structble_1_1_gatt_client_1_1_event_handler.html">EventHandler</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>     };</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span> <span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span> <span class="comment">    /**</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span> <span class="comment">     * Assign the event handler implementation that will be used by the</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span> <span class="comment">     * module to signal events back to the application.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span> <span class="comment">     *</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span> <span class="comment">     * @param handler Application implementation of an EventHandler.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span> <span class="comment">     */</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>     <span class="keywordtype">void</span> setEventHandler(<a class="code" href="structble_1_1_gatt_client_1_1_event_handler.html">EventHandler</a> *handler);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span> <span class="comment"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span> <span class="comment">    /**</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span> <span class="comment">     * Attribute read event handler.</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span> <span class="comment">     *</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span> <span class="comment">     * @see GattClient::onDataRead().</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span> <span class="comment">     * @deprecated Use the version in global ble namespace.</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span> <span class="comment">     */</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>     <span class="keyword">typedef</span> <a class="code" href="class_function_pointer_with_context.html">FunctionPointerWithContext&lt;const GattReadCallbackParams*&gt;</a></div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a32967ff76e9e87b57e2940311a567e6b">  143</a></span>         <a class="code" href="classble_1_1_gatt_client.html#a32967ff76e9e87b57e2940311a567e6b">ReadCallback_t</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span> <span class="comment"></span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span> <span class="comment">    /**</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span> <span class="comment">     * Callchain of attribute read event handlers.</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span> <span class="comment">     * @deprecated Use the version in global ble namespace.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span> <span class="comment">     */</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>     <span class="keyword">typedef</span> <a class="code" href="class_call_chain_of_function_pointers_with_context.html">CallChainOfFunctionPointersWithContext&lt;const GattReadCallbackParams*&gt;</a></div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a76209a98000277b25677e9e81278bef2">  150</a></span>         <a class="code" href="classble_1_1_gatt_client.html#a76209a98000277b25677e9e81278bef2">ReadCallbackChain_t</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span> <span class="comment"></span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span> <span class="comment">    /**</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span> <span class="comment">     * GATT write operations.</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span> <span class="comment">     */</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a5471c5942a59a16d20317a0ce8ddcb3f">  155</a></span>     <span class="keyword">enum</span> <a class="code" href="classble_1_1_gatt_client.html#a5471c5942a59a16d20317a0ce8ddcb3f">WriteOp_t</a> {<span class="comment"></span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span> <span class="comment">        /**</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span> <span class="comment">         * Write request.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span> <span class="comment">         *</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span> <span class="comment">         * It is used to request the server to write the value of an attribute</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span> <span class="comment">         * and acknowledge that this has been achieved in a Write Response.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span> <span class="comment">         */</span></div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a5471c5942a59a16d20317a0ce8ddcb3fa9eaf2e07866edd30d10fb81da996aa8d">  162</a></span>         GATT_OP_WRITE_REQ = 0x01,</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span> <span class="comment"></span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span> <span class="comment">        /**</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span> <span class="comment">         * Write command.</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span> <span class="comment">         *</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span> <span class="comment">         * It is used to request the server to write the value of an attribute.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span> <span class="comment">         * The server does not acknowledge the status of the operation.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span> <span class="comment">         */</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a5471c5942a59a16d20317a0ce8ddcb3fa69f202fc42fd92cd4ac68bdd032bf207">  170</a></span>         GATT_OP_WRITE_CMD = 0x02,</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span> <span class="comment"></span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span> <span class="comment">        /**</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span> <span class="comment">         * Signed Write command.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span> <span class="comment">         *</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span> <span class="comment">         * It is used to request the server to write the value of an attribute</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span> <span class="comment">         * using a signed packet. The server does not acknowledge the status</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span> <span class="comment">         * of the operation.</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span> <span class="comment">         */</span></div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a5471c5942a59a16d20317a0ce8ddcb3fa2eef017fbd7b8a3a13c09fe5b6bfc4ce">  179</a></span>         GATT_OP_SIGNED_WRITE_CMD = 0x03</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>     };</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span> <span class="comment"></span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span> <span class="comment">    /**</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span> <span class="comment">     * Attribute write event handler.ble::WriteCallback_t</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span> <span class="comment">     *</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span> <span class="comment">     * @see GattClient::onDataWrite().</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span> <span class="comment">     * @deprecated Use the version in global ble namespace.</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span> <span class="comment">     */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>     <span class="keyword">typedef</span> <a class="code" href="class_function_pointer_with_context.html">FunctionPointerWithContext&lt;const GattWriteCallbackParams*&gt;</a></div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a6007d90f1f9e7c2e1b3265ff51a92be0">  189</a></span>         <a class="code" href="classble_1_1_gatt_client.html#a6007d90f1f9e7c2e1b3265ff51a92be0">WriteCallback_t</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span> <span class="comment"></span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span> <span class="comment">    /**</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span> <span class="comment">     * Callchain of attribute write event handlers.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span> <span class="comment">     *</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span> <span class="comment">     * @see GattClient::onDataWrite().</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span> <span class="comment">     * @deprecated Use the version in global ble namespace.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span> <span class="comment">     */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>     <span class="keyword">typedef</span> <a class="code" href="class_call_chain_of_function_pointers_with_context.html">CallChainOfFunctionPointersWithContext&lt;const GattWriteCallbackParams*&gt;</a></div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a2baafd72d83669d67c59555f74f77d8f">  198</a></span>         <a class="code" href="classble_1_1_gatt_client.html#a2baafd72d83669d67c59555f74f77d8f">WriteCallbackChain_t</a>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span> <span class="comment"></span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span> <span class="comment">    /**</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span> <span class="comment">     * Handle value notification/indication event handler.</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span> <span class="comment">     *</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span> <span class="comment">     * @see to GattClient::onHVX().</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span> <span class="comment">     */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>     <span class="keyword">typedef</span> <a class="code" href="class_function_pointer_with_context.html">FunctionPointerWithContext&lt;const GattHVXCallbackParams*&gt;</a></div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a51e224a198fe02e6888c6b8e41e630d3">  206</a></span>         <a class="code" href="classble_1_1_gatt_client.html#a51e224a198fe02e6888c6b8e41e630d3">HVXCallback_t</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span> <span class="comment"></span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span> <span class="comment">    /**</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span> <span class="comment">     * Callchain of handle value notification/indication event handlers.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span> <span class="comment">     *</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span> <span class="comment">     * @see GattClient::onHVX().</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span> <span class="comment">     */</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>     <span class="keyword">typedef</span> <a class="code" href="class_call_chain_of_function_pointers_with_context.html">CallChainOfFunctionPointersWithContext&lt;const GattHVXCallbackParams*&gt;</a></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a402152521fef7b19c324524b88dc2b4f">  214</a></span>         <a class="code" href="classble_1_1_gatt_client.html#a402152521fef7b19c324524b88dc2b4f">HVXCallbackChain_t</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span> <span class="comment"></span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span> <span class="comment">    /**</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span> <span class="comment">     * Shutdown event handler.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span> <span class="comment">     *</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span> <span class="comment">     * @see GattClient::onShutdown().</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span> <span class="comment">     */</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>     <span class="keyword">typedef</span> <a class="code" href="class_function_pointer_with_context.html">FunctionPointerWithContext&lt;const GattClient *&gt;</a></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a0ef6864279476dc001b72d9c179c399c">  222</a></span>         <a class="code" href="classble_1_1_gatt_client.html#a0ef6864279476dc001b72d9c179c399c">GattClientShutdownCallback_t</a>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span> </div><div class="line"><a name="l00224"></a><span class="lineno">  224</span> <span class="comment"></span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span> <span class="comment">    /**</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span> <span class="comment">     * Callchain of shutdown event handlers.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span> <span class="comment">     *</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span> <span class="comment">     * @see to GattClient::onShutown().</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span> <span class="comment">     */</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>     <span class="keyword">typedef</span> <a class="code" href="class_call_chain_of_function_pointers_with_context.html">CallChainOfFunctionPointersWithContext&lt;const GattClient *&gt;</a></div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#aaa9975786cdc25172afbf5dd7f5bbb5e">  231</a></span>         <a class="code" href="classble_1_1_gatt_client.html#aaa9975786cdc25172afbf5dd7f5bbb5e">GattClientShutdownCallbackChain_t</a>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span> </div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>     <span class="comment">/*</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span> <span class="comment">     * The following functions are meant to be overridden in the platform</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span> <span class="comment">     * specific subclass.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span> <span class="comment">     */</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span> </div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>     ~<a class="code" href="classble_1_1_gatt_client.html">GattClient</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span> <span class="comment"></span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span> <span class="comment">    /**</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span> <span class="comment">     * Launch the service and characteristic discovery procedure of a GATT server</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span> <span class="comment">     * peer.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span> <span class="comment">     *</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span> <span class="comment">     * The procedure invokes application callbacks for matching services or</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span> <span class="comment">     * characteristics. The process ends after all the services and</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span> <span class="comment">     * characteristics present on the distant GATT server have been discovered.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span> <span class="comment">     * Termination callbacks registered with onServiceDiscoveryTermination() are</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span> <span class="comment">     * invoked to notify the application of the termination of the procedure.</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span> <span class="comment">     *</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span> <span class="comment">     * Application code can track the status of the procedure by invoking the</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span> <span class="comment">     * function isServiceDiscoveryActive(), which returns true if the</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span> <span class="comment">     * procedure is ongoing.</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span> <span class="comment">     *</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span> <span class="comment">     * At any point, application code can prematurely terminate the discovery</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span> <span class="comment">     * procedure by calling terminateServiceDiscovery().</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span> <span class="comment">     *</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span> <span class="comment">     * @param[in] connectionHandle Handle of the connection with the peer GATT</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span> <span class="comment">     * server.</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span> <span class="comment">     * @param[in] sc Service discovered event handler invoked when a matching</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span> <span class="comment">     * service has been discovered. This parameter may be NULL.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span> <span class="comment">     * @param[in] cc Characteristic discovered event handler invoked when a</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span> <span class="comment">     * matching characteristic has been found. This parameter may be NULL.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span> <span class="comment">     * @param[in] matchingServiceUUID UUID of the service the caller is</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span> <span class="comment">     * interested in. If a service discovered matches this filter, then @p sc is</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span> <span class="comment">     * invoked with it. The special value BLE_UUID_UNKNOWN acts as a wildcard,</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span> <span class="comment">     * which can be used to discover all services present on the peer GATT</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span> <span class="comment">     * server.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span> <span class="comment">     * @param[in] matchingCharacteristicUUIDIn UUID of the characteristic the</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span> <span class="comment">     * caller is interested in. If a characteristic discovered matches this</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span> <span class="comment">     * filter, then @p cc is  invoked with it. The special value BLE_UUID_UNKNOWN</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span> <span class="comment">     * acts as a wildcard, which can be used to discover all services present on</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span> <span class="comment">     * the peer GATT server.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span> <span class="comment">     *</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span> <span class="comment">     * @par Discovery procedure implementation detail</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span> <span class="comment">     *</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span> <span class="comment">     * It is recommended to implement several strategies based on the</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span> <span class="comment">     * combination of callbacks and filters passed in input to efficiently</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span> <span class="comment">     * realize the discovery procedure:</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span> <span class="comment">     * - If @p sc and @p cc are NULL, then it is not necessay to initiate any</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span> <span class="comment">     * discovery, and the termination handlers can be invoked immediately.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span> <span class="comment">     * - If @p matchingServiceUUID is set, then the GATT discover services by</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span> <span class="comment">     * service UUID procedure should be used; otherwise, the GATT discover primary</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span> <span class="comment">     * services procedure should be used.</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span> <span class="comment">     * - If @p cc is NULL, then the discovery process should end after the discovery</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span> <span class="comment">     * of the services.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span> <span class="comment">     *</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span> <span class="comment">     * @return BLE_ERROR_NONE if the discovery procedure has been successfully</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span> <span class="comment">     * started and an appropriate error otherwise.</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span> <span class="comment">     */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>     <a class="code" href="group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4">ble_error_t</a> launchServiceDiscovery(</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>         <a class="code" href="namespaceble.html#af5f34d537045518aa5462a3d42a4b38f">ble::connection_handle_t</a> connectionHandle,</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>         <a class="code" href="class_function_pointer_with_context.html">ServiceDiscovery::ServiceCallback_t</a> sc = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>         <a class="code" href="class_function_pointer_with_context.html">ServiceDiscovery::CharacteristicCallback_t</a>  cc = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>         <span class="keyword">const</span> <a class="code" href="class_u_u_i_d.html">UUID</a> &amp;matchingServiceUUID = <a class="code" href="class_u_u_i_d.html#a27e142aba5eac40a55bebb300fe19766">UUID::ShortUUIDBytes_t</a>(<a class="code" href="group__common.html#ggaa7df87806f64f3b241c8cde9eb57cad5abbb64a7440ad9bbd4317ee852737f585">BLE_UUID_UNKNOWN</a>),</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>         <span class="keyword">const</span> <a class="code" href="class_u_u_i_d.html">UUID</a> &amp;matchingCharacteristicUUIDIn = <a class="code" href="class_u_u_i_d.html#a27e142aba5eac40a55bebb300fe19766">UUID::ShortUUIDBytes_t</a>(<a class="code" href="group__common.html#ggaa7df87806f64f3b241c8cde9eb57cad5abbb64a7440ad9bbd4317ee852737f585">BLE_UUID_UNKNOWN</a>)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>     );</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span> <span class="comment"></span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span> <span class="comment">    /**</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span> <span class="comment">     * Launch the service discovery procedure of a GATT server peer.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span> <span class="comment">     *</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span> <span class="comment">     * The procedure invokes the application callback for matching services.</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span> <span class="comment">     * The process ends after all the services present on the distant GATT</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span> <span class="comment">     * server have been discovered.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span> <span class="comment">     * Termination callbacks registered with onServiceDiscoveryTermination() are</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span> <span class="comment">     * invoked to notify the application of the termination of the procedure.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span> <span class="comment">     *</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span> <span class="comment">     * Application code can track the status of the procedure by invoking the</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span> <span class="comment">     * function isServiceDiscoveryActive(), which returns true if the</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span> <span class="comment">     * procedure is ongoing.</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span> <span class="comment">     *</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span> <span class="comment">     * At any point, application code can prematurely terminate the discovery</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span> <span class="comment">     * procedure by calling terminateServiceDiscovery().</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span> <span class="comment">     *</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span> <span class="comment">     * @param[in] connectionHandle Handle of the connection with the peer GATT</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span> <span class="comment">     * server.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span> <span class="comment">     * @param[in] callback Service discovered event handler invoked when a</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span> <span class="comment">     * matching service has been discovered. This parameter may be NULL.</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span> <span class="comment">     * @param[in] matchingServiceUUID UUID of the service the caller is</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span> <span class="comment">     * interested in. If a service discovered matches this filter, then @p sc is</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span> <span class="comment">     * invoked with it. The special value BLE_UUID_UNKNOWN act is a wildcard,</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span> <span class="comment">     * which can be used to discover all services present on the peer GATT</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span> <span class="comment">     * server.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span> <span class="comment">     *</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span> <span class="comment">     * @return BLE_ERROR_NONE if the discovery procedure has been successfully</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span> <span class="comment">     * started and an appropriate error otherwise.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span> <span class="comment">     */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>     <a class="code" href="group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4">ble_error_t</a> discoverServices(</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>         <a class="code" href="namespaceble.html#af5f34d537045518aa5462a3d42a4b38f">ble::connection_handle_t</a> connectionHandle,</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>         <a class="code" href="class_function_pointer_with_context.html">ServiceDiscovery::ServiceCallback_t</a> <a class="code" href="group__platform___callback.html#ga1104a807bfce1d1dc38e4d1eeba6ed17">callback</a>,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>         <span class="keyword">const</span> <a class="code" href="class_u_u_i_d.html">UUID</a> &amp;matchingServiceUUID = <a class="code" href="class_u_u_i_d.html#a27e142aba5eac40a55bebb300fe19766">UUID::ShortUUIDBytes_t</a>(<a class="code" href="group__common.html#ggaa7df87806f64f3b241c8cde9eb57cad5abbb64a7440ad9bbd4317ee852737f585">BLE_UUID_UNKNOWN</a>)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>     );</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span> <span class="comment"></span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span> <span class="comment">    /**</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span> <span class="comment">     * Launch the service discovery procedure of a GATT server peer.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span> <span class="comment">     *</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span> <span class="comment">     * The process ends after all the services present in the attribute range @p</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span> <span class="comment">     * startHandle to @p endHandle have been discovered.</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span> <span class="comment">     *</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span> <span class="comment">     * Termination callbacks registered with onServiceDiscoveryTermination() are</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span> <span class="comment">     * invoked to notify the application of the termination of the procedure.</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span> <span class="comment">     *</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span> <span class="comment">     * Application code can track the status of the procedure by invoking the</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span> <span class="comment">     * function isServiceDiscoveryActive(), which returns true if the</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span> <span class="comment">     * procedure is ongoing.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span> <span class="comment">     *</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span> <span class="comment">     * At any point, application code can prematurely terminate the discovery</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span> <span class="comment">     * procedure by calling terminateServiceDiscovery().</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span> <span class="comment">     *</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span> <span class="comment">     * @param[in] connectionHandle Handle of the connection with the peer GATT</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span> <span class="comment">     * server.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span> <span class="comment">     * @param[in] callback Service discovered event handler invoked when a</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span> <span class="comment">     * matching service has been discovered. This parameter may be NULL.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span> <span class="comment">     * @param[in] startHandle First attribute handle of the discovery range.</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span> <span class="comment">     * @param[in] endHandle end Lasr attribute handle of the discovery range.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span> <span class="comment">     *</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span> <span class="comment">     * @return BLE_ERROR_NONE if the discovery procedure has been successfully</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span> <span class="comment">     * started and an appropriate error otherwise.</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span> <span class="comment">     */</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>     <a class="code" href="group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4">ble_error_t</a> discoverServices(</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>         <a class="code" href="namespaceble.html#af5f34d537045518aa5462a3d42a4b38f">ble::connection_handle_t</a> connectionHandle,</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>         <a class="code" href="class_function_pointer_with_context.html">ServiceDiscovery::ServiceCallback_t</a> callback,</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>         <a class="code" href="class_gatt_attribute.html#a2ffe413dd7b6a0775ebbabc58f8f48d4">GattAttribute::Handle_t</a> startHandle,</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>         <a class="code" href="class_gatt_attribute.html#a2ffe413dd7b6a0775ebbabc58f8f48d4">GattAttribute::Handle_t</a> endHandle</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>     );</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span> <span class="comment"></span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span> <span class="comment">    /**</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span> <span class="comment">     * Check if the service discovery procedure is currently active.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span> <span class="comment">     *</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span> <span class="comment">     * @return true if service discovery procedure is active and false otherwise.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span> <span class="comment">     */</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>     <span class="keywordtype">bool</span> isServiceDiscoveryActive() <span class="keyword">const</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span> <span class="comment"></span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span> <span class="comment">    /**</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span> <span class="comment">     * Terminate all ongoing service discovery procedures.</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span> <span class="comment">     *</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span> <span class="comment">     * It results in an invocation of the service discovery termination handler</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span> <span class="comment">     * registered with onServiceDiscoveryTermination().</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span> <span class="comment">     */</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>     <span class="keywordtype">void</span> terminateServiceDiscovery();</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span> <span class="comment"></span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span> <span class="comment">    /**</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span> <span class="comment">     * Initiate the read procedure of an attribute handle.</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span> <span class="comment">     *</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span> <span class="comment">     * Once the attribute value has been read in its entirety, the process issues</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span> <span class="comment">     * an attribute read event and passes it to all events handlers registered</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span> <span class="comment">     * by onDataRead.</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span> <span class="comment">     *</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span> <span class="comment">     * @param[in] connHandle Handle of the connection used to send the read</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span> <span class="comment">     * request.</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span> <span class="comment">     * @param[in] attributeHandle Handle of the attribute to read data from.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span> <span class="comment">     * @param[in] offset The offset from the start of the attribute value to be</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span> <span class="comment">     * read.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span> <span class="comment">     *</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span> <span class="comment">     * @return BLE_ERROR_NONE if read procedure successfully started.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span> <span class="comment">     *</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span> <span class="comment">     * @par Implementation notes:</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span> <span class="comment">     *</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span> <span class="comment">     * Reading the attribute value in its entirety may involve sending several</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span> <span class="comment">     * GATT requests to the peer. The following algorithm may be used to</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span> <span class="comment">     * implement the process:</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span> <span class="comment">     *</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span> <span class="comment">     * If the offset is equal to 0, then send a read request; otherwise, send a</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span> <span class="comment">     * read blob request at the specified offset.</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span> <span class="comment">     *</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span> <span class="comment">     * While the attribute data in the response are MTU - 1 long:</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span> <span class="comment">     *   - Concat the response to the value containing the previous responses.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span> <span class="comment">     *   - Increment the value of the offset by MTU - 1.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span> <span class="comment">     *   - Send a read blob request with the updated offset.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span> <span class="comment">     *</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span> <span class="comment">     * Finally, concat the last response with the value containing all the</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span> <span class="comment">     * previous responses and forward that value to the event handlers.</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span> <span class="comment">     */</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>     <a class="code" href="group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4">ble_error_t</a> read(</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>         <a class="code" href="namespaceble.html#af5f34d537045518aa5462a3d42a4b38f">ble::connection_handle_t</a> connHandle,</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>         <a class="code" href="class_gatt_attribute.html#a2ffe413dd7b6a0775ebbabc58f8f48d4">GattAttribute::Handle_t</a> attributeHandle,</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>         uint16_t offset</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>     ) <span class="keyword">const</span>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span> <span class="comment"></span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span> <span class="comment">    /**</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span> <span class="comment">     * Initiate a write procedure on an attribute value.</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span> <span class="comment">     *</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span> <span class="comment">     * If @p cmd is equal to GATT_OP_WRITE_REQ, then the status of the operation</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span> <span class="comment">     * is reported to the event handlers registered through onDataWritten().</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span> <span class="comment">     *</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span> <span class="comment">     * @param[in] cmd Type of the write procedure used. If GATT_OP_WRITE_CMD</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span> <span class="comment">     * is set, then value length is not greater than the size of the mtu</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span> <span class="comment">     * of connHandle minus three.</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span> <span class="comment">     * @param[in] connHandle Handle of the connection used to send the write</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span> <span class="comment">     * request or command.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span> <span class="comment">     * @param[in] attributeHandle Handle of the attribute value to write.</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span> <span class="comment">     * @param[in] length Number of bytes present in @p value.</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span> <span class="comment">     * @param[in] value Data buffer to write to attributeHandle.</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span> <span class="comment">     *</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span> <span class="comment">     * @return BLE_ERROR_NONE if the write procedure successfully started.</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span> <span class="comment">     *</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span> <span class="comment">     * @par Implementation notes:</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span> <span class="comment">     *</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span> <span class="comment">     * If the operation is a write command, then an implementation uses the</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span> <span class="comment">     * GATT write without response procedure and an error is returned if</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span> <span class="comment">     * the data buffer to write is larger than the size of the MTU - 3.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span> <span class="comment">     *</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span> <span class="comment">     * If the operation is a write command and the size of the data buffer to</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span> <span class="comment">     * write is less than than the size of the MTU - 3, then the ATT write request</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span> <span class="comment">     * procedure is used, and the response is reported to the handlers</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span> <span class="comment">     * listening for write response.</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span> <span class="comment">     *</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span> <span class="comment">     * Otherwise, the data buffer to write is divided in chunks with a</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span> <span class="comment">     * maximum size of MTU - 5. Those chunks are sent sequentially to the</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span> <span class="comment">     * peer in ATT prepare write requests. If an error response is received</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span> <span class="comment">     * during the process, the procedure ends immediately, the prepared</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span> <span class="comment">     * write is discarded and an error is reported to the application handlers.</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span> <span class="comment">     * Once all the chunks have been sent, the transaction is completed</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span> <span class="comment">     * by sending an execute write request to the peer. The peer response is</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span> <span class="comment">     * forwarded to the application handlers.</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span> <span class="comment">     */</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>     <a class="code" href="group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4">ble_error_t</a> write(</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>         <a class="code" href="classble_1_1_gatt_client.html#a5471c5942a59a16d20317a0ce8ddcb3f">GattClient::WriteOp_t</a> cmd,</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>         <a class="code" href="namespaceble.html#af5f34d537045518aa5462a3d42a4b38f">ble::connection_handle_t</a> connHandle,</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>         <a class="code" href="class_gatt_attribute.html#a2ffe413dd7b6a0775ebbabc58f8f48d4">GattAttribute::Handle_t</a> attributeHandle,</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>         <span class="keywordtype">size_t</span> length,</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>         <span class="keyword">const</span> uint8_t *value</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>     ) <span class="keyword">const</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span> </div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>     <span class="comment">/* Event callback handlers. */</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span> <span class="comment"></span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span> <span class="comment">    /**</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span> <span class="comment">     * Register an attribute read event handler.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span> <span class="comment">     *</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span> <span class="comment">     * @note It is possible to unregister a callback using</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span> <span class="comment">     * onDataRead().detach(callbackToRemove).</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span> <span class="comment">     *</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span> <span class="comment">     * @param[in] callback Event handler being registered.</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span> <span class="comment">     */</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>     <span class="keywordtype">void</span> onDataRead(<a class="code" href="class_function_pointer_with_context.html">ble::ReadCallback_t</a> callback);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span> <span class="comment"></span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span> <span class="comment">    /**</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span> <span class="comment">     * Get the callchain of attribute read event handlers.</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span> <span class="comment">     *</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span> <span class="comment">     * @return A reference to the read event callback chain.</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span> <span class="comment">     *</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span> <span class="comment">     * @note It is possible to register new handlers using</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span> <span class="comment">     * onDataRead().add(callback).</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span> <span class="comment">     *</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span> <span class="comment">     * @note It is possible to unregister an handler by using</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span> <span class="comment">     * onDataRead().detach(callback).</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span> <span class="comment">     */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>     <a class="code" href="class_call_chain_of_function_pointers_with_context.html">ble::ReadCallbackChain_t</a>&amp; onDataRead();</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span> <span class="comment"></span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span> <span class="comment">    /**</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span> <span class="comment">     * Register an attribute write event handler.</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span> <span class="comment">     *</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span> <span class="comment">     * @param[in] callback Event handler being registered.</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span> <span class="comment">     *</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span> <span class="comment">     * @note It is possible to remove registered handlers using</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span> <span class="comment">     * onDataWritten().detach(callbackToRemove).</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span> <span class="comment">     *</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span> <span class="comment">     * @note Write commands (issued using writeWoResponse) don't generate a</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span> <span class="comment">     * response.</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span> <span class="comment">     */</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>     <span class="keywordtype">void</span> onDataWritten(<a class="code" href="class_function_pointer_with_context.html">ble::WriteCallback_t</a> callback);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span> <span class="comment"></span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span> <span class="comment">    /**</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span> <span class="comment">     * Get the callchain of attribute write event handlers.</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span> <span class="comment">     *</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span> <span class="comment">     * @return A reference to the data written callbacks chain.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span> <span class="comment">     *</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span> <span class="comment">     * @note It is possible to register new handlers by using</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span> <span class="comment">     * onDataWritten().add(callback).</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span> <span class="comment">     *</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span> <span class="comment">     * @note It is possible to unregister an handler by using</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span> <span class="comment">     * onDataWritten().detach(callback).</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span> <span class="comment">     */</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>     <a class="code" href="class_call_chain_of_function_pointers_with_context.html">ble::WriteCallbackChain_t</a>&amp; onDataWritten();</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span> <span class="comment"></span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span> <span class="comment">    /**</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span> <span class="comment">     * Register a service discovery termination event handler.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span> <span class="comment">     *</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span> <span class="comment">     * @param[in] callback Event handler being registered.</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span> <span class="comment">     */</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>     <span class="keywordtype">void</span> onServiceDiscoveryTermination(</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>         <a class="code" href="class_function_pointer_with_context.html">ServiceDiscovery::TerminationCallback_t</a> callback</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>     );</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span> <span class="comment"></span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span> <span class="comment">    /**</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span> <span class="comment">     * Initiate the descriptor discovery procedure for a given characteristic.</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span> <span class="comment">     *</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span> <span class="comment">     * When a descriptor is discovered the discovered descriptor is forwarded</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span> <span class="comment">     * to @p discoveryCallback. After the discovery of all the descriptors, the</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span> <span class="comment">     * procedure ends and send a descriptor discovery termination event to @p</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span> <span class="comment">     * termination callback.</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span> <span class="comment">     *</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span> <span class="comment">     * Application code may monitor the discovery process by querying its status</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span> <span class="comment">     * with isCharacteristicDescriptorDiscoveryActive(). It can also end the</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span> <span class="comment">     * discovery process by calling terminateCharacteristicDescriptorDiscovery().</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span> <span class="comment">     *</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span> <span class="comment">     * @param[in] characteristic The characteristic owning the descriptors to</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span> <span class="comment">     * discover.</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span> <span class="comment">     * @param[in] discoveryCallback Handle descriptor discovered events for the</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span> <span class="comment">     * duration of the procedure.</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span> <span class="comment">     * @param[in] terminationCallback Handle descriptor discovery termination</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span> <span class="comment">     * event of the procedure.</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span> <span class="comment">     *</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span> <span class="comment">     * @return BLE_ERROR_NONE if the characteristic descriptor discovery</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span> <span class="comment">     * procedure has been launched successfully otherwise an appropriate error.</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span> <span class="comment">     */</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>     <a class="code" href="group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4">ble_error_t</a> discoverCharacteristicDescriptors(</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>         <span class="keyword">const</span> <a class="code" href="class_discovered_characteristic.html">DiscoveredCharacteristic</a>&amp; characteristic,</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>         <span class="keyword">const</span> <a class="code" href="class_function_pointer_with_context.html">CharacteristicDescriptorDiscovery::DiscoveryCallback_t</a>&amp; discoveryCallback,</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>         <span class="keyword">const</span> <a class="code" href="class_function_pointer_with_context.html">CharacteristicDescriptorDiscovery::TerminationCallback_t</a>&amp; terminationCallback</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>     );</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span> <span class="comment"></span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span> <span class="comment">    /**</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span> <span class="comment">     * Query status of the descriptor discovery procedure for a given</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span> <span class="comment">     * characteristic.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span> <span class="comment">     *</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span> <span class="comment">     * @param[in] characteristic The characteristic concerned by the descriptors</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span> <span class="comment">     * discovery.</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span> <span class="comment">     *</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span> <span class="comment">     * @return true if a descriptors discovery is active for the characteristic</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span> <span class="comment">     * in input otherwise false.</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span> <span class="comment">     */</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>     <span class="keywordtype">bool</span> isCharacteristicDescriptorDiscoveryActive(</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>         <span class="keyword">const</span> <a class="code" href="class_discovered_characteristic.html">DiscoveredCharacteristic</a>&amp; characteristic</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>     ) <span class="keyword">const</span>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span> <span class="comment"></span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span> <span class="comment">    /**</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span> <span class="comment">     * @brief Terminate an ongoing characteristic descriptor discovery procedure.</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span> <span class="comment">     *</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span> <span class="comment">     * If the procedure is active, then it ends, and the termination handler</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span> <span class="comment">     * associated with the procedure is called.</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span> <span class="comment">     *</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span> <span class="comment">     * @param[in] characteristic The characteristic containing the descriptors</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span> <span class="comment">     * being discovered.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span> <span class="comment">     */</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>     <span class="keywordtype">void</span> terminateCharacteristicDescriptorDiscovery(</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>         <span class="keyword">const</span> <a class="code" href="class_discovered_characteristic.html">DiscoveredCharacteristic</a>&amp; characteristic</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>     );</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span> <span class="comment"></span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span> <span class="comment">    /**</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span> <span class="comment">     * Trigger MTU negotiation. This might result in a Gap event onAttMtuChange</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span> <span class="comment">     * being called if MTU changes.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span> <span class="comment">     *</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span> <span class="comment">     * @note This does not guarantee a change in MTU size. If size remains</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span> <span class="comment">     * unchanged no event will be generated.</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span> <span class="comment">     *</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span> <span class="comment">     * @param connection Connection on which the MTU is to be negotiated.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span> <span class="comment">     *</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span> <span class="comment">     * @return BLE_ERROR_NONE if the procedure has been launched successfully</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span> <span class="comment">     * otherwise an appropriate error.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span> <span class="comment">     */</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>     <a class="code" href="group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4">ble_error_t</a> negotiateAttMtu(<a class="code" href="namespaceble.html#af5f34d537045518aa5462a3d42a4b38f">ble::connection_handle_t</a> connection);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span> <span class="comment"></span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span> <span class="comment">    /**</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span> <span class="comment">     * Register an handler for Handle Value Notification/Indication events.</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span> <span class="comment">     *</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span> <span class="comment">     * @param callback Event handler to register.</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span> <span class="comment">     *</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span> <span class="comment">     * @note It is possible to unregister a callback by using</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span> <span class="comment">     * onHVX().detach(callbackToRemove).</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span> <span class="comment">     */</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>     <span class="keywordtype">void</span> onHVX(<a class="code" href="class_function_pointer_with_context.html">HVXCallback_t</a> callback);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span> <span class="comment"></span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span> <span class="comment">    /**</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span> <span class="comment">     * Register a shutdown event handler.</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span> <span class="comment">     *</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span> <span class="comment">     * The registered handler is invoked when the GattClient instance is</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span> <span class="comment">     * about to be shut down.</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span> <span class="comment">     *</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span> <span class="comment">     * @param[in] callback Event handler to invoke when a shutdown event is</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span> <span class="comment">     * available.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span> <span class="comment">     *</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span> <span class="comment">     * @note onShutdown().detach(callback) may be used to unregister a given</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span> <span class="comment">     * callback.</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span> <span class="comment">     *</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span> <span class="comment">     * @see BLE::shutdown()</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span> <span class="comment">     */</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>     <span class="keywordtype">void</span> onShutdown(<span class="keyword">const</span> <a class="code" href="class_function_pointer_with_context.html">GattClientShutdownCallback_t</a>&amp; callback);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span> <span class="comment"></span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span> <span class="comment">    /**</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span> <span class="comment">     * Register a shutdown event handler.</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span> <span class="comment">     *</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span> <span class="comment">     * The registered handler is invoked when the GattClient instance is</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span> <span class="comment">     * about to be shut down.</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span> <span class="comment">     *</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span> <span class="comment">     * @param[in] objPtr Instance that will be used to invoke @p memberPtr.</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span> <span class="comment">     * @param[in] memberPtr Event handler to invoke when a shutdown event is</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span> <span class="comment">     * available.</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span> <span class="comment">     */</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="classble_1_1_gatt_client.html#a43cdbd48655ab64d0e8a5770b6b96cec">  630</a></span>     <span class="keywordtype">void</span> <a class="code" href="classble_1_1_gatt_client.html#a43cdbd48655ab64d0e8a5770b6b96cec">onShutdown</a>(T *objPtr, <span class="keywordtype">void</span> (T::*memberPtr)(<span class="keyword">const</span> <a class="code" href="classble_1_1_gatt_client.html">GattClient</a> *))</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>     {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>         onShutdown({objPtr, memberPtr});</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>     }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span> <span class="comment"></span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span> <span class="comment">    /**</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span> <span class="comment">     * Get the callchain of shutdown event handlers.</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span> <span class="comment">     *</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span> <span class="comment">     * @return A reference to the shutdown event callbacks chain.</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span> <span class="comment">     *</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span> <span class="comment">     * @note onShutdown().add(callback) may be used to register new handlers.</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span> <span class="comment">     *</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span> <span class="comment">     * @note onShutdown().detach(callback) may be used to unregister an handler.</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span> <span class="comment">     */</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>     <a class="code" href="class_call_chain_of_function_pointers_with_context.html">GattClientShutdownCallbackChain_t</a>&amp; onShutdown();</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span> <span class="comment"></span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span> <span class="comment">    /**</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span> <span class="comment">     * @brief provide access to the callchain of HVX callbacks.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span> <span class="comment">     *</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span> <span class="comment">     * @return A reference to the HVX callbacks chain.</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span> <span class="comment">     *</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span> <span class="comment">     * @note It is possible to register callbacks using onHVX().add(callback).</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span> <span class="comment">     *</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span> <span class="comment">     * @note It is possible to unregister callbacks using onHVX().detach(callback).</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span> <span class="comment">     */</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>     <a class="code" href="class_call_chain_of_function_pointers_with_context.html">HVXCallbackChain_t</a>&amp; onHVX();</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span> <span class="comment"></span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span> <span class="comment">    /**</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span> <span class="comment">     * Reset the state of the GattClient instance.</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span> <span class="comment">     *</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span> <span class="comment">     * Prior to any state modification, shutdown event handlers are notified</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span> <span class="comment">     * that the GattClient instance is about to be shut down. Then, running</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span> <span class="comment">     * procedures end. Finally, the state of the instance is reset.</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span> <span class="comment">     *</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span> <span class="comment">     * @par implementation note</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span> <span class="comment">     *</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span> <span class="comment">     * This function is meant to be overridden in the platform-specific</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span> <span class="comment">     * subclass. Nevertheless, the subclass only resets its</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span> <span class="comment">     * state and not the data held in GattClient members. This is achieved</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span> <span class="comment">     * by a call to GattClient::reset() from the subclass' reset()</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span> <span class="comment">     * implementation.</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span> <span class="comment">     *</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span> <span class="comment">     * @return BLE_ERROR_NONE on success.</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span> <span class="comment">     */</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>     <a class="code" href="group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4">ble_error_t</a> reset();</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span> </div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>     <span class="comment">/* Entry points for the underlying stack to report events back to the user. */</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span> <span class="comment"></span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span> <span class="comment">    /**</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span> <span class="comment">     * Forward an attribute read event to all registered handlers.</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span> <span class="comment">     *</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span> <span class="comment">     * @attention This function is meant to be called from the vendor</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span> <span class="comment">     * implementation when an attribute read event occurs.</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span> <span class="comment">     *</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span> <span class="comment">     * @param[in] params Attribute read event to pass to the registered handlers.</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span> <span class="comment">     */</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>     <span class="keywordtype">void</span> processReadResponse(<span class="keyword">const</span> <a class="code" href="struct_gatt_read_callback_params.html">GattReadCallbackParams</a> *params);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span> <span class="comment"></span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span> <span class="comment">    /**</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span> <span class="comment">     * Forward an attribute written event to all registered handlers.</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span> <span class="comment">     *</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span> <span class="comment">     * @attention This function is meant to be called from the vendor</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span> <span class="comment">     * implementation when an attribute written event occurs.</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span> <span class="comment">     *</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span> <span class="comment">     * @param[in] params Attribute written event to pass to the registered</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span> <span class="comment">     * handlers.</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span> <span class="comment">     */</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>     <span class="keywordtype">void</span> processWriteResponse(<span class="keyword">const</span> <a class="code" href="struct_gatt_write_callback_params.html">GattWriteCallbackParams</a> *params);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span> <span class="comment"></span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span> <span class="comment">    /**</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span> <span class="comment">     * Forward a handle value notification or indication event to all registered</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span> <span class="comment">     * handlers.</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span> <span class="comment">     *</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span> <span class="comment">     * @attention This function is meant to be called from the vendor</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span> <span class="comment">     * implementation when a notification or indication event is available.</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span> <span class="comment">     *</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span> <span class="comment">     * @param[in] params Notification or Indication event to pass to the</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span> <span class="comment">     * registered handlers.</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span> <span class="comment">     */</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>     <span class="keywordtype">void</span> processHVXEvent(<span class="keyword">const</span> <a class="code" href="struct_gatt_h_v_x_callback_params.html">GattHVXCallbackParams</a> *params);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span> </div><div class="line"><a name="l00711"></a><span class="lineno">  711</span> <span class="preprocessor">#if !defined(DOXYGEN_ONLY)</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>     <a class="code" href="classble_1_1_gatt_client.html">GattClient</a>(impl::GattClient* impl) : impl(impl) { }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>     <a class="code" href="classble_1_1_gatt_client.html">GattClient</a>(<span class="keyword">const</span> <a class="code" href="classble_1_1_gatt_client.html">GattClient</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>     <a class="code" href="classble_1_1_gatt_client.html">GattClient</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classble_1_1_gatt_client.html">GattClient</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span> <span class="preprocessor">#endif // !defined(DOXYGEN_ONLY)</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span> </div><div class="line"><a name="l00717"></a><span class="lineno">  717</span> <span class="keyword">private</span>:</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>     impl::GattClient *impl;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span> };</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span> <span class="comment"></span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span> <span class="comment">/**</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span> <span class="comment"> * @}</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span> <span class="comment"> * @}</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span> <span class="comment"> * @}</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span> <span class="comment"> */</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span> </div><div class="line"><a name="l00727"></a><span class="lineno">  727</span> } <span class="comment">// namespace ble</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span> <span class="comment"></span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span> <span class="comment">/** @deprecated Use the namespaced ble::GattClient instead of the global GattClient. */</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span> <span class="keyword">using</span> <a class="code" href="classble_1_1_gatt_client.html">ble::GattClient</a>;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span> </div><div class="line"><a name="l00732"></a><span class="lineno">  732</span> <span class="preprocessor">#endif </span><span class="comment">/* ifndef MBED_GATT_CLIENT_H__ */</span><span class="preprocessor"></span></div><div class="ttc" id="class_function_pointer_with_context_html"><div class="ttname"><a href="class_function_pointer_with_context.html">FunctionPointerWithContext</a></div><div class="ttdoc">Function like object adapter over freestanding and member functions. </div><div class="ttdef"><b>Definition:</b> <a href="common_2_function_pointer_with_context_8h_source.html#l00058">common/FunctionPointerWithContext.h:58</a></div></div>
<div class="ttc" id="structble_1_1_gatt_client_1_1_event_handler_html"><div class="ttname"><a href="structble_1_1_gatt_client_1_1_event_handler.html">ble::GattClient::EventHandler</a></div><div class="ttdoc">Definition of the general handler of GattClient related events. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00102">GattClient.h:102</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_a0ef6864279476dc001b72d9c179c399c"><div class="ttname"><a href="classble_1_1_gatt_client.html#a0ef6864279476dc001b72d9c179c399c">ble::GattClient::GattClientShutdownCallback_t</a></div><div class="ttdeci">FunctionPointerWithContext&lt; const GattClient * &gt; GattClientShutdownCallback_t</div><div class="ttdoc">Shutdown event handler. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00222">GattClient.h:222</a></div></div>
<div class="ttc" id="namespaceble_html_af5f34d537045518aa5462a3d42a4b38f"><div class="ttname"><a href="namespaceble.html#af5f34d537045518aa5462a3d42a4b38f">ble::connection_handle_t</a></div><div class="ttdeci">uintptr_t connection_handle_t</div><div class="ttdoc">Opaque reference to a connection. </div><div class="ttdef"><b>Definition:</b> <a href="common_2_b_l_e_types_8h_source.html#l00090">common/BLETypes.h:90</a></div></div>
<div class="ttc" id="class_discovered_characteristic_html"><div class="ttname"><a href="class_discovered_characteristic.html">DiscoveredCharacteristic</a></div><div class="ttdoc">Representation of a characteristic discovered. </div><div class="ttdef"><b>Definition:</b> <a href="gatt_2_discovered_characteristic_8h_source.html#l00094">gatt/DiscoveredCharacteristic.h:94</a></div></div>
<div class="ttc" id="group__common_html_ggaa7df87806f64f3b241c8cde9eb57cad5abbb64a7440ad9bbd4317ee852737f585"><div class="ttname"><a href="group__common.html#ggaa7df87806f64f3b241c8cde9eb57cad5abbb64a7440ad9bbd4317ee852737f585">BLE_UUID_UNKNOWN</a></div><div class="ttdoc">Reserved UUID. </div><div class="ttdef"><b>Definition:</b> <a href="common_2blecommon_8h_source.html#l00040">common/blecommon.h:40</a></div></div>
<div class="ttc" id="struct_gatt_h_v_x_callback_params_html"><div class="ttname"><a href="struct_gatt_h_v_x_callback_params.html">GattHVXCallbackParams</a></div><div class="ttdoc">Handle Value Notification/Indication event. </div><div class="ttdef"><b>Definition:</b> <a href="gatt_2_gatt_callback_param_types_8h_source.html#l00399">gatt/GattCallbackParamTypes.h:399</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_a76209a98000277b25677e9e81278bef2"><div class="ttname"><a href="classble_1_1_gatt_client.html#a76209a98000277b25677e9e81278bef2">ble::GattClient::ReadCallbackChain_t</a></div><div class="ttdeci">CallChainOfFunctionPointersWithContext&lt; const GattReadCallbackParams * &gt; ReadCallbackChain_t</div><div class="ttdoc">Callchain of attribute read event handlers. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00150">GattClient.h:150</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_a2baafd72d83669d67c59555f74f77d8f"><div class="ttname"><a href="classble_1_1_gatt_client.html#a2baafd72d83669d67c59555f74f77d8f">ble::GattClient::WriteCallbackChain_t</a></div><div class="ttdeci">CallChainOfFunctionPointersWithContext&lt; const GattWriteCallbackParams * &gt; WriteCallbackChain_t</div><div class="ttdoc">Callchain of attribute write event handlers. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00198">GattClient.h:198</a></div></div>
<div class="ttc" id="group__platform___callback_html_ga1104a807bfce1d1dc38e4d1eeba6ed17"><div class="ttname"><a href="group__platform___callback.html#ga1104a807bfce1d1dc38e4d1eeba6ed17">mbed::callback</a></div><div class="ttdeci">Callback&lt; R(ArgTs...)&gt; callback(R(*func)(ArgTs...)=nullptr) noexcept</div><div class="ttdoc">Create a callback class with type inferred from the arguments. </div><div class="ttdef"><b>Definition:</b> <a href="_callback_8h_source.html#l00678">Callback.h:678</a></div></div>
<div class="ttc" id="class_u_u_i_d_html"><div class="ttname"><a href="class_u_u_i_d.html">UUID</a></div><div class="ttdoc">Representation of a Universally Unique Identifier (UUID). </div><div class="ttdef"><b>Definition:</b> <a href="common_2_u_u_i_d_8h_source.html#l00076">common/UUID.h:76</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_a51e224a198fe02e6888c6b8e41e630d3"><div class="ttname"><a href="classble_1_1_gatt_client.html#a51e224a198fe02e6888c6b8e41e630d3">ble::GattClient::HVXCallback_t</a></div><div class="ttdeci">FunctionPointerWithContext&lt; const GattHVXCallbackParams * &gt; HVXCallback_t</div><div class="ttdoc">Handle value notification/indication event handler. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00206">GattClient.h:206</a></div></div>
<div class="ttc" id="class_gatt_attribute_html_a2ffe413dd7b6a0775ebbabc58f8f48d4"><div class="ttname"><a href="class_gatt_attribute.html#a2ffe413dd7b6a0775ebbabc58f8f48d4">GattAttribute::Handle_t</a></div><div class="ttdeci">ble::attribute_handle_t Handle_t</div><div class="ttdoc">Representation of an attribute handle. </div><div class="ttdef"><b>Definition:</b> <a href="gatt_2_gatt_attribute_8h_source.html#l00069">gatt/GattAttribute.h:69</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_a6007d90f1f9e7c2e1b3265ff51a92be0"><div class="ttname"><a href="classble_1_1_gatt_client.html#a6007d90f1f9e7c2e1b3265ff51a92be0">ble::GattClient::WriteCallback_t</a></div><div class="ttdeci">FunctionPointerWithContext&lt; const GattWriteCallbackParams * &gt; WriteCallback_t</div><div class="ttdoc">Attribute write event handler.ble::WriteCallback_t. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00189">GattClient.h:189</a></div></div>
<div class="ttc" id="struct_gatt_write_callback_params_html"><div class="ttname"><a href="struct_gatt_write_callback_params.html">GattWriteCallbackParams</a></div><div class="ttdoc">GATT Write event definition. </div><div class="ttdef"><b>Definition:</b> <a href="gatt_2_gatt_callback_param_types_8h_source.html#l00045">gatt/GattCallbackParamTypes.h:45</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_a43cdbd48655ab64d0e8a5770b6b96cec"><div class="ttname"><a href="classble_1_1_gatt_client.html#a43cdbd48655ab64d0e8a5770b6b96cec">ble::GattClient::onShutdown</a></div><div class="ttdeci">void onShutdown(T *objPtr, void(T::*memberPtr)(const GattClient *))</div><div class="ttdoc">Register a shutdown event handler. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00630">GattClient.h:630</a></div></div>
<div class="ttc" id="class_u_u_i_d_html_a27e142aba5eac40a55bebb300fe19766"><div class="ttname"><a href="class_u_u_i_d.html#a27e142aba5eac40a55bebb300fe19766">UUID::ShortUUIDBytes_t</a></div><div class="ttdeci">uint16_t ShortUUIDBytes_t</div><div class="ttdoc">Type for a 16-bit UUID. </div><div class="ttdef"><b>Definition:</b> <a href="common_2_u_u_i_d_8h_source.html#l00114">common/UUID.h:114</a></div></div>
<div class="ttc" id="struct_gatt_read_callback_params_html"><div class="ttname"><a href="struct_gatt_read_callback_params.html">GattReadCallbackParams</a></div><div class="ttdoc">GATT Read event definition. </div><div class="ttdef"><b>Definition:</b> <a href="gatt_2_gatt_callback_param_types_8h_source.html#l00154">gatt/GattCallbackParamTypes.h:154</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_a5471c5942a59a16d20317a0ce8ddcb3f"><div class="ttname"><a href="classble_1_1_gatt_client.html#a5471c5942a59a16d20317a0ce8ddcb3f">ble::GattClient::WriteOp_t</a></div><div class="ttdeci">WriteOp_t</div><div class="ttdoc">GATT write operations. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00155">GattClient.h:155</a></div></div>
<div class="ttc" id="structble_1_1_gatt_client_1_1_event_handler_html_aa9c423cab92428dabc66cb43b0d94439"><div class="ttname"><a href="structble_1_1_gatt_client_1_1_event_handler.html#aa9c423cab92428dabc66cb43b0d94439">ble::GattClient::EventHandler::onAttMtuChange</a></div><div class="ttdeci">virtual void onAttMtuChange(ble::connection_handle_t connectionHandle, uint16_t attMtuSize)</div><div class="ttdoc">Function invoked when the connections changes the ATT_MTU which controls the maximum size of an attri...</div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00113">GattClient.h:113</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html"><div class="ttname"><a href="classble_1_1_gatt_client.html">ble::GattClient</a></div><div class="ttdoc">Define procedures required for interacting with a distant GATT server. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00097">GattClient.h:97</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_aaa9975786cdc25172afbf5dd7f5bbb5e"><div class="ttname"><a href="classble_1_1_gatt_client.html#aaa9975786cdc25172afbf5dd7f5bbb5e">ble::GattClient::GattClientShutdownCallbackChain_t</a></div><div class="ttdeci">CallChainOfFunctionPointersWithContext&lt; const GattClient * &gt; GattClientShutdownCallbackChain_t</div><div class="ttdoc">Callchain of shutdown event handlers. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00231">GattClient.h:231</a></div></div>
<div class="ttc" id="class_call_chain_of_function_pointers_with_context_html"><div class="ttname"><a href="class_call_chain_of_function_pointers_with_context.html">CallChainOfFunctionPointersWithContext</a></div><div class="ttdoc">Function like object hosting a list of FunctionPointerWithContext. </div><div class="ttdef"><b>Definition:</b> <a href="common_2_call_chain_of_function_pointers_with_context_8h_source.html#l00085">common/CallChainOfFunctionPointersWithContext.h:85</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_a32967ff76e9e87b57e2940311a567e6b"><div class="ttname"><a href="classble_1_1_gatt_client.html#a32967ff76e9e87b57e2940311a567e6b">ble::GattClient::ReadCallback_t</a></div><div class="ttdeci">FunctionPointerWithContext&lt; const GattReadCallbackParams * &gt; ReadCallback_t</div><div class="ttdoc">Attribute read event handler. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00143">GattClient.h:143</a></div></div>
<div class="ttc" id="namespaceble_html"><div class="ttname"><a href="namespaceble.html">ble</a></div><div class="ttdoc">Entry namespace for all BLE API definitions. </div><div class="ttdef"><b>Definition:</b> <a href="_cy_h4_transport_driver_8h_source.html#l00034">CyH4TransportDriver.h:34</a></div></div>
<div class="ttc" id="classble_1_1_gatt_client_html_a402152521fef7b19c324524b88dc2b4f"><div class="ttname"><a href="classble_1_1_gatt_client.html#a402152521fef7b19c324524b88dc2b4f">ble::GattClient::HVXCallbackChain_t</a></div><div class="ttdeci">CallChainOfFunctionPointersWithContext&lt; const GattHVXCallbackParams * &gt; HVXCallbackChain_t</div><div class="ttdoc">Callchain of handle value notification/indication event handlers. </div><div class="ttdef"><b>Definition:</b> <a href="_gatt_client_8h_source.html#l00214">GattClient.h:214</a></div></div>
<div class="ttc" id="group__common_html_ga6fb48b8f40e280c30d2ae3bd0c3712c4"><div class="ttname"><a href="group__common.html#ga6fb48b8f40e280c30d2ae3bd0c3712c4">ble_error_t</a></div><div class="ttdeci">ble_error_t</div><div class="ttdoc">Error codes for the BLE API. </div><div class="ttdef"><b>Definition:</b> <a href="common_2blecommon_8h_source.html#l00149">common/blecommon.h:149</a></div></div>
</div><!-- fragment --></div><!-- contents -->
        
    


        
<footer class="global-footer">
    <ul class="global-footer-media global-footer-row">
        <li>
            <a class="footer-media-icon" title="Twitter" href="https://twitter.com/ArmSoftwareDev">
                <span class="fab fa-twitter-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Twitter</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="YouTube" href="https://www.youtube.com/c/ArmSoftwareDevelopers">
                <span class="fab fa-youtube-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">YouTube</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Forum" href="http://forums.mbed.com/">
                <span class="fas fa-comments fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Forum</span>
            </a>
        </li>
        <li>
            <a class="footer-media-icon" title="Blog" href="http://blog.mbed.com/">
                <span class="fas fa-pen-square fa-2x"></span>
                <span class="global-footer-show-on-large-screens">Blog</span>
            </a>
        </li>
    </ul>

    <div class="global-footer-copyright global-footer-row">
        <div class="copyright-statement">Copyright © <script>document.write(new Date().getFullYear());</script> Arm Limited (or its affiliates).</div>
        <ul class="copyright-links">
            <li><a href="https://os.mbed.com/">Home</a></li>
            <li><a href="https://www.arm.com/company/policies/terms-and-conditions">Website Terms</a></li>
            <li><a href="https://www.arm.com/company/policies/privacy">Privacy</a></li>
            <li><a href="https://www.arm.com/company/policies/cookies">Cookies</a></li>
            <li><a href="http://www.arm.com/company/policies/trademarks">Trademarks</a></li>
        </ul>
    </div>
</footer>



    <div id="cookiemodule">
    <h5>Important Information for this Arm website</h5>
    <div id="cookiecontent">
        <p>
            This site uses cookies to store information on your computer.
            By continuing to use our site, you consent to our cookies.
            If you are not happy with the use of these cookies, please review our
            <a href="https://www.arm.com/company/policies/cookies">Cookie Policy</a>
            to learn how they can be disabled.
            By disabling cookies, some features of the site will not work.
        </p>
        <button id="acceptcookie">Accept and hide this message</button>
    </div>
</div>
<script src="../../../../static/js/cookie_law.js"></script>




    </body>

<!-- Mirrored from os.mbed.com/docs/mbed-os/v6.16/mbed-os-api-doxy/_gatt_client_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Sep 2024 15:23:40 GMT -->
</html>
